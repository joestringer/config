var _d=Object.create;var Qr=Object.defineProperty;var kd=Object.getOwnPropertyDescriptor;var xd=Object.getOwnPropertyNames;var wd=Object.getPrototypeOf,Sd=Object.prototype.hasOwnProperty;var ue=(e,t)=>()=>(e&&(t=e(e=0)),t);var G=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Td=(e,t)=>{for(var n in t)Qr(e,n,{get:t[n],enumerable:!0})},Fc=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xd(t))!Sd.call(e,o)&&o!==n&&Qr(e,o,{get:()=>t[o],enumerable:!(r=kd(t,o))||r.enumerable});return e};var ct=(e,t,n)=>(n=e!=null?_d(wd(e)):{},Fc(t||!e||!e.__esModule?Qr(n,"default",{value:e,enumerable:!0}):n,e)),Zr=e=>Fc(Qr({},"__esModule",{value:!0}),e);var eo=G(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.thenable=qe.typedArray=qe.stringArray=qe.array=qe.func=qe.error=qe.number=qe.string=qe.boolean=void 0;function Pd(e){return e===!0||e===!1}qe.boolean=Pd;function Ic(e){return typeof e=="string"||e instanceof String}qe.string=Ic;function Dd(e){return typeof e=="number"||e instanceof Number}qe.number=Dd;function Rd(e){return e instanceof Error}qe.error=Rd;function $c(e){return typeof e=="function"}qe.func=$c;function Wc(e){return Array.isArray(e)}qe.array=Wc;function Od(e){return Wc(e)&&e.every(t=>Ic(t))}qe.stringArray=Od;function Nd(e,t){return Array.isArray(e)&&e.every(t)}qe.typedArray=Nd;function qd(e){return e&&$c(e.then)}qe.thenable=qd});var Cn=G(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.stringArray=Xe.array=Xe.func=Xe.error=Xe.number=Xe.string=Xe.boolean=void 0;function Ed(e){return e===!0||e===!1}Xe.boolean=Ed;function Vc(e){return typeof e=="string"||e instanceof String}Xe.string=Vc;function Cd(e){return typeof e=="number"||e instanceof Number}Xe.number=Cd;function Md(e){return e instanceof Error}Xe.error=Md;function Ad(e){return typeof e=="function"}Xe.func=Ad;function Hc(e){return Array.isArray(e)}Xe.array=Hc;function jd(e){return Hc(e)&&e.every(t=>Vc(t))}Xe.stringArray=jd});var fs=G(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.Message=Q.NotificationType9=Q.NotificationType8=Q.NotificationType7=Q.NotificationType6=Q.NotificationType5=Q.NotificationType4=Q.NotificationType3=Q.NotificationType2=Q.NotificationType1=Q.NotificationType0=Q.NotificationType=Q.RequestType9=Q.RequestType8=Q.RequestType7=Q.RequestType6=Q.RequestType5=Q.RequestType4=Q.RequestType3=Q.RequestType2=Q.RequestType1=Q.RequestType=Q.RequestType0=Q.AbstractMessageSignature=Q.ParameterStructures=Q.ResponseError=Q.ErrorCodes=void 0;var dn=Cn(),Bc;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Bc=Q.ErrorCodes||(Q.ErrorCodes={}));var dr=class extends Error{constructor(t,n,r){super(n),this.code=dn.number(t)?t:Bc.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,dr.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Q.ResponseError=dr;var Le=class{constructor(t){this.kind=t}static is(t){return t===Le.auto||t===Le.byName||t===Le.byPosition}toString(){return this.kind}};Q.ParameterStructures=Le;Le.auto=new Le("auto");Le.byPosition=new Le("byPosition");Le.byName=new Le("byName");var ve=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Le.auto}};Q.AbstractMessageSignature=ve;var Hi=class extends ve{constructor(t){super(t,0)}};Q.RequestType0=Hi;var Bi=class extends ve{constructor(t,n=Le.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Q.RequestType=Bi;var Ui=class extends ve{constructor(t,n=Le.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Q.RequestType1=Ui;var zi=class extends ve{constructor(t){super(t,2)}};Q.RequestType2=zi;var Ji=class extends ve{constructor(t){super(t,3)}};Q.RequestType3=Ji;var Gi=class extends ve{constructor(t){super(t,4)}};Q.RequestType4=Gi;var Xi=class extends ve{constructor(t){super(t,5)}};Q.RequestType5=Xi;var Ki=class extends ve{constructor(t){super(t,6)}};Q.RequestType6=Ki;var Yi=class extends ve{constructor(t){super(t,7)}};Q.RequestType7=Yi;var Qi=class extends ve{constructor(t){super(t,8)}};Q.RequestType8=Qi;var Zi=class extends ve{constructor(t){super(t,9)}};Q.RequestType9=Zi;var es=class extends ve{constructor(t,n=Le.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Q.NotificationType=es;var ts=class extends ve{constructor(t){super(t,0)}};Q.NotificationType0=ts;var ns=class extends ve{constructor(t,n=Le.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Q.NotificationType1=ns;var rs=class extends ve{constructor(t){super(t,2)}};Q.NotificationType2=rs;var os=class extends ve{constructor(t){super(t,3)}};Q.NotificationType3=os;var is=class extends ve{constructor(t){super(t,4)}};Q.NotificationType4=is;var ss=class extends ve{constructor(t){super(t,5)}};Q.NotificationType5=ss;var as=class extends ve{constructor(t){super(t,6)}};Q.NotificationType6=as;var cs=class extends ve{constructor(t){super(t,7)}};Q.NotificationType7=cs;var us=class extends ve{constructor(t){super(t,8)}};Q.NotificationType8=us;var ls=class extends ve{constructor(t){super(t,9)}};Q.NotificationType9=ls;var Ld;(function(e){function t(o){let i=o;return i&&dn.string(i.method)&&(dn.string(i.id)||dn.number(i.id))}e.isRequest=t;function n(o){let i=o;return i&&dn.string(i.method)&&o.id===void 0}e.isNotification=n;function r(o){let i=o;return i&&(i.result!==void 0||!!i.error)&&(dn.string(i.id)||dn.number(i.id)||i.id===null)}e.isResponse=r})(Ld=Q.Message||(Q.Message={}))});var ps=G(It=>{"use strict";var Uc;Object.defineProperty(It,"__esModule",{value:!0});It.LRUCache=It.LinkedMap=It.Touch=void 0;var Ye;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Ye=It.Touch||(It.Touch={}));var to=class{constructor(){this[Uc]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=Ye.None){let r=this._map.get(t);if(!!r)return n!==Ye.None&&this.touch(r,n),r.value}set(t,n,r=Ye.None){let o=this._map.get(t);if(o)o.value=n,r!==Ye.None&&this.touch(o,r);else{switch(o={key:t,value:n,next:void 0,previous:void 0},r){case Ye.None:this.addItemLast(o);break;case Ye.First:this.addItemFirst(o);break;case Ye.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(t,o),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,o=this._head;for(;o;){if(n?t.bind(n)(o.value,o.key,this):t(o.value,o.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return r}[(Uc=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ye.First&&n!==Ye.Last)){if(n===Ye.First){if(t===this._head)return;let r=t.next,o=t.previous;t===this._tail?(o.next=void 0,this._tail=o):(r.previous=o,o.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===Ye.Last){if(t===this._tail)return;let r=t.next,o=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=o,o.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};It.LinkedMap=to;var ds=class extends to{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=Ye.AsNew){return super.get(t,n)}peek(t){return super.get(t,Ye.None)}set(t,n){return super.set(t,n,Ye.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};It.LRUCache=ds});var zc=G(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.Disposable=void 0;var Fd;(function(e){function t(n){return{dispose:n}}e.create=t})(Fd=pr.Disposable||(pr.Disposable={}))});var Gt=G(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var hs;function gs(){if(hs===void 0)throw new Error("No runtime abstraction layer installed");return hs}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");hs=n}e.install=t})(gs||(gs={}));ms.default=gs});var An=G(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.Emitter=pn.Event=void 0;var Id=Gt(),$d;(function(e){let t={dispose(){}};e.None=function(){return t}})($d=pn.Event||(pn.Event={}));var ys=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let o=0,i=this._callbacks.length;o<i;o++)if(this._callbacks[o]===t)if(this._contexts[o]===n){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,s=r.length;i<s;i++)try{n.push(r[i].apply(o[i],t))}catch(a){(0,Id.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Mn=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new ys),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let o={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,n),o.dispose=Mn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(o),o}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};pn.Emitter=Mn;Mn._noop=function(){}});var ro=G(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.CancellationTokenSource=hn.CancellationToken=void 0;var Wd=Gt(),Vd=Cn(),bs=An(),vs;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:bs.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bs.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||Vd.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(vs=hn.CancellationToken||(hn.CancellationToken={}));var Hd=Object.freeze(function(e,t){let n=(0,Wd.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),no=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Hd:(this._emitter||(this._emitter=new bs.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},_s=class{get token(){return this._token||(this._token=new no),this._token}cancel(){this._token?this._token.cancel():this._token=vs.Cancelled}dispose(){this._token?this._token instanceof no&&this._token.dispose():this._token=vs.None}};hn.CancellationTokenSource=_s});var Jc=G(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.SharedArrayReceiverStrategy=jn.SharedArraySenderStrategy=void 0;var Bd=ro(),hr;(function(e){e.Continue=0,e.Cancelled=1})(hr||(hr={}));var ks=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=hr.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let r=this.buffers.get(n);if(r===void 0)return;let o=new Int32Array(r,0,1);Atomics.store(o,0,hr.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};jn.SharedArraySenderStrategy=ks;var xs=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===hr.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ws=class{constructor(t){this.token=new xs(t)}cancel(){}dispose(){}},Ss=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new Bd.CancellationTokenSource:new ws(n)}};jn.SharedArrayReceiverStrategy=Ss});var Ps=G(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.Semaphore=void 0;var Ud=Gt(),Ts=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ud.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};oo.Semaphore=Ts});var Gc=G($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.ReadableStreamMessageReader=$t.AbstractMessageReader=$t.MessageReader=void 0;var Rs=Gt(),Ln=Cn(),Ds=An(),zd=Ps(),Jd;(function(e){function t(n){let r=n;return r&&Ln.func(r.listen)&&Ln.func(r.dispose)&&Ln.func(r.onError)&&Ln.func(r.onClose)&&Ln.func(r.onPartialMessage)}e.is=t})(Jd=$t.MessageReader||($t.MessageReader={}));var io=class{constructor(){this.errorEmitter=new Ds.Emitter,this.closeEmitter=new Ds.Emitter,this.partialMessageEmitter=new Ds.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ln.string(t.message)?t.message:"unknown"}`)}};$t.AbstractMessageReader=io;var Os;(function(e){function t(n){let r,o,i,s=new Map,a,l=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,s.set(i.name,i)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)s.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,l.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)l.set(c.name,c)}return a===void 0&&(a=(0,Rs.default)().applicationJson.decoder,l.set(a.name,a)),{charset:r,contentDecoder:i,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:l}}e.fromOptions=t})(Os||(Os={}));var Ns=class extends io{constructor(t,n){super(),this.readable=t,this.options=Os.fromOptions(n),this.buffer=(0,Rs.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new zd.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let o=r.get("content-length");if(!o){this.fireError(new Error("Header must provide a Content-Length property."));return}let i=parseInt(o);if(isNaN(i)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=i}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,o=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(o)}).catch(r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Rs.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};$t.ReadableStreamMessageReader=Ns});var Qc=G(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.WriteableStreamMessageWriter=Wt.AbstractMessageWriter=Wt.MessageWriter=void 0;var Xc=Gt(),gr=Cn(),Gd=Ps(),Kc=An(),Xd="Content-Length: ",Yc=`\r
`,Kd;(function(e){function t(n){let r=n;return r&&gr.func(r.dispose)&&gr.func(r.onClose)&&gr.func(r.onError)&&gr.func(r.write)}e.is=t})(Kd=Wt.MessageWriter||(Wt.MessageWriter={}));var so=class{constructor(){this.errorEmitter=new Kc.Emitter,this.closeEmitter=new Kc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${gr.string(t.message)?t.message:"unknown"}`)}};Wt.AbstractMessageWriter=so;var qs;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Xc.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Xc.default)().applicationJson.encoder}}e.fromOptions=t})(qs||(qs={}));var Es=class extends so{constructor(t,n){super(),this.writable=t,this.options=qs.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Gd.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let o=[];return o.push(Xd,r.byteLength.toString(),Yc),o.push(Yc),this.doWrite(t,o,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(o){return this.handleError(o,t),Promise.reject(o)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};Wt.WriteableStreamMessageWriter=Es});var Zc=G(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.AbstractMessageBuffer=void 0;var Yd=13,Qd=10,Zd=`\r
`,Cs=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,o=0,i=0;e:for(;r<this._chunks.length;){let c=this._chunks[r];o=0;t:for(;o<c.length;){switch(c[o]){case Yd:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Qd:switch(n){case 1:n=2;break;case 3:n=4,o++;break e;default:n=0}break;default:n=0}o++}i+=c.byteLength,r++}if(n!==4)return;let s=this._read(i+o),a=new Map,l=this.toString(s,"ascii").split(Zd);if(l.length<2)return a;for(let c=0;c<l.length-2;c++){let d=l[c],f=d.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let m=d.substr(0,f),h=d.substr(f+1).trim();a.set(t?m.toLowerCase():m,h)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let i=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(i)}if(this._chunks[0].byteLength>t){let i=this._chunks[0],s=this.asNative(i,t);return this._chunks[0]=i.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),r=0,o=0;for(;t>0;){let i=this._chunks[o];if(i.byteLength>t){let s=i.slice(0,t);n.set(s,r),r+=t,this._chunks[o]=i.slice(t),this._totalLength-=t,t-=t}else n.set(i,r),r+=i.byteLength,this._chunks.shift(),this._totalLength-=i.byteLength,t-=i.byteLength}return n}};ao.AbstractMessageBuffer=Cs});var su=G(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.createMessageConnection=K.ConnectionOptions=K.MessageStrategy=K.CancellationStrategy=K.CancellationSenderStrategy=K.CancellationReceiverStrategy=K.RequestCancellationReceiverStrategy=K.IdCancellationReceiverStrategy=K.ConnectionStrategy=K.ConnectionError=K.ConnectionErrors=K.LogTraceNotification=K.SetTraceNotification=K.TraceFormat=K.TraceValues=K.Trace=K.NullLogger=K.ProgressType=K.ProgressToken=void 0;var eu=Gt(),ke=Cn(),ee=fs(),tu=ps(),mr=An(),Ms=ro(),br;(function(e){e.type=new ee.NotificationType("$/cancelRequest")})(br||(br={}));var nu;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(nu=K.ProgressToken||(K.ProgressToken={}));var yr;(function(e){e.type=new ee.NotificationType("$/progress")})(yr||(yr={}));var As=class{constructor(){}};K.ProgressType=As;var js;(function(e){function t(n){return ke.func(n)}e.is=t})(js||(js={}));K.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var de;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(de=K.Trace||(K.Trace={}));var ep;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(ep=K.TraceValues||(K.TraceValues={}));(function(e){function t(r){if(!ke.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(de=K.Trace||(K.Trace={}));var bt;(function(e){e.Text="text",e.JSON="json"})(bt=K.TraceFormat||(K.TraceFormat={}));(function(e){function t(n){return ke.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(bt=K.TraceFormat||(K.TraceFormat={}));var ru;(function(e){e.type=new ee.NotificationType("$/setTrace")})(ru=K.SetTraceNotification||(K.SetTraceNotification={}));var Ls;(function(e){e.type=new ee.NotificationType("$/logTrace")})(Ls=K.LogTraceNotification||(K.LogTraceNotification={}));var co;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(co=K.ConnectionErrors||(K.ConnectionErrors={}));var Xt=class extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,Xt.prototype)}};K.ConnectionError=Xt;var ou;(function(e){function t(n){let r=n;return r&&ke.func(r.cancelUndispatched)}e.is=t})(ou=K.ConnectionStrategy||(K.ConnectionStrategy={}));var $s;(function(e){function t(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&ke.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ke.func(r.dispose))}e.is=t})($s=K.IdCancellationReceiverStrategy||(K.IdCancellationReceiverStrategy={}));var iu;(function(e){function t(n){let r=n;return r&&r.kind==="request"&&ke.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ke.func(r.dispose))}e.is=t})(iu=K.RequestCancellationReceiverStrategy||(K.RequestCancellationReceiverStrategy={}));var Fs;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new Ms.CancellationTokenSource}});function t(n){return $s.is(n)||iu.is(n)}e.is=t})(Fs=K.CancellationReceiverStrategy||(K.CancellationReceiverStrategy={}));var Is;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(br.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&ke.func(r.sendCancellation)&&ke.func(r.cleanup)}e.is=t})(Is=K.CancellationSenderStrategy||(K.CancellationSenderStrategy={}));var Ws;(function(e){e.Message=Object.freeze({receiver:Fs.Message,sender:Is.Message});function t(n){let r=n;return r&&Fs.is(r.receiver)&&Is.is(r.sender)}e.is=t})(Ws=K.CancellationStrategy||(K.CancellationStrategy={}));var Vs;(function(e){function t(n){let r=n;return r&&ke.func(r.handleMessage)}e.is=t})(Vs=K.MessageStrategy||(K.MessageStrategy={}));var tp;(function(e){function t(n){let r=n;return r&&(Ws.is(r.cancellationStrategy)||ou.is(r.connectionStrategy)||Vs.is(r.messageStrategy))}e.is=t})(tp=K.ConnectionOptions||(K.ConnectionOptions={}));var vt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(vt||(vt={}));function np(e,t,n,r){let o=n!==void 0?n:K.NullLogger,i=0,s=0,a=0,l="2.0",c,d=new Map,f,m=new Map,h=new Map,g,v=new tu.LinkedMap,S=new Map,T=new Set,y=new Map,u=de.Off,p=bt.Text,_,O=vt.New,N=new mr.Emitter,w=new mr.Emitter,b=new mr.Emitter,x=new mr.Emitter,R=new mr.Emitter,D=r&&r.cancellationStrategy?r.cancellationStrategy:Ws.Message;function q(P){if(P===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+P.toString()}function j(P){return P===null?"res-unknown-"+(++a).toString():"res-"+P.toString()}function W(){return"not-"+(++s).toString()}function M(P,$){ee.Message.isRequest($)?P.set(q($.id),$):ee.Message.isResponse($)?P.set(j($.id),$):P.set(W(),$)}function E(P){}function L(){return O===vt.Listening}function A(){return O===vt.Closed}function I(){return O===vt.Disposed}function H(){(O===vt.New||O===vt.Listening)&&(O=vt.Closed,w.fire(void 0))}function V(P){N.fire([P,void 0,void 0])}function Y(P){N.fire(P)}e.onClose(H),e.onError(V),t.onClose(H),t.onError(Y);function re(){g||v.size===0||(g=(0,eu.default)().timer.setImmediate(()=>{g=void 0,Pe()}))}function he(P){ee.Message.isRequest(P)?yt(P):ee.Message.isNotification(P)?fn(P):ee.Message.isResponse(P)?jt(P):Lt(P)}function Pe(){if(v.size===0)return;let P=v.shift();try{let $=r==null?void 0:r.messageStrategy;Vs.is($)?$.handleMessage(P,he):he(P)}finally{re()}}let Ne=P=>{try{if(ee.Message.isNotification(P)&&P.method===br.type.method){let $=P.params.id,U=q($),X=v.get(U);if(ee.Message.isRequest(X)){let ge=r==null?void 0:r.connectionStrategy,me=ge&&ge.cancelUndispatched?ge.cancelUndispatched(X,E):void 0;if(me&&(me.error!==void 0||me.result!==void 0)){v.delete(U),y.delete($),me.id=X.id,Yr(me,P.method,Date.now()),t.write(me).catch(()=>o.error("Sending response for canceled message failed."));return}}let be=y.get($);if(be!==void 0){be.cancel(),Wi(P);return}else T.add($)}M(v,P)}finally{re()}};function yt(P){if(I())return;function $(ce,_e,fe){let Me={jsonrpc:l,id:P.id};ce instanceof ee.ResponseError?Me.error=ce.toJson():Me.result=ce===void 0?null:ce,Yr(Me,_e,fe),t.write(Me).catch(()=>o.error("Sending response failed."))}function U(ce,_e,fe){let Me={jsonrpc:l,id:P.id,error:ce.toJson()};Yr(Me,_e,fe),t.write(Me).catch(()=>o.error("Sending response failed."))}function X(ce,_e,fe){ce===void 0&&(ce=null);let Me={jsonrpc:l,id:P.id,result:ce};Yr(Me,_e,fe),t.write(Me).catch(()=>o.error("Sending response failed."))}gd(P);let be=d.get(P.method),ge,me;be&&(ge=be.type,me=be.handler);let De=Date.now();if(me||c){let ce=P.id??String(Date.now()),_e=$s.is(D.receiver)?D.receiver.createCancellationTokenSource(ce):D.receiver.createCancellationTokenSource(P);P.id!==null&&T.has(P.id)&&_e.cancel(),P.id!==null&&y.set(ce,_e);try{let fe;if(me)if(P.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){U(new ee.ResponseError(ee.ErrorCodes.InvalidParams,`Request ${P.method} defines ${ge.numberOfParams} params but received none.`),P.method,De);return}fe=me(_e.token)}else if(Array.isArray(P.params)){if(ge!==void 0&&ge.parameterStructures===ee.ParameterStructures.byName){U(new ee.ResponseError(ee.ErrorCodes.InvalidParams,`Request ${P.method} defines parameters by name but received parameters by position`),P.method,De);return}fe=me(...P.params,_e.token)}else{if(ge!==void 0&&ge.parameterStructures===ee.ParameterStructures.byPosition){U(new ee.ResponseError(ee.ErrorCodes.InvalidParams,`Request ${P.method} defines parameters by position but received parameters by name`),P.method,De);return}fe=me(P.params,_e.token)}else c&&(fe=c(P.method,P.params,_e.token));let Me=fe;fe?Me.then?Me.then(Ke=>{y.delete(ce),$(Ke,P.method,De)},Ke=>{y.delete(ce),Ke instanceof ee.ResponseError?U(Ke,P.method,De):Ke&&ke.string(Ke.message)?U(new ee.ResponseError(ee.ErrorCodes.InternalError,`Request ${P.method} failed with message: ${Ke.message}`),P.method,De):U(new ee.ResponseError(ee.ErrorCodes.InternalError,`Request ${P.method} failed unexpectedly without providing any details.`),P.method,De)}):(y.delete(ce),$(fe,P.method,De)):(y.delete(ce),X(fe,P.method,De))}catch(fe){y.delete(ce),fe instanceof ee.ResponseError?$(fe,P.method,De):fe&&ke.string(fe.message)?U(new ee.ResponseError(ee.ErrorCodes.InternalError,`Request ${P.method} failed with message: ${fe.message}`),P.method,De):U(new ee.ResponseError(ee.ErrorCodes.InternalError,`Request ${P.method} failed unexpectedly without providing any details.`),P.method,De)}}else U(new ee.ResponseError(ee.ErrorCodes.MethodNotFound,`Unhandled method ${P.method}`),P.method,De)}function jt(P){if(!I())if(P.id===null)P.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(P.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let $=P.id,U=S.get($);if(md(P,U),U!==void 0){S.delete($);try{if(P.error){let X=P.error;U.reject(new ee.ResponseError(X.code,X.message,X.data))}else if(P.result!==void 0)U.resolve(P.result);else throw new Error("Should never happen.")}catch(X){X.message?o.error(`Response handler '${U.method}' failed with message: ${X.message}`):o.error(`Response handler '${U.method}' failed unexpectedly.`)}}}}function fn(P){if(I())return;let $,U;if(P.method===br.type.method){let X=P.params.id;T.delete(X),Wi(P);return}else{let X=m.get(P.method);X&&(U=X.handler,$=X.type)}if(U||f)try{if(Wi(P),U)if(P.params===void 0)$!==void 0&&$.numberOfParams!==0&&$.parameterStructures!==ee.ParameterStructures.byName&&o.error(`Notification ${P.method} defines ${$.numberOfParams} params but received none.`),U();else if(Array.isArray(P.params)){let X=P.params;P.method===yr.type.method&&X.length===2&&nu.is(X[0])?U({token:X[0],value:X[1]}):($!==void 0&&($.parameterStructures===ee.ParameterStructures.byName&&o.error(`Notification ${P.method} defines parameters by name but received parameters by position`),$.numberOfParams!==P.params.length&&o.error(`Notification ${P.method} defines ${$.numberOfParams} params but received ${X.length} arguments`)),U(...X))}else $!==void 0&&$.parameterStructures===ee.ParameterStructures.byPosition&&o.error(`Notification ${P.method} defines parameters by position but received parameters by name`),U(P.params);else f&&f(P.method,P.params)}catch(X){X.message?o.error(`Notification handler '${P.method}' failed with message: ${X.message}`):o.error(`Notification handler '${P.method}' failed unexpectedly.`)}else b.fire(P)}function Lt(P){if(!P){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(P,null,4)}`);let $=P;if(ke.string($.id)||ke.number($.id)){let U=$.id,X=S.get(U);X&&X.reject(new Error("The received response has neither a result nor an error property."))}}function $e(P){if(P!=null)switch(u){case de.Verbose:return JSON.stringify(P,null,4);case de.Compact:return JSON.stringify(P);default:return}}function Ft(P){if(!(u===de.Off||!_))if(p===bt.Text){let $;(u===de.Verbose||u===de.Compact)&&P.params&&($=`Params: ${$e(P.params)}

`),_.log(`Sending request '${P.method} - (${P.id})'.`,$)}else qn("send-request",P)}function ur(P){if(!(u===de.Off||!_))if(p===bt.Text){let $;(u===de.Verbose||u===de.Compact)&&(P.params?$=`Params: ${$e(P.params)}

`:$=`No parameters provided.

`),_.log(`Sending notification '${P.method}'.`,$)}else qn("send-notification",P)}function Yr(P,$,U){if(!(u===de.Off||!_))if(p===bt.Text){let X;(u===de.Verbose||u===de.Compact)&&(P.error&&P.error.data?X=`Error data: ${$e(P.error.data)}

`:P.result?X=`Result: ${$e(P.result)}

`:P.error===void 0&&(X=`No result returned.

`)),_.log(`Sending response '${$} - (${P.id})'. Processing request took ${Date.now()-U}ms`,X)}else qn("send-response",P)}function gd(P){if(!(u===de.Off||!_))if(p===bt.Text){let $;(u===de.Verbose||u===de.Compact)&&P.params&&($=`Params: ${$e(P.params)}

`),_.log(`Received request '${P.method} - (${P.id})'.`,$)}else qn("receive-request",P)}function Wi(P){if(!(u===de.Off||!_||P.method===Ls.type.method))if(p===bt.Text){let $;(u===de.Verbose||u===de.Compact)&&(P.params?$=`Params: ${$e(P.params)}

`:$=`No parameters provided.

`),_.log(`Received notification '${P.method}'.`,$)}else qn("receive-notification",P)}function md(P,$){if(!(u===de.Off||!_))if(p===bt.Text){let U;if((u===de.Verbose||u===de.Compact)&&(P.error&&P.error.data?U=`Error data: ${$e(P.error.data)}

`:P.result?U=`Result: ${$e(P.result)}

`:P.error===void 0&&(U=`No result returned.

`)),$){let X=P.error?` Request failed: ${P.error.message} (${P.error.code}).`:"";_.log(`Received response '${$.method} - (${P.id})' in ${Date.now()-$.timerStart}ms.${X}`,U)}else _.log(`Received response ${P.id} without active response promise.`,U)}else qn("receive-response",P)}function qn(P,$){if(!_||u===de.Off)return;let U={isLSPMessage:!0,type:P,message:$,timestamp:Date.now()};_.log(U)}function lr(){if(A())throw new Xt(co.Closed,"Connection is closed.");if(I())throw new Xt(co.Disposed,"Connection is disposed.")}function yd(){if(L())throw new Xt(co.AlreadyListening,"Connection is already listening")}function bd(){if(!L())throw new Error("Call listen() first.")}function fr(P){return P===void 0?null:P}function Ac(P){if(P!==null)return P}function jc(P){return P!=null&&!Array.isArray(P)&&typeof P=="object"}function Vi(P,$){switch(P){case ee.ParameterStructures.auto:return jc($)?Ac($):[fr($)];case ee.ParameterStructures.byName:if(!jc($))throw new Error("Received parameters by name but param is not an object literal.");return Ac($);case ee.ParameterStructures.byPosition:return[fr($)];default:throw new Error(`Unknown parameter structure ${P.toString()}`)}}function Lc(P,$){let U,X=P.numberOfParams;switch(X){case 0:U=void 0;break;case 1:U=Vi(P.parameterStructures,$[0]);break;default:U=[];for(let be=0;be<$.length&&be<X;be++)U.push(fr($[be]));if($.length<X)for(let be=$.length;be<X;be++)U.push(null);break}return U}let En={sendNotification:(P,...$)=>{lr();let U,X;if(ke.string(P)){U=P;let ge=$[0],me=0,De=ee.ParameterStructures.auto;ee.ParameterStructures.is(ge)&&(me=1,De=ge);let ce=$.length,_e=ce-me;switch(_e){case 0:X=void 0;break;case 1:X=Vi(De,$[me]);break;default:if(De===ee.ParameterStructures.byName)throw new Error(`Received ${_e} parameters for 'by Name' notification parameter structure.`);X=$.slice(me,ce).map(fe=>fr(fe));break}}else{let ge=$;U=P.method,X=Lc(P,ge)}let be={jsonrpc:l,method:U,params:X};return ur(be),t.write(be).catch(ge=>{throw o.error("Sending notification failed."),ge})},onNotification:(P,$)=>{lr();let U;return ke.func(P)?f=P:$&&(ke.string(P)?(U=P,m.set(P,{type:void 0,handler:$})):(U=P.method,m.set(P.method,{type:P,handler:$}))),{dispose:()=>{U!==void 0?m.delete(U):f=void 0}}},onProgress:(P,$,U)=>{if(h.has($))throw new Error(`Progress handler for token ${$} already registered`);return h.set($,U),{dispose:()=>{h.delete($)}}},sendProgress:(P,$,U)=>En.sendNotification(yr.type,{token:$,value:U}),onUnhandledProgress:x.event,sendRequest:(P,...$)=>{lr(),bd();let U,X,be;if(ke.string(P)){U=P;let ce=$[0],_e=$[$.length-1],fe=0,Me=ee.ParameterStructures.auto;ee.ParameterStructures.is(ce)&&(fe=1,Me=ce);let Ke=$.length;Ms.CancellationToken.is(_e)&&(Ke=Ke-1,be=_e);let Rt=Ke-fe;switch(Rt){case 0:X=void 0;break;case 1:X=Vi(Me,$[fe]);break;default:if(Me===ee.ParameterStructures.byName)throw new Error(`Received ${Rt} parameters for 'by Name' request parameter structure.`);X=$.slice(fe,Ke).map(vd=>fr(vd));break}}else{let ce=$;U=P.method,X=Lc(P,ce);let _e=P.numberOfParams;be=Ms.CancellationToken.is(ce[_e])?ce[_e]:void 0}let ge=i++,me;be&&(me=be.onCancellationRequested(()=>{let ce=D.sender.sendCancellation(En,ge);return ce===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ce.catch(()=>{o.log(`Sending cancellation messages for id ${ge} failed`)})}));let De={jsonrpc:l,id:ge,method:U,params:X};return Ft(De),typeof D.sender.enableCancellation=="function"&&D.sender.enableCancellation(De),new Promise(async(ce,_e)=>{let fe=Rt=>{ce(Rt),D.sender.cleanup(ge),me==null||me.dispose()},Me=Rt=>{_e(Rt),D.sender.cleanup(ge),me==null||me.dispose()},Ke={method:U,timerStart:Date.now(),resolve:fe,reject:Me};try{await t.write(De),S.set(ge,Ke)}catch(Rt){throw o.error("Sending request failed."),Ke.reject(new ee.ResponseError(ee.ErrorCodes.MessageWriteError,Rt.message?Rt.message:"Unknown reason")),Rt}})},onRequest:(P,$)=>{lr();let U=null;return js.is(P)?(U=void 0,c=P):ke.string(P)?(U=null,$!==void 0&&(U=P,d.set(P,{handler:$,type:void 0}))):$!==void 0&&(U=P.method,d.set(P.method,{type:P,handler:$})),{dispose:()=>{U!==null&&(U!==void 0?d.delete(U):c=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(P,$,U)=>{let X=!1,be=bt.Text;U!==void 0&&(ke.boolean(U)?X=U:(X=U.sendNotification||!1,be=U.traceFormat||bt.Text)),u=P,p=be,u===de.Off?_=void 0:_=$,X&&!A()&&!I()&&await En.sendNotification(ru.type,{value:de.toString(P)})},onError:N.event,onClose:w.event,onUnhandledNotification:b.event,onDispose:R.event,end:()=>{t.end()},dispose:()=>{if(I())return;O=vt.Disposed,R.fire(void 0);let P=new ee.ResponseError(ee.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let $ of S.values())$.reject(P);S=new Map,y=new Map,T=new Set,v=new tu.LinkedMap,ke.func(t.dispose)&&t.dispose(),ke.func(e.dispose)&&e.dispose()},listen:()=>{lr(),yd(),O=vt.Listening,e.listen(Ne)},inspect:()=>{(0,eu.default)().console.log("inspect")}};return En.onNotification(Ls.type,P=>{if(u===de.Off||!_)return;let $=u===de.Verbose||u===de.Compact;_.log(P.message,$?P.verbose:void 0)}),En.onNotification(yr.type,P=>{let $=h.get(P.token);$?$(P.value):x.fire(P)}),En}K.createMessageConnection=np});var uo=G(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.ProgressType=F.ProgressToken=F.createMessageConnection=F.NullLogger=F.ConnectionOptions=F.ConnectionStrategy=F.AbstractMessageBuffer=F.WriteableStreamMessageWriter=F.AbstractMessageWriter=F.MessageWriter=F.ReadableStreamMessageReader=F.AbstractMessageReader=F.MessageReader=F.SharedArrayReceiverStrategy=F.SharedArraySenderStrategy=F.CancellationToken=F.CancellationTokenSource=F.Emitter=F.Event=F.Disposable=F.LRUCache=F.Touch=F.LinkedMap=F.ParameterStructures=F.NotificationType9=F.NotificationType8=F.NotificationType7=F.NotificationType6=F.NotificationType5=F.NotificationType4=F.NotificationType3=F.NotificationType2=F.NotificationType1=F.NotificationType0=F.NotificationType=F.ErrorCodes=F.ResponseError=F.RequestType9=F.RequestType8=F.RequestType7=F.RequestType6=F.RequestType5=F.RequestType4=F.RequestType3=F.RequestType2=F.RequestType1=F.RequestType0=F.RequestType=F.Message=F.RAL=void 0;F.MessageStrategy=F.CancellationStrategy=F.CancellationSenderStrategy=F.CancellationReceiverStrategy=F.ConnectionError=F.ConnectionErrors=F.LogTraceNotification=F.SetTraceNotification=F.TraceFormat=F.TraceValues=F.Trace=void 0;var ye=fs();Object.defineProperty(F,"Message",{enumerable:!0,get:function(){return ye.Message}});Object.defineProperty(F,"RequestType",{enumerable:!0,get:function(){return ye.RequestType}});Object.defineProperty(F,"RequestType0",{enumerable:!0,get:function(){return ye.RequestType0}});Object.defineProperty(F,"RequestType1",{enumerable:!0,get:function(){return ye.RequestType1}});Object.defineProperty(F,"RequestType2",{enumerable:!0,get:function(){return ye.RequestType2}});Object.defineProperty(F,"RequestType3",{enumerable:!0,get:function(){return ye.RequestType3}});Object.defineProperty(F,"RequestType4",{enumerable:!0,get:function(){return ye.RequestType4}});Object.defineProperty(F,"RequestType5",{enumerable:!0,get:function(){return ye.RequestType5}});Object.defineProperty(F,"RequestType6",{enumerable:!0,get:function(){return ye.RequestType6}});Object.defineProperty(F,"RequestType7",{enumerable:!0,get:function(){return ye.RequestType7}});Object.defineProperty(F,"RequestType8",{enumerable:!0,get:function(){return ye.RequestType8}});Object.defineProperty(F,"RequestType9",{enumerable:!0,get:function(){return ye.RequestType9}});Object.defineProperty(F,"ResponseError",{enumerable:!0,get:function(){return ye.ResponseError}});Object.defineProperty(F,"ErrorCodes",{enumerable:!0,get:function(){return ye.ErrorCodes}});Object.defineProperty(F,"NotificationType",{enumerable:!0,get:function(){return ye.NotificationType}});Object.defineProperty(F,"NotificationType0",{enumerable:!0,get:function(){return ye.NotificationType0}});Object.defineProperty(F,"NotificationType1",{enumerable:!0,get:function(){return ye.NotificationType1}});Object.defineProperty(F,"NotificationType2",{enumerable:!0,get:function(){return ye.NotificationType2}});Object.defineProperty(F,"NotificationType3",{enumerable:!0,get:function(){return ye.NotificationType3}});Object.defineProperty(F,"NotificationType4",{enumerable:!0,get:function(){return ye.NotificationType4}});Object.defineProperty(F,"NotificationType5",{enumerable:!0,get:function(){return ye.NotificationType5}});Object.defineProperty(F,"NotificationType6",{enumerable:!0,get:function(){return ye.NotificationType6}});Object.defineProperty(F,"NotificationType7",{enumerable:!0,get:function(){return ye.NotificationType7}});Object.defineProperty(F,"NotificationType8",{enumerable:!0,get:function(){return ye.NotificationType8}});Object.defineProperty(F,"NotificationType9",{enumerable:!0,get:function(){return ye.NotificationType9}});Object.defineProperty(F,"ParameterStructures",{enumerable:!0,get:function(){return ye.ParameterStructures}});var Hs=ps();Object.defineProperty(F,"LinkedMap",{enumerable:!0,get:function(){return Hs.LinkedMap}});Object.defineProperty(F,"LRUCache",{enumerable:!0,get:function(){return Hs.LRUCache}});Object.defineProperty(F,"Touch",{enumerable:!0,get:function(){return Hs.Touch}});var rp=zc();Object.defineProperty(F,"Disposable",{enumerable:!0,get:function(){return rp.Disposable}});var au=An();Object.defineProperty(F,"Event",{enumerable:!0,get:function(){return au.Event}});Object.defineProperty(F,"Emitter",{enumerable:!0,get:function(){return au.Emitter}});var cu=ro();Object.defineProperty(F,"CancellationTokenSource",{enumerable:!0,get:function(){return cu.CancellationTokenSource}});Object.defineProperty(F,"CancellationToken",{enumerable:!0,get:function(){return cu.CancellationToken}});var uu=Jc();Object.defineProperty(F,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return uu.SharedArraySenderStrategy}});Object.defineProperty(F,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return uu.SharedArrayReceiverStrategy}});var Bs=Gc();Object.defineProperty(F,"MessageReader",{enumerable:!0,get:function(){return Bs.MessageReader}});Object.defineProperty(F,"AbstractMessageReader",{enumerable:!0,get:function(){return Bs.AbstractMessageReader}});Object.defineProperty(F,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Bs.ReadableStreamMessageReader}});var Us=Qc();Object.defineProperty(F,"MessageWriter",{enumerable:!0,get:function(){return Us.MessageWriter}});Object.defineProperty(F,"AbstractMessageWriter",{enumerable:!0,get:function(){return Us.AbstractMessageWriter}});Object.defineProperty(F,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Us.WriteableStreamMessageWriter}});var op=Zc();Object.defineProperty(F,"AbstractMessageBuffer",{enumerable:!0,get:function(){return op.AbstractMessageBuffer}});var We=su();Object.defineProperty(F,"ConnectionStrategy",{enumerable:!0,get:function(){return We.ConnectionStrategy}});Object.defineProperty(F,"ConnectionOptions",{enumerable:!0,get:function(){return We.ConnectionOptions}});Object.defineProperty(F,"NullLogger",{enumerable:!0,get:function(){return We.NullLogger}});Object.defineProperty(F,"createMessageConnection",{enumerable:!0,get:function(){return We.createMessageConnection}});Object.defineProperty(F,"ProgressToken",{enumerable:!0,get:function(){return We.ProgressToken}});Object.defineProperty(F,"ProgressType",{enumerable:!0,get:function(){return We.ProgressType}});Object.defineProperty(F,"Trace",{enumerable:!0,get:function(){return We.Trace}});Object.defineProperty(F,"TraceValues",{enumerable:!0,get:function(){return We.TraceValues}});Object.defineProperty(F,"TraceFormat",{enumerable:!0,get:function(){return We.TraceFormat}});Object.defineProperty(F,"SetTraceNotification",{enumerable:!0,get:function(){return We.SetTraceNotification}});Object.defineProperty(F,"LogTraceNotification",{enumerable:!0,get:function(){return We.LogTraceNotification}});Object.defineProperty(F,"ConnectionErrors",{enumerable:!0,get:function(){return We.ConnectionErrors}});Object.defineProperty(F,"ConnectionError",{enumerable:!0,get:function(){return We.ConnectionError}});Object.defineProperty(F,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return We.CancellationReceiverStrategy}});Object.defineProperty(F,"CancellationSenderStrategy",{enumerable:!0,get:function(){return We.CancellationSenderStrategy}});Object.defineProperty(F,"CancellationStrategy",{enumerable:!0,get:function(){return We.CancellationStrategy}});Object.defineProperty(F,"MessageStrategy",{enumerable:!0,get:function(){return We.MessageStrategy}});var ip=Gt();F.RAL=ip.default});var du=G(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var lu=require("util"),Vt=uo(),Fn=class extends Vt.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Fn.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new lu.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Fn.emptyBuffer=Buffer.allocUnsafe(0);var zs=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Vt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Vt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Vt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Vt.Disposable.create(()=>this.stream.off("data",t))}},Js=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Vt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Vt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Vt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,o)=>{let i=s=>{s==null?r():o(s)};typeof t=="string"?this.stream.write(t,n,i):this.stream.write(t,i)})}end(){this.stream.end()}},fu=Object.freeze({messageBuffer:Object.freeze({create:e=>new Fn(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new lu.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new zs(e),asWritableStream:e=>new Js(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Gs(){return fu}(function(e){function t(){Vt.RAL.install(fu)}e.install=t})(Gs||(Gs={}));Xs.default=Gs});var yn=G(se=>{"use strict";var sp=se&&se.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ap=se&&se.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&sp(t,e,n)};Object.defineProperty(se,"__esModule",{value:!0});se.createMessageConnection=se.createServerSocketTransport=se.createClientSocketTransport=se.createServerPipeTransport=se.createClientPipeTransport=se.generateRandomPipeName=se.StreamMessageWriter=se.StreamMessageReader=se.SocketMessageWriter=se.SocketMessageReader=se.PortMessageWriter=se.PortMessageReader=se.IPCMessageWriter=se.IPCMessageReader=void 0;var In=du();In.default.install();var pu=require("path"),cp=require("os"),up=require("crypto"),po=require("net"),rt=uo();ap(uo(),se);var Ks=class extends rt.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),rt.Disposable.create(()=>this.process.off("message",t))}};se.IPCMessageReader=Ks;var Ys=class extends rt.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};se.IPCMessageWriter=Ys;var Qs=class extends rt.AbstractMessageReader{constructor(t){super(),this.onData=new rt.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};se.PortMessageReader=Qs;var Zs=class extends rt.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};se.PortMessageWriter=Zs;var gn=class extends rt.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,In.default)().stream.asReadableStream(t),n)}};se.SocketMessageReader=gn;var mn=class extends rt.WriteableStreamMessageWriter{constructor(t,n){super((0,In.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};se.SocketMessageWriter=mn;var lo=class extends rt.ReadableStreamMessageReader{constructor(t,n){super((0,In.default)().stream.asReadableStream(t),n)}};se.StreamMessageReader=lo;var fo=class extends rt.WriteableStreamMessageWriter{constructor(t,n){super((0,In.default)().stream.asWritableStream(t),n)}};se.StreamMessageWriter=fo;var hu=process.env.XDG_RUNTIME_DIR,lp=new Map([["linux",107],["darwin",103]]);function fp(){let e=(0,up.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;hu?t=pu.join(hu,`vscode-ipc-${e}.sock`):t=pu.join(cp.tmpdir(),`vscode-${e}.sock`);let n=lp.get(process.platform);return n!==void 0&&t.length>n&&(0,In.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}se.generateRandomPipeName=fp;function dp(e,t="utf-8"){let n,r=new Promise((o,i)=>{n=o});return new Promise((o,i)=>{let s=(0,po.createServer)(a=>{s.close(),n([new gn(a,t),new mn(a,t)])});s.on("error",i),s.listen(e,()=>{s.removeListener("error",i),o({onConnected:()=>r})})})}se.createClientPipeTransport=dp;function pp(e,t="utf-8"){let n=(0,po.createConnection)(e);return[new gn(n,t),new mn(n,t)]}se.createServerPipeTransport=pp;function hp(e,t="utf-8"){let n,r=new Promise((o,i)=>{n=o});return new Promise((o,i)=>{let s=(0,po.createServer)(a=>{s.close(),n([new gn(a,t),new mn(a,t)])});s.on("error",i),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",i),o({onConnected:()=>r})})})}se.createClientSocketTransport=hp;function gp(e,t="utf-8"){let n=(0,po.createConnection)(e,"127.0.0.1");return[new gn(n,t),new mn(n,t)]}se.createServerSocketTransport=gp;function mp(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function yp(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function bp(e,t,n,r){n||(n=rt.NullLogger);let o=mp(e)?new lo(e):e,i=yp(t)?new fo(t):t;return rt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,rt.createMessageConnection)(o,i,n,r)}se.createMessageConnection=bp});var ea=G((hb,gu)=>{"use strict";gu.exports=yn()});var Ao={};Td(Ao,{AnnotatedTextEdit:()=>Ht,ChangeAnnotation:()=>bn,ChangeAnnotationIdentifier:()=>Ve,CodeAction:()=>qo,CodeActionContext:()=>No,CodeActionKind:()=>Oo,CodeActionTriggerKind:()=>wr,CodeDescription:()=>oa,CodeLens:()=>ha,Color:()=>_r,ColorInformation:()=>yo,ColorPresentation:()=>bo,Command:()=>Yt,CompletionItem:()=>Bn,CompletionItemKind:()=>Be,CompletionItemLabelDetails:()=>ua,CompletionItemTag:()=>xo,CompletionList:()=>wo,CreateFile:()=>Wn,DeleteFile:()=>Hn,Diagnostic:()=>ot,DiagnosticRelatedInformation:()=>_o,DiagnosticSeverity:()=>He,DiagnosticTag:()=>ra,DocumentHighlight:()=>Po,DocumentHighlightKind:()=>To,DocumentLink:()=>Eo,DocumentSymbol:()=>Ro,DocumentUri:()=>go,EOL:()=>_p,FoldingRange:()=>vo,FoldingRangeKind:()=>Kt,FormattingOptions:()=>ga,Hover:()=>So,InlayHint:()=>wa,InlayHintKind:()=>Co,InlayHintLabelPart:()=>Mo,InlineValueContext:()=>xa,InlineValueEvaluatableExpression:()=>ka,InlineValueText:()=>va,InlineValueVariableLookup:()=>_a,InsertReplaceEdit:()=>aa,InsertTextFormat:()=>xe,InsertTextMode:()=>ca,Location:()=>Bt,LocationLink:()=>na,MarkedString:()=>Un,MarkupContent:()=>vn,MarkupKind:()=>Ot,OptionalVersionedTextDocumentIdentifier:()=>xr,ParameterInformation:()=>la,Position:()=>pe,Range:()=>Z,RenameFile:()=>Vn,SelectionRange:()=>_n,SemanticTokenModifiers:()=>ya,SemanticTokenTypes:()=>ma,SemanticTokens:()=>ba,SignatureInformation:()=>fa,SymbolInformation:()=>Do,SymbolKind:()=>it,SymbolTag:()=>da,TextDocument:()=>Ta,TextDocumentEdit:()=>$n,TextDocumentIdentifier:()=>ia,TextDocumentItem:()=>sa,TextEdit:()=>Ae,URI:()=>mo,VersionedTextDocumentIdentifier:()=>ko,WorkspaceChange:()=>vp,WorkspaceEdit:()=>kr,WorkspaceFolder:()=>Sa,WorkspaceSymbol:()=>pa,integer:()=>ta,uinteger:()=>vr});var go,mo,ta,vr,pe,Z,Bt,na,_r,yo,bo,Kt,vo,_o,He,ra,oa,ot,Yt,Ae,bn,Ve,Ht,$n,Wn,Vn,Hn,kr,ho,mu,vp,ia,ko,xr,sa,Ot,vn,Be,xe,xo,aa,ca,ua,Bn,wo,Un,So,la,fa,To,Po,it,da,Do,pa,Ro,Oo,wr,No,qo,ha,ga,Eo,_n,ma,ya,ba,va,_a,ka,xa,Co,Mo,wa,Sa,_p,Ta,kp,C,Sr=ue(()=>{"use strict";(function(e){function t(n){return typeof n=="string"}e.is=t})(go||(go={}));(function(e){function t(n){return typeof n=="string"}e.is=t})(mo||(mo={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(ta||(ta={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(vr||(vr={}));(function(e){function t(r,o){return r===Number.MAX_VALUE&&(r=vr.MAX_VALUE),o===Number.MAX_VALUE&&(o=vr.MAX_VALUE),{line:r,character:o}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&C.uinteger(o.line)&&C.uinteger(o.character)}e.is=n})(pe||(pe={}));(function(e){function t(r,o,i,s){if(C.uinteger(r)&&C.uinteger(o)&&C.uinteger(i)&&C.uinteger(s))return{start:pe.create(r,o),end:pe.create(i,s)};if(pe.is(r)&&pe.is(o))return{start:r,end:o};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(o,", ").concat(i,", ").concat(s,"]"))}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&pe.is(o.start)&&pe.is(o.end)}e.is=n})(Z||(Z={}));(function(e){function t(r,o){return{uri:r,range:o}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&Z.is(o.range)&&(C.string(o.uri)||C.undefined(o.uri))}e.is=n})(Bt||(Bt={}));(function(e){function t(r,o,i,s){return{targetUri:r,targetRange:o,targetSelectionRange:i,originSelectionRange:s}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&Z.is(o.targetRange)&&C.string(o.targetUri)&&Z.is(o.targetSelectionRange)&&(Z.is(o.originSelectionRange)||C.undefined(o.originSelectionRange))}e.is=n})(na||(na={}));(function(e){function t(r,o,i,s){return{red:r,green:o,blue:i,alpha:s}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&C.numberRange(o.red,0,1)&&C.numberRange(o.green,0,1)&&C.numberRange(o.blue,0,1)&&C.numberRange(o.alpha,0,1)}e.is=n})(_r||(_r={}));(function(e){function t(r,o){return{range:r,color:o}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&Z.is(o.range)&&_r.is(o.color)}e.is=n})(yo||(yo={}));(function(e){function t(r,o,i){return{label:r,textEdit:o,additionalTextEdits:i}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&C.string(o.label)&&(C.undefined(o.textEdit)||Ae.is(o))&&(C.undefined(o.additionalTextEdits)||C.typedArray(o.additionalTextEdits,Ae.is))}e.is=n})(bo||(bo={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Kt||(Kt={}));(function(e){function t(r,o,i,s,a,l){var c={startLine:r,endLine:o};return C.defined(i)&&(c.startCharacter=i),C.defined(s)&&(c.endCharacter=s),C.defined(a)&&(c.kind=a),C.defined(l)&&(c.collapsedText=l),c}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&C.uinteger(o.startLine)&&C.uinteger(o.startLine)&&(C.undefined(o.startCharacter)||C.uinteger(o.startCharacter))&&(C.undefined(o.endCharacter)||C.uinteger(o.endCharacter))&&(C.undefined(o.kind)||C.string(o.kind))}e.is=n})(vo||(vo={}));(function(e){function t(r,o){return{location:r,message:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&Bt.is(o.location)&&C.string(o.message)}e.is=n})(_o||(_o={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(He||(He={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(ra||(ra={}));(function(e){function t(n){var r=n;return C.objectLiteral(r)&&C.string(r.href)}e.is=t})(oa||(oa={}));(function(e){function t(r,o,i,s,a,l){var c={range:r,message:o};return C.defined(i)&&(c.severity=i),C.defined(s)&&(c.code=s),C.defined(a)&&(c.source=a),C.defined(l)&&(c.relatedInformation=l),c}e.create=t;function n(r){var o,i=r;return C.defined(i)&&Z.is(i.range)&&C.string(i.message)&&(C.number(i.severity)||C.undefined(i.severity))&&(C.integer(i.code)||C.string(i.code)||C.undefined(i.code))&&(C.undefined(i.codeDescription)||C.string((o=i.codeDescription)===null||o===void 0?void 0:o.href))&&(C.string(i.source)||C.undefined(i.source))&&(C.undefined(i.relatedInformation)||C.typedArray(i.relatedInformation,_o.is))}e.is=n})(ot||(ot={}));(function(e){function t(r,o){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a={title:r,command:o};return C.defined(i)&&i.length>0&&(a.arguments=i),a}e.create=t;function n(r){var o=r;return C.defined(o)&&C.string(o.title)&&C.string(o.command)}e.is=n})(Yt||(Yt={}));(function(e){function t(i,s){return{range:i,newText:s}}e.replace=t;function n(i,s){return{range:{start:i,end:i},newText:s}}e.insert=n;function r(i){return{range:i,newText:""}}e.del=r;function o(i){var s=i;return C.objectLiteral(s)&&C.string(s.newText)&&Z.is(s.range)}e.is=o})(Ae||(Ae={}));(function(e){function t(r,o,i){var s={label:r};return o!==void 0&&(s.needsConfirmation=o),i!==void 0&&(s.description=i),s}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&C.string(o.label)&&(C.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(C.string(o.description)||o.description===void 0)}e.is=n})(bn||(bn={}));(function(e){function t(n){var r=n;return C.string(r)}e.is=t})(Ve||(Ve={}));(function(e){function t(i,s,a){return{range:i,newText:s,annotationId:a}}e.replace=t;function n(i,s,a){return{range:{start:i,end:i},newText:s,annotationId:a}}e.insert=n;function r(i,s){return{range:i,newText:"",annotationId:s}}e.del=r;function o(i){var s=i;return Ae.is(s)&&(bn.is(s.annotationId)||Ve.is(s.annotationId))}e.is=o})(Ht||(Ht={}));(function(e){function t(r,o){return{textDocument:r,edits:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&xr.is(o.textDocument)&&Array.isArray(o.edits)}e.is=n})($n||($n={}));(function(e){function t(r,o,i){var s={kind:"create",uri:r};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(s.options=o),i!==void 0&&(s.annotationId=i),s}e.create=t;function n(r){var o=r;return o&&o.kind==="create"&&C.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||C.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||C.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Ve.is(o.annotationId))}e.is=n})(Wn||(Wn={}));(function(e){function t(r,o,i,s){var a={kind:"rename",oldUri:r,newUri:o};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}e.create=t;function n(r){var o=r;return o&&o.kind==="rename"&&C.string(o.oldUri)&&C.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||C.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||C.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Ve.is(o.annotationId))}e.is=n})(Vn||(Vn={}));(function(e){function t(r,o,i){var s={kind:"delete",uri:r};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(s.options=o),i!==void 0&&(s.annotationId=i),s}e.create=t;function n(r){var o=r;return o&&o.kind==="delete"&&C.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||C.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||C.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||Ve.is(o.annotationId))}e.is=n})(Hn||(Hn={}));(function(e){function t(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(o){return C.string(o.kind)?Wn.is(o)||Vn.is(o)||Hn.is(o):$n.is(o)}))}e.is=t})(kr||(kr={}));ho=function(){function e(t,n){this.edits=t,this.changeAnnotations=n}return e.prototype.insert=function(t,n,r){var o,i;if(r===void 0?o=Ae.insert(t,n):Ve.is(r)?(i=r,o=Ht.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),o=Ht.insert(t,n,i)),this.edits.push(o),i!==void 0)return i},e.prototype.replace=function(t,n,r){var o,i;if(r===void 0?o=Ae.replace(t,n):Ve.is(r)?(i=r,o=Ht.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),o=Ht.replace(t,n,i)),this.edits.push(o),i!==void 0)return i},e.prototype.delete=function(t,n){var r,o;if(n===void 0?r=Ae.del(t):Ve.is(n)?(o=n,r=Ht.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=Ht.del(t,o)),this.edits.push(r),o!==void 0)return o},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),mu=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,n){var r;if(Ve.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),vp=function(){function e(t){var n=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new mu(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if($n.is(r)){var o=new ho(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=o}})):t.changes&&Object.keys(t.changes).forEach(function(r){var o=new ho(t.changes[r]);n._textEditChanges[r]=o})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(xr.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){var o=[],i={textDocument:n,edits:o};this._workspaceEdit.documentChanges.push(i),r=new ho(o,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var o=[];this._workspaceEdit.changes[t]=o,r=new ho(o),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new mu,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;bn.is(n)||Ve.is(n)?o=n:r=n;var i,s;if(o===void 0?i=Wn.create(t,r):(s=Ve.is(o)?o:this._changeAnnotations.manage(o),i=Wn.create(t,r,s)),this._workspaceEdit.documentChanges.push(i),s!==void 0)return s},e.prototype.renameFile=function(t,n,r,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;bn.is(r)||Ve.is(r)?i=r:o=r;var s,a;if(i===void 0?s=Vn.create(t,n,o):(a=Ve.is(i)?i:this._changeAnnotations.manage(i),s=Vn.create(t,n,o,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a},e.prototype.deleteFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;bn.is(n)||Ve.is(n)?o=n:r=n;var i,s;if(o===void 0?i=Hn.create(t,r):(s=Ve.is(o)?o:this._changeAnnotations.manage(o),i=Hn.create(t,r,s)),this._workspaceEdit.documentChanges.push(i),s!==void 0)return s},e}();(function(e){function t(r){return{uri:r}}e.create=t;function n(r){var o=r;return C.defined(o)&&C.string(o.uri)}e.is=n})(ia||(ia={}));(function(e){function t(r,o){return{uri:r,version:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&C.string(o.uri)&&C.integer(o.version)}e.is=n})(ko||(ko={}));(function(e){function t(r,o){return{uri:r,version:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&C.string(o.uri)&&(o.version===null||C.integer(o.version))}e.is=n})(xr||(xr={}));(function(e){function t(r,o,i,s){return{uri:r,languageId:o,version:i,text:s}}e.create=t;function n(r){var o=r;return C.defined(o)&&C.string(o.uri)&&C.string(o.languageId)&&C.integer(o.version)&&C.string(o.text)}e.is=n})(sa||(sa={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){var r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Ot||(Ot={}));(function(e){function t(n){var r=n;return C.objectLiteral(n)&&Ot.is(r.kind)&&C.string(r.value)}e.is=t})(vn||(vn={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Be||(Be={}));(function(e){e.PlainText=1,e.Snippet=2})(xe||(xe={}));(function(e){e.Deprecated=1})(xo||(xo={}));(function(e){function t(r,o,i){return{newText:r,insert:o,replace:i}}e.create=t;function n(r){var o=r;return o&&C.string(o.newText)&&Z.is(o.insert)&&Z.is(o.replace)}e.is=n})(aa||(aa={}));(function(e){e.asIs=1,e.adjustIndentation=2})(ca||(ca={}));(function(e){function t(n){var r=n;return r&&(C.string(r.detail)||r.detail===void 0)&&(C.string(r.description)||r.description===void 0)}e.is=t})(ua||(ua={}));(function(e){function t(n){return{label:n}}e.create=t})(Bn||(Bn={}));(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(wo||(wo={}));(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){var o=r;return C.string(o)||C.objectLiteral(o)&&C.string(o.language)&&C.string(o.value)}e.is=n})(Un||(Un={}));(function(e){function t(n){var r=n;return!!r&&C.objectLiteral(r)&&(vn.is(r.contents)||Un.is(r.contents)||C.typedArray(r.contents,Un.is))&&(n.range===void 0||Z.is(n.range))}e.is=t})(So||(So={}));(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(la||(la={}));(function(e){function t(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var s={label:n};return C.defined(r)&&(s.documentation=r),C.defined(o)?s.parameters=o:s.parameters=[],s}e.create=t})(fa||(fa={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(To||(To={}));(function(e){function t(n,r){var o={range:n};return C.number(r)&&(o.kind=r),o}e.create=t})(Po||(Po={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(it||(it={}));(function(e){e.Deprecated=1})(da||(da={}));(function(e){function t(n,r,o,i,s){var a={name:n,kind:r,location:{uri:i,range:o}};return s&&(a.containerName=s),a}e.create=t})(Do||(Do={}));(function(e){function t(n,r,o,i){return i!==void 0?{name:n,kind:r,location:{uri:o,range:i}}:{name:n,kind:r,location:{uri:o}}}e.create=t})(pa||(pa={}));(function(e){function t(r,o,i,s,a,l){var c={name:r,detail:o,kind:i,range:s,selectionRange:a};return l!==void 0&&(c.children=l),c}e.create=t;function n(r){var o=r;return o&&C.string(o.name)&&C.number(o.kind)&&Z.is(o.range)&&Z.is(o.selectionRange)&&(o.detail===void 0||C.string(o.detail))&&(o.deprecated===void 0||C.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}e.is=n})(Ro||(Ro={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Oo||(Oo={}));(function(e){e.Invoked=1,e.Automatic=2})(wr||(wr={}));(function(e){function t(r,o,i){var s={diagnostics:r};return o!=null&&(s.only=o),i!=null&&(s.triggerKind=i),s}e.create=t;function n(r){var o=r;return C.defined(o)&&C.typedArray(o.diagnostics,ot.is)&&(o.only===void 0||C.typedArray(o.only,C.string))&&(o.triggerKind===void 0||o.triggerKind===wr.Invoked||o.triggerKind===wr.Automatic)}e.is=n})(No||(No={}));(function(e){function t(r,o,i){var s={title:r},a=!0;return typeof o=="string"?(a=!1,s.kind=o):Yt.is(o)?s.command=o:s.edit=o,a&&i!==void 0&&(s.kind=i),s}e.create=t;function n(r){var o=r;return o&&C.string(o.title)&&(o.diagnostics===void 0||C.typedArray(o.diagnostics,ot.is))&&(o.kind===void 0||C.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||Yt.is(o.command))&&(o.isPreferred===void 0||C.boolean(o.isPreferred))&&(o.edit===void 0||kr.is(o.edit))}e.is=n})(qo||(qo={}));(function(e){function t(r,o){var i={range:r};return C.defined(o)&&(i.data=o),i}e.create=t;function n(r){var o=r;return C.defined(o)&&Z.is(o.range)&&(C.undefined(o.command)||Yt.is(o.command))}e.is=n})(ha||(ha={}));(function(e){function t(r,o){return{tabSize:r,insertSpaces:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&C.uinteger(o.tabSize)&&C.boolean(o.insertSpaces)}e.is=n})(ga||(ga={}));(function(e){function t(r,o,i){return{range:r,target:o,data:i}}e.create=t;function n(r){var o=r;return C.defined(o)&&Z.is(o.range)&&(C.undefined(o.target)||C.string(o.target))}e.is=n})(Eo||(Eo={}));(function(e){function t(r,o){return{range:r,parent:o}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&Z.is(o.range)&&(o.parent===void 0||e.is(o.parent))}e.is=n})(_n||(_n={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ma||(ma={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ya||(ya={}));(function(e){function t(n){var r=n;return C.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(ba||(ba={}));(function(e){function t(r,o){return{range:r,text:o}}e.create=t;function n(r){var o=r;return o!=null&&Z.is(o.range)&&C.string(o.text)}e.is=n})(va||(va={}));(function(e){function t(r,o,i){return{range:r,variableName:o,caseSensitiveLookup:i}}e.create=t;function n(r){var o=r;return o!=null&&Z.is(o.range)&&C.boolean(o.caseSensitiveLookup)&&(C.string(o.variableName)||o.variableName===void 0)}e.is=n})(_a||(_a={}));(function(e){function t(r,o){return{range:r,expression:o}}e.create=t;function n(r){var o=r;return o!=null&&Z.is(o.range)&&(C.string(o.expression)||o.expression===void 0)}e.is=n})(ka||(ka={}));(function(e){function t(r,o){return{frameId:r,stoppedLocation:o}}e.create=t;function n(r){var o=r;return C.defined(o)&&Z.is(r.stoppedLocation)}e.is=n})(xa||(xa={}));(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Co||(Co={}));(function(e){function t(r){return{value:r}}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&(o.tooltip===void 0||C.string(o.tooltip)||vn.is(o.tooltip))&&(o.location===void 0||Bt.is(o.location))&&(o.command===void 0||Yt.is(o.command))}e.is=n})(Mo||(Mo={}));(function(e){function t(r,o,i){var s={position:r,label:o};return i!==void 0&&(s.kind=i),s}e.create=t;function n(r){var o=r;return C.objectLiteral(o)&&pe.is(o.position)&&(C.string(o.label)||C.typedArray(o.label,Mo.is))&&(o.kind===void 0||Co.is(o.kind))&&o.textEdits===void 0||C.typedArray(o.textEdits,Ae.is)&&(o.tooltip===void 0||C.string(o.tooltip)||vn.is(o.tooltip))&&(o.paddingLeft===void 0||C.boolean(o.paddingLeft))&&(o.paddingRight===void 0||C.boolean(o.paddingRight))}e.is=n})(wa||(wa={}));(function(e){function t(n){var r=n;return C.objectLiteral(r)&&mo.is(r.uri)&&C.string(r.name)}e.is=t})(Sa||(Sa={}));_p=[`
`,`\r
`,"\r"];(function(e){function t(i,s,a,l){return new kp(i,s,a,l)}e.create=t;function n(i){var s=i;return!!(C.defined(s)&&C.string(s.uri)&&(C.undefined(s.languageId)||C.string(s.languageId))&&C.uinteger(s.lineCount)&&C.func(s.getText)&&C.func(s.positionAt)&&C.func(s.offsetAt))}e.is=n;function r(i,s){for(var a=i.getText(),l=o(s,function(g,v){var S=g.range.start.line-v.range.start.line;return S===0?g.range.start.character-v.range.start.character:S}),c=a.length,d=l.length-1;d>=0;d--){var f=l[d],m=i.offsetAt(f.range.start),h=i.offsetAt(f.range.end);if(h<=c)a=a.substring(0,m)+f.newText+a.substring(h,a.length);else throw new Error("Overlapping edit");c=m}return a}e.applyEdits=r;function o(i,s){if(i.length<=1)return i;var a=i.length/2|0,l=i.slice(0,a),c=i.slice(a);o(l,s),o(c,s);for(var d=0,f=0,m=0;d<l.length&&f<c.length;){var h=s(l[d],c[f]);h<=0?i[m++]=l[d++]:i[m++]=c[f++]}for(;d<l.length;)i[m++]=l[d++];for(;f<c.length;)i[m++]=c[f++];return i}})(Ta||(Ta={}));kp=function(){function e(t,n,r,o){this._uri=t,this._languageId=n,this._version=r,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],n=this._content,r=!0,o=0;o<n.length;o++){r&&(t.push(o),r=!1);var i=n.charAt(o);r=i==="\r"||i===`
`,i==="\r"&&o+1<n.length&&n.charAt(o+1)===`
`&&o++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,o=n.length;if(o===0)return pe.create(0,t);for(;r<o;){var i=Math.floor((r+o)/2);n[i]>t?o=i:r=i+1}var s=r-1;return pe.create(s,t-n[s])},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],o=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,o),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function n(h){return typeof h<"u"}e.defined=n;function r(h){return typeof h>"u"}e.undefined=r;function o(h){return h===!0||h===!1}e.boolean=o;function i(h){return t.call(h)==="[object String]"}e.string=i;function s(h){return t.call(h)==="[object Number]"}e.number=s;function a(h,g,v){return t.call(h)==="[object Number]"&&g<=h&&h<=v}e.numberRange=a;function l(h){return t.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}e.integer=l;function c(h){return t.call(h)==="[object Number]"&&0<=h&&h<=2147483647}e.uinteger=c;function d(h){return t.call(h)==="[object Function]"}e.func=d;function f(h){return h!==null&&typeof h=="object"}e.objectLiteral=f;function m(h,g){return Array.isArray(h)&&h.every(g)}e.typedArray=m})(C||(C={}))});var we=G(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.ProtocolNotificationType=Qe.ProtocolNotificationType0=Qe.ProtocolRequestType=Qe.ProtocolRequestType0=Qe.RegistrationType=Qe.MessageDirection=void 0;var zn=yn(),xp;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(xp=Qe.MessageDirection||(Qe.MessageDirection={}));var Pa=class{constructor(t){this.method=t}};Qe.RegistrationType=Pa;var Da=class extends zn.RequestType0{constructor(t){super(t)}};Qe.ProtocolRequestType0=Da;var Ra=class extends zn.RequestType{constructor(t){super(t,zn.ParameterStructures.byName)}};Qe.ProtocolRequestType=Ra;var Oa=class extends zn.NotificationType0{constructor(t){super(t)}};Qe.ProtocolNotificationType0=Oa;var Na=class extends zn.NotificationType{constructor(t){super(t,zn.ParameterStructures.byName)}};Qe.ProtocolNotificationType=Na});var jo=G(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.objectLiteral=Ee.typedArray=Ee.stringArray=Ee.array=Ee.func=Ee.error=Ee.number=Ee.string=Ee.boolean=void 0;function wp(e){return e===!0||e===!1}Ee.boolean=wp;function yu(e){return typeof e=="string"||e instanceof String}Ee.string=yu;function Sp(e){return typeof e=="number"||e instanceof Number}Ee.number=Sp;function Tp(e){return e instanceof Error}Ee.error=Tp;function Pp(e){return typeof e=="function"}Ee.func=Pp;function bu(e){return Array.isArray(e)}Ee.array=bu;function Dp(e){return bu(e)&&e.every(t=>yu(t))}Ee.stringArray=Dp;function Rp(e,t){return Array.isArray(e)&&e.every(t)}Ee.typedArray=Rp;function Op(e){return e!==null&&typeof e=="object"}Ee.objectLiteral=Op});var _u=G(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ImplementationRequest=void 0;var vu=we(),Np;(function(e){e.method="textDocument/implementation",e.messageDirection=vu.MessageDirection.clientToServer,e.type=new vu.ProtocolRequestType(e.method)})(Np=Tr.ImplementationRequest||(Tr.ImplementationRequest={}))});var xu=G(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.TypeDefinitionRequest=void 0;var ku=we(),qp;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=ku.MessageDirection.clientToServer,e.type=new ku.ProtocolRequestType(e.method)})(qp=Pr.TypeDefinitionRequest||(Pr.TypeDefinitionRequest={}))});var wu=G(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.DidChangeWorkspaceFoldersNotification=Qt.WorkspaceFoldersRequest=void 0;var Lo=we(),Ep;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Lo.MessageDirection.serverToClient,e.type=new Lo.ProtocolRequestType0(e.method)})(Ep=Qt.WorkspaceFoldersRequest||(Qt.WorkspaceFoldersRequest={}));var Cp;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Lo.MessageDirection.clientToServer,e.type=new Lo.ProtocolNotificationType(e.method)})(Cp=Qt.DidChangeWorkspaceFoldersNotification||(Qt.DidChangeWorkspaceFoldersNotification={}))});var Tu=G(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ConfigurationRequest=void 0;var Su=we(),Mp;(function(e){e.method="workspace/configuration",e.messageDirection=Su.MessageDirection.serverToClient,e.type=new Su.ProtocolRequestType(e.method)})(Mp=Dr.ConfigurationRequest||(Dr.ConfigurationRequest={}))});var Pu=G(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.ColorPresentationRequest=Zt.DocumentColorRequest=void 0;var Fo=we(),Ap;(function(e){e.method="textDocument/documentColor",e.messageDirection=Fo.MessageDirection.clientToServer,e.type=new Fo.ProtocolRequestType(e.method)})(Ap=Zt.DocumentColorRequest||(Zt.DocumentColorRequest={}));var jp;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Fo.MessageDirection.clientToServer,e.type=new Fo.ProtocolRequestType(e.method)})(jp=Zt.ColorPresentationRequest||(Zt.ColorPresentationRequest={}))});var Ru=G(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.FoldingRangeRequest=void 0;var Du=we(),Lp;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Du.MessageDirection.clientToServer,e.type=new Du.ProtocolRequestType(e.method)})(Lp=Rr.FoldingRangeRequest||(Rr.FoldingRangeRequest={}))});var Nu=G(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.DeclarationRequest=void 0;var Ou=we(),Fp;(function(e){e.method="textDocument/declaration",e.messageDirection=Ou.MessageDirection.clientToServer,e.type=new Ou.ProtocolRequestType(e.method)})(Fp=Or.DeclarationRequest||(Or.DeclarationRequest={}))});var Eu=G(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.SelectionRangeRequest=void 0;var qu=we(),Ip;(function(e){e.method="textDocument/selectionRange",e.messageDirection=qu.MessageDirection.clientToServer,e.type=new qu.ProtocolRequestType(e.method)})(Ip=Nr.SelectionRangeRequest||(Nr.SelectionRangeRequest={}))});var Cu=G(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.WorkDoneProgressCancelNotification=_t.WorkDoneProgressCreateRequest=_t.WorkDoneProgress=void 0;var $p=yn(),Io=we(),Wp;(function(e){e.type=new $p.ProgressType;function t(n){return n===e.type}e.is=t})(Wp=_t.WorkDoneProgress||(_t.WorkDoneProgress={}));var Vp;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Io.MessageDirection.serverToClient,e.type=new Io.ProtocolRequestType(e.method)})(Vp=_t.WorkDoneProgressCreateRequest||(_t.WorkDoneProgressCreateRequest={}));var Hp;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Io.MessageDirection.clientToServer,e.type=new Io.ProtocolNotificationType(e.method)})(Hp=_t.WorkDoneProgressCancelNotification||(_t.WorkDoneProgressCancelNotification={}))});var Mu=G(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.CallHierarchyOutgoingCallsRequest=kt.CallHierarchyIncomingCallsRequest=kt.CallHierarchyPrepareRequest=void 0;var Jn=we(),Bp;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method)})(Bp=kt.CallHierarchyPrepareRequest||(kt.CallHierarchyPrepareRequest={}));var Up;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method)})(Up=kt.CallHierarchyIncomingCallsRequest||(kt.CallHierarchyIncomingCallsRequest={}));var zp;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method)})(zp=kt.CallHierarchyOutgoingCallsRequest||(kt.CallHierarchyOutgoingCallsRequest={}))});var Au=G(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.SemanticTokensRefreshRequest=Ce.SemanticTokensRangeRequest=Ce.SemanticTokensDeltaRequest=Ce.SemanticTokensRequest=Ce.SemanticTokensRegistrationType=Ce.TokenFormat=void 0;var Ut=we(),Jp;(function(e){e.Relative="relative"})(Jp=Ce.TokenFormat||(Ce.TokenFormat={}));var $o;(function(e){e.method="textDocument/semanticTokens",e.type=new Ut.RegistrationType(e.method)})($o=Ce.SemanticTokensRegistrationType||(Ce.SemanticTokensRegistrationType={}));var Gp;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Ut.MessageDirection.clientToServer,e.type=new Ut.ProtocolRequestType(e.method),e.registrationMethod=$o.method})(Gp=Ce.SemanticTokensRequest||(Ce.SemanticTokensRequest={}));var Xp;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Ut.MessageDirection.clientToServer,e.type=new Ut.ProtocolRequestType(e.method),e.registrationMethod=$o.method})(Xp=Ce.SemanticTokensDeltaRequest||(Ce.SemanticTokensDeltaRequest={}));var Kp;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Ut.MessageDirection.clientToServer,e.type=new Ut.ProtocolRequestType(e.method),e.registrationMethod=$o.method})(Kp=Ce.SemanticTokensRangeRequest||(Ce.SemanticTokensRangeRequest={}));var Yp;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Ut.MessageDirection.serverToClient,e.type=new Ut.ProtocolRequestType0(e.method)})(Yp=Ce.SemanticTokensRefreshRequest||(Ce.SemanticTokensRefreshRequest={}))});var Lu=G(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.ShowDocumentRequest=void 0;var ju=we(),Qp;(function(e){e.method="window/showDocument",e.messageDirection=ju.MessageDirection.serverToClient,e.type=new ju.ProtocolRequestType(e.method)})(Qp=qr.ShowDocumentRequest||(qr.ShowDocumentRequest={}))});var Iu=G(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.LinkedEditingRangeRequest=void 0;var Fu=we(),Zp;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Fu.MessageDirection.clientToServer,e.type=new Fu.ProtocolRequestType(e.method)})(Zp=Er.LinkedEditingRangeRequest||(Er.LinkedEditingRangeRequest={}))});var $u=G(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.WillDeleteFilesRequest=Se.DidDeleteFilesNotification=Se.DidRenameFilesNotification=Se.WillRenameFilesRequest=Se.DidCreateFilesNotification=Se.WillCreateFilesRequest=Se.FileOperationPatternKind=void 0;var ut=we(),eh;(function(e){e.file="file",e.folder="folder"})(eh=Se.FileOperationPatternKind||(Se.FileOperationPatternKind={}));var th;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolRequestType(e.method)})(th=Se.WillCreateFilesRequest||(Se.WillCreateFilesRequest={}));var nh;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolNotificationType(e.method)})(nh=Se.DidCreateFilesNotification||(Se.DidCreateFilesNotification={}));var rh;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolRequestType(e.method)})(rh=Se.WillRenameFilesRequest||(Se.WillRenameFilesRequest={}));var oh;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolNotificationType(e.method)})(oh=Se.DidRenameFilesNotification||(Se.DidRenameFilesNotification={}));var ih;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolNotificationType(e.method)})(ih=Se.DidDeleteFilesNotification||(Se.DidDeleteFilesNotification={}));var sh;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=ut.MessageDirection.clientToServer,e.type=new ut.ProtocolRequestType(e.method)})(sh=Se.WillDeleteFilesRequest||(Se.WillDeleteFilesRequest={}))});var Vu=G(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.MonikerRequest=xt.MonikerKind=xt.UniquenessLevel=void 0;var Wu=we(),ah;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(ah=xt.UniquenessLevel||(xt.UniquenessLevel={}));var ch;(function(e){e.$import="import",e.$export="export",e.local="local"})(ch=xt.MonikerKind||(xt.MonikerKind={}));var uh;(function(e){e.method="textDocument/moniker",e.messageDirection=Wu.MessageDirection.clientToServer,e.type=new Wu.ProtocolRequestType(e.method)})(uh=xt.MonikerRequest||(xt.MonikerRequest={}))});var Hu=G(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.TypeHierarchySubtypesRequest=wt.TypeHierarchySupertypesRequest=wt.TypeHierarchyPrepareRequest=void 0;var Gn=we(),lh;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolRequestType(e.method)})(lh=wt.TypeHierarchyPrepareRequest||(wt.TypeHierarchyPrepareRequest={}));var fh;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolRequestType(e.method)})(fh=wt.TypeHierarchySupertypesRequest||(wt.TypeHierarchySupertypesRequest={}));var dh;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Gn.MessageDirection.clientToServer,e.type=new Gn.ProtocolRequestType(e.method)})(dh=wt.TypeHierarchySubtypesRequest||(wt.TypeHierarchySubtypesRequest={}))});var Bu=G(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.InlineValueRefreshRequest=en.InlineValueRequest=void 0;var Wo=we(),ph;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Wo.MessageDirection.clientToServer,e.type=new Wo.ProtocolRequestType(e.method)})(ph=en.InlineValueRequest||(en.InlineValueRequest={}));var hh;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Wo.MessageDirection.serverToClient,e.type=new Wo.ProtocolRequestType0(e.method)})(hh=en.InlineValueRefreshRequest||(en.InlineValueRefreshRequest={}))});var Uu=G(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.InlayHintRefreshRequest=St.InlayHintResolveRequest=St.InlayHintRequest=void 0;var Xn=we(),gh;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Xn.MessageDirection.clientToServer,e.type=new Xn.ProtocolRequestType(e.method)})(gh=St.InlayHintRequest||(St.InlayHintRequest={}));var mh;(function(e){e.method="inlayHint/resolve",e.messageDirection=Xn.MessageDirection.clientToServer,e.type=new Xn.ProtocolRequestType(e.method)})(mh=St.InlayHintResolveRequest||(St.InlayHintResolveRequest={}));var yh;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Xn.MessageDirection.serverToClient,e.type=new Xn.ProtocolRequestType0(e.method)})(yh=St.InlayHintRefreshRequest||(St.InlayHintRefreshRequest={}))});var Ju=G(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.DiagnosticRefreshRequest=Ue.WorkspaceDiagnosticRequest=Ue.DocumentDiagnosticRequest=Ue.DocumentDiagnosticReportKind=Ue.DiagnosticServerCancellationData=void 0;var zu=yn(),bh=jo(),Kn=we(),vh;(function(e){function t(n){let r=n;return r&&bh.boolean(r.retriggerRequest)}e.is=t})(vh=Ue.DiagnosticServerCancellationData||(Ue.DiagnosticServerCancellationData={}));var _h;(function(e){e.Full="full",e.Unchanged="unchanged"})(_h=Ue.DocumentDiagnosticReportKind||(Ue.DocumentDiagnosticReportKind={}));var kh;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Kn.MessageDirection.clientToServer,e.type=new Kn.ProtocolRequestType(e.method),e.partialResult=new zu.ProgressType})(kh=Ue.DocumentDiagnosticRequest||(Ue.DocumentDiagnosticRequest={}));var xh;(function(e){e.method="workspace/diagnostic",e.messageDirection=Kn.MessageDirection.clientToServer,e.type=new Kn.ProtocolRequestType(e.method),e.partialResult=new zu.ProgressType})(xh=Ue.WorkspaceDiagnosticRequest||(Ue.WorkspaceDiagnosticRequest={}));var wh;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Kn.MessageDirection.serverToClient,e.type=new Kn.ProtocolRequestType0(e.method)})(wh=Ue.DiagnosticRefreshRequest||(Ue.DiagnosticRefreshRequest={}))});var Ku=G(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.DidCloseNotebookDocumentNotification=le.DidSaveNotebookDocumentNotification=le.DidChangeNotebookDocumentNotification=le.NotebookCellArrayChange=le.DidOpenNotebookDocumentNotification=le.NotebookDocumentSyncRegistrationType=le.NotebookDocument=le.NotebookCell=le.ExecutionSummary=le.NotebookCellKind=void 0;var Cr=(Sr(),Zr(Ao)),Tt=jo(),Nt=we(),Gu;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(Gu=le.NotebookCellKind||(le.NotebookCellKind={}));var Xu;(function(e){function t(o,i){let s={executionOrder:o};return(i===!0||i===!1)&&(s.success=i),s}e.create=t;function n(o){let i=o;return Tt.objectLiteral(i)&&Cr.uinteger.is(i.executionOrder)&&(i.success===void 0||Tt.boolean(i.success))}e.is=n;function r(o,i){return o===i?!0:o==null||i===null||i===void 0?!1:o.executionOrder===i.executionOrder&&o.success===i.success}e.equals=r})(Xu=le.ExecutionSummary||(le.ExecutionSummary={}));var qa;(function(e){function t(i,s){return{kind:i,document:s}}e.create=t;function n(i){let s=i;return Tt.objectLiteral(s)&&Gu.is(s.kind)&&Cr.DocumentUri.is(s.document)&&(s.metadata===void 0||Tt.objectLiteral(s.metadata))}e.is=n;function r(i,s){let a=new Set;return i.document!==s.document&&a.add("document"),i.kind!==s.kind&&a.add("kind"),i.executionSummary!==s.executionSummary&&a.add("executionSummary"),(i.metadata!==void 0||s.metadata!==void 0)&&!o(i.metadata,s.metadata)&&a.add("metadata"),(i.executionSummary!==void 0||s.executionSummary!==void 0)&&!Xu.equals(i.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=r;function o(i,s){if(i===s)return!0;if(i==null||s===null||s===void 0||typeof i!=typeof s||typeof i!="object")return!1;let a=Array.isArray(i),l=Array.isArray(s);if(a!==l)return!1;if(a&&l){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++)if(!o(i[c],s[c]))return!1}if(Tt.objectLiteral(i)&&Tt.objectLiteral(s)){let c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length||(c.sort(),d.sort(),!o(c,d)))return!1;for(let f=0;f<c.length;f++){let m=c[f];if(!o(i[m],s[m]))return!1}}return!0}})(qa=le.NotebookCell||(le.NotebookCell={}));var Sh;(function(e){function t(r,o,i,s){return{uri:r,notebookType:o,version:i,cells:s}}e.create=t;function n(r){let o=r;return Tt.objectLiteral(o)&&Tt.string(o.uri)&&Cr.integer.is(o.version)&&Tt.typedArray(o.cells,qa.is)}e.is=n})(Sh=le.NotebookDocument||(le.NotebookDocument={}));var Mr;(function(e){e.method="notebookDocument/sync",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.RegistrationType(e.method)})(Mr=le.NotebookDocumentSyncRegistrationType||(le.NotebookDocumentSyncRegistrationType={}));var Th;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolNotificationType(e.method),e.registrationMethod=Mr.method})(Th=le.DidOpenNotebookDocumentNotification||(le.DidOpenNotebookDocumentNotification={}));var Ph;(function(e){function t(r){let o=r;return Tt.objectLiteral(o)&&Cr.uinteger.is(o.start)&&Cr.uinteger.is(o.deleteCount)&&(o.cells===void 0||Tt.typedArray(o.cells,qa.is))}e.is=t;function n(r,o,i){let s={start:r,deleteCount:o};return i!==void 0&&(s.cells=i),s}e.create=n})(Ph=le.NotebookCellArrayChange||(le.NotebookCellArrayChange={}));var Dh;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolNotificationType(e.method),e.registrationMethod=Mr.method})(Dh=le.DidChangeNotebookDocumentNotification||(le.DidChangeNotebookDocumentNotification={}));var Rh;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolNotificationType(e.method),e.registrationMethod=Mr.method})(Rh=le.DidSaveNotebookDocumentNotification||(le.DidSaveNotebookDocumentNotification={}));var Oh;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolNotificationType(e.method),e.registrationMethod=Mr.method})(Oh=le.DidCloseNotebookDocumentNotification||(le.DidCloseNotebookDocumentNotification={}))});var il=G(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.WorkspaceSymbolRequest=k.CodeActionResolveRequest=k.CodeActionRequest=k.DocumentSymbolRequest=k.DocumentHighlightRequest=k.ReferencesRequest=k.DefinitionRequest=k.SignatureHelpRequest=k.SignatureHelpTriggerKind=k.HoverRequest=k.CompletionResolveRequest=k.CompletionRequest=k.CompletionTriggerKind=k.PublishDiagnosticsNotification=k.WatchKind=k.RelativePattern=k.FileChangeType=k.DidChangeWatchedFilesNotification=k.WillSaveTextDocumentWaitUntilRequest=k.WillSaveTextDocumentNotification=k.TextDocumentSaveReason=k.DidSaveTextDocumentNotification=k.DidCloseTextDocumentNotification=k.DidChangeTextDocumentNotification=k.TextDocumentContentChangeEvent=k.DidOpenTextDocumentNotification=k.TextDocumentSyncKind=k.TelemetryEventNotification=k.LogMessageNotification=k.ShowMessageRequest=k.ShowMessageNotification=k.MessageType=k.DidChangeConfigurationNotification=k.ExitNotification=k.ShutdownRequest=k.InitializedNotification=k.InitializeErrorCodes=k.InitializeRequest=k.WorkDoneProgressOptions=k.TextDocumentRegistrationOptions=k.StaticRegistrationOptions=k.PositionEncodingKind=k.FailureHandlingKind=k.ResourceOperationKind=k.UnregistrationRequest=k.RegistrationRequest=k.DocumentSelector=k.NotebookCellTextDocumentFilter=k.NotebookDocumentFilter=k.TextDocumentFilter=void 0;k.TypeHierarchySubtypesRequest=k.TypeHierarchyPrepareRequest=k.MonikerRequest=k.MonikerKind=k.UniquenessLevel=k.WillDeleteFilesRequest=k.DidDeleteFilesNotification=k.WillRenameFilesRequest=k.DidRenameFilesNotification=k.WillCreateFilesRequest=k.DidCreateFilesNotification=k.FileOperationPatternKind=k.LinkedEditingRangeRequest=k.ShowDocumentRequest=k.SemanticTokensRegistrationType=k.SemanticTokensRefreshRequest=k.SemanticTokensRangeRequest=k.SemanticTokensDeltaRequest=k.SemanticTokensRequest=k.TokenFormat=k.CallHierarchyPrepareRequest=k.CallHierarchyOutgoingCallsRequest=k.CallHierarchyIncomingCallsRequest=k.WorkDoneProgressCancelNotification=k.WorkDoneProgressCreateRequest=k.WorkDoneProgress=k.SelectionRangeRequest=k.DeclarationRequest=k.FoldingRangeRequest=k.ColorPresentationRequest=k.DocumentColorRequest=k.ConfigurationRequest=k.DidChangeWorkspaceFoldersNotification=k.WorkspaceFoldersRequest=k.TypeDefinitionRequest=k.ImplementationRequest=k.ApplyWorkspaceEditRequest=k.ExecuteCommandRequest=k.PrepareRenameRequest=k.RenameRequest=k.PrepareSupportDefaultBehavior=k.DocumentOnTypeFormattingRequest=k.DocumentRangeFormattingRequest=k.DocumentFormattingRequest=k.DocumentLinkResolveRequest=k.DocumentLinkRequest=k.CodeLensRefreshRequest=k.CodeLensResolveRequest=k.CodeLensRequest=k.WorkspaceSymbolResolveRequest=void 0;k.DidCloseNotebookDocumentNotification=k.DidSaveNotebookDocumentNotification=k.DidChangeNotebookDocumentNotification=k.NotebookCellArrayChange=k.DidOpenNotebookDocumentNotification=k.NotebookDocumentSyncRegistrationType=k.NotebookDocument=k.NotebookCell=k.ExecutionSummary=k.NotebookCellKind=k.DiagnosticRefreshRequest=k.WorkspaceDiagnosticRequest=k.DocumentDiagnosticRequest=k.DocumentDiagnosticReportKind=k.DiagnosticServerCancellationData=k.InlayHintRefreshRequest=k.InlayHintResolveRequest=k.InlayHintRequest=k.InlineValueRefreshRequest=k.InlineValueRequest=k.TypeHierarchySupertypesRequest=void 0;var B=we(),Yu=(Sr(),Zr(Ao)),ze=jo(),Nh=_u();Object.defineProperty(k,"ImplementationRequest",{enumerable:!0,get:function(){return Nh.ImplementationRequest}});var qh=xu();Object.defineProperty(k,"TypeDefinitionRequest",{enumerable:!0,get:function(){return qh.TypeDefinitionRequest}});var Qu=wu();Object.defineProperty(k,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Qu.WorkspaceFoldersRequest}});Object.defineProperty(k,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Qu.DidChangeWorkspaceFoldersNotification}});var Eh=Tu();Object.defineProperty(k,"ConfigurationRequest",{enumerable:!0,get:function(){return Eh.ConfigurationRequest}});var Zu=Pu();Object.defineProperty(k,"DocumentColorRequest",{enumerable:!0,get:function(){return Zu.DocumentColorRequest}});Object.defineProperty(k,"ColorPresentationRequest",{enumerable:!0,get:function(){return Zu.ColorPresentationRequest}});var Ch=Ru();Object.defineProperty(k,"FoldingRangeRequest",{enumerable:!0,get:function(){return Ch.FoldingRangeRequest}});var Mh=Nu();Object.defineProperty(k,"DeclarationRequest",{enumerable:!0,get:function(){return Mh.DeclarationRequest}});var Ah=Eu();Object.defineProperty(k,"SelectionRangeRequest",{enumerable:!0,get:function(){return Ah.SelectionRangeRequest}});var Ea=Cu();Object.defineProperty(k,"WorkDoneProgress",{enumerable:!0,get:function(){return Ea.WorkDoneProgress}});Object.defineProperty(k,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ea.WorkDoneProgressCreateRequest}});Object.defineProperty(k,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ea.WorkDoneProgressCancelNotification}});var Ca=Mu();Object.defineProperty(k,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ca.CallHierarchyIncomingCallsRequest}});Object.defineProperty(k,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ca.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(k,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ca.CallHierarchyPrepareRequest}});var Yn=Au();Object.defineProperty(k,"TokenFormat",{enumerable:!0,get:function(){return Yn.TokenFormat}});Object.defineProperty(k,"SemanticTokensRequest",{enumerable:!0,get:function(){return Yn.SemanticTokensRequest}});Object.defineProperty(k,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Yn.SemanticTokensDeltaRequest}});Object.defineProperty(k,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Yn.SemanticTokensRangeRequest}});Object.defineProperty(k,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Yn.SemanticTokensRefreshRequest}});Object.defineProperty(k,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Yn.SemanticTokensRegistrationType}});var jh=Lu();Object.defineProperty(k,"ShowDocumentRequest",{enumerable:!0,get:function(){return jh.ShowDocumentRequest}});var Lh=Iu();Object.defineProperty(k,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Lh.LinkedEditingRangeRequest}});var kn=$u();Object.defineProperty(k,"FileOperationPatternKind",{enumerable:!0,get:function(){return kn.FileOperationPatternKind}});Object.defineProperty(k,"DidCreateFilesNotification",{enumerable:!0,get:function(){return kn.DidCreateFilesNotification}});Object.defineProperty(k,"WillCreateFilesRequest",{enumerable:!0,get:function(){return kn.WillCreateFilesRequest}});Object.defineProperty(k,"DidRenameFilesNotification",{enumerable:!0,get:function(){return kn.DidRenameFilesNotification}});Object.defineProperty(k,"WillRenameFilesRequest",{enumerable:!0,get:function(){return kn.WillRenameFilesRequest}});Object.defineProperty(k,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return kn.DidDeleteFilesNotification}});Object.defineProperty(k,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return kn.WillDeleteFilesRequest}});var Ma=Vu();Object.defineProperty(k,"UniquenessLevel",{enumerable:!0,get:function(){return Ma.UniquenessLevel}});Object.defineProperty(k,"MonikerKind",{enumerable:!0,get:function(){return Ma.MonikerKind}});Object.defineProperty(k,"MonikerRequest",{enumerable:!0,get:function(){return Ma.MonikerRequest}});var Aa=Hu();Object.defineProperty(k,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Aa.TypeHierarchyPrepareRequest}});Object.defineProperty(k,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Aa.TypeHierarchySubtypesRequest}});Object.defineProperty(k,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Aa.TypeHierarchySupertypesRequest}});var el=Bu();Object.defineProperty(k,"InlineValueRequest",{enumerable:!0,get:function(){return el.InlineValueRequest}});Object.defineProperty(k,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return el.InlineValueRefreshRequest}});var ja=Uu();Object.defineProperty(k,"InlayHintRequest",{enumerable:!0,get:function(){return ja.InlayHintRequest}});Object.defineProperty(k,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ja.InlayHintResolveRequest}});Object.defineProperty(k,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ja.InlayHintRefreshRequest}});var Ar=Ju();Object.defineProperty(k,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Ar.DiagnosticServerCancellationData}});Object.defineProperty(k,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Ar.DocumentDiagnosticReportKind}});Object.defineProperty(k,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Ar.DocumentDiagnosticRequest}});Object.defineProperty(k,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Ar.WorkspaceDiagnosticRequest}});Object.defineProperty(k,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Ar.DiagnosticRefreshRequest}});var qt=Ku();Object.defineProperty(k,"NotebookCellKind",{enumerable:!0,get:function(){return qt.NotebookCellKind}});Object.defineProperty(k,"ExecutionSummary",{enumerable:!0,get:function(){return qt.ExecutionSummary}});Object.defineProperty(k,"NotebookCell",{enumerable:!0,get:function(){return qt.NotebookCell}});Object.defineProperty(k,"NotebookDocument",{enumerable:!0,get:function(){return qt.NotebookDocument}});Object.defineProperty(k,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return qt.NotebookDocumentSyncRegistrationType}});Object.defineProperty(k,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return qt.DidOpenNotebookDocumentNotification}});Object.defineProperty(k,"NotebookCellArrayChange",{enumerable:!0,get:function(){return qt.NotebookCellArrayChange}});Object.defineProperty(k,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return qt.DidChangeNotebookDocumentNotification}});Object.defineProperty(k,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return qt.DidSaveNotebookDocumentNotification}});Object.defineProperty(k,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return qt.DidCloseNotebookDocumentNotification}});var tl;(function(e){function t(n){let r=n;return ze.string(r.language)||ze.string(r.scheme)||ze.string(r.pattern)}e.is=t})(tl=k.TextDocumentFilter||(k.TextDocumentFilter={}));var nl;(function(e){function t(n){let r=n;return ze.objectLiteral(r)&&(ze.string(r.notebookType)||ze.string(r.scheme)||ze.string(r.pattern))}e.is=t})(nl=k.NotebookDocumentFilter||(k.NotebookDocumentFilter={}));var rl;(function(e){function t(n){let r=n;return ze.objectLiteral(r)&&(ze.string(r.notebook)||nl.is(r.notebook))&&(r.language===void 0||ze.string(r.language))}e.is=t})(rl=k.NotebookCellTextDocumentFilter||(k.NotebookCellTextDocumentFilter={}));var ol;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ze.string(r)&&!tl.is(r)&&!rl.is(r))return!1;return!0}e.is=t})(ol=k.DocumentSelector||(k.DocumentSelector={}));var Fh;(function(e){e.method="client/registerCapability",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolRequestType(e.method)})(Fh=k.RegistrationRequest||(k.RegistrationRequest={}));var Ih;(function(e){e.method="client/unregisterCapability",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolRequestType(e.method)})(Ih=k.UnregistrationRequest||(k.UnregistrationRequest={}));var $h;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})($h=k.ResourceOperationKind||(k.ResourceOperationKind={}));var Wh;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Wh=k.FailureHandlingKind||(k.FailureHandlingKind={}));var Vh;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Vh=k.PositionEncodingKind||(k.PositionEncodingKind={}));var Hh;(function(e){function t(n){let r=n;return r&&ze.string(r.id)&&r.id.length>0}e.hasId=t})(Hh=k.StaticRegistrationOptions||(k.StaticRegistrationOptions={}));var Bh;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||ol.is(r.documentSelector))}e.is=t})(Bh=k.TextDocumentRegistrationOptions||(k.TextDocumentRegistrationOptions={}));var Uh;(function(e){function t(r){let o=r;return ze.objectLiteral(o)&&(o.workDoneProgress===void 0||ze.boolean(o.workDoneProgress))}e.is=t;function n(r){let o=r;return o&&ze.boolean(o.workDoneProgress)}e.hasWorkDoneProgress=n})(Uh=k.WorkDoneProgressOptions||(k.WorkDoneProgressOptions={}));var zh;(function(e){e.method="initialize",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(zh=k.InitializeRequest||(k.InitializeRequest={}));var Jh;(function(e){e.unknownProtocolVersion=1})(Jh=k.InitializeErrorCodes||(k.InitializeErrorCodes={}));var Gh;(function(e){e.method="initialized",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(Gh=k.InitializedNotification||(k.InitializedNotification={}));var Xh;(function(e){e.method="shutdown",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType0(e.method)})(Xh=k.ShutdownRequest||(k.ShutdownRequest={}));var Kh;(function(e){e.method="exit",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType0(e.method)})(Kh=k.ExitNotification||(k.ExitNotification={}));var Yh;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(Yh=k.DidChangeConfigurationNotification||(k.DidChangeConfigurationNotification={}));var Qh;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(Qh=k.MessageType||(k.MessageType={}));var Zh;(function(e){e.method="window/showMessage",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolNotificationType(e.method)})(Zh=k.ShowMessageNotification||(k.ShowMessageNotification={}));var eg;(function(e){e.method="window/showMessageRequest",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolRequestType(e.method)})(eg=k.ShowMessageRequest||(k.ShowMessageRequest={}));var tg;(function(e){e.method="window/logMessage",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolNotificationType(e.method)})(tg=k.LogMessageNotification||(k.LogMessageNotification={}));var ng;(function(e){e.method="telemetry/event",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolNotificationType(e.method)})(ng=k.TelemetryEventNotification||(k.TelemetryEventNotification={}));var rg;(function(e){e.None=0,e.Full=1,e.Incremental=2})(rg=k.TextDocumentSyncKind||(k.TextDocumentSyncKind={}));var og;(function(e){e.method="textDocument/didOpen",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(og=k.DidOpenTextDocumentNotification||(k.DidOpenTextDocumentNotification={}));var ig;(function(e){function t(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}e.isIncremental=t;function n(r){let o=r;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}e.isFull=n})(ig=k.TextDocumentContentChangeEvent||(k.TextDocumentContentChangeEvent={}));var sg;(function(e){e.method="textDocument/didChange",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(sg=k.DidChangeTextDocumentNotification||(k.DidChangeTextDocumentNotification={}));var ag;(function(e){e.method="textDocument/didClose",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(ag=k.DidCloseTextDocumentNotification||(k.DidCloseTextDocumentNotification={}));var cg;(function(e){e.method="textDocument/didSave",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(cg=k.DidSaveTextDocumentNotification||(k.DidSaveTextDocumentNotification={}));var ug;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(ug=k.TextDocumentSaveReason||(k.TextDocumentSaveReason={}));var lg;(function(e){e.method="textDocument/willSave",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(lg=k.WillSaveTextDocumentNotification||(k.WillSaveTextDocumentNotification={}));var fg;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(fg=k.WillSaveTextDocumentWaitUntilRequest||(k.WillSaveTextDocumentWaitUntilRequest={}));var dg;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolNotificationType(e.method)})(dg=k.DidChangeWatchedFilesNotification||(k.DidChangeWatchedFilesNotification={}));var pg;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(pg=k.FileChangeType||(k.FileChangeType={}));var hg;(function(e){function t(n){let r=n;return ze.objectLiteral(r)&&(Yu.URI.is(r.baseUri)||Yu.WorkspaceFolder.is(r.baseUri))&&ze.string(r.pattern)}e.is=t})(hg=k.RelativePattern||(k.RelativePattern={}));var gg;(function(e){e.Create=1,e.Change=2,e.Delete=4})(gg=k.WatchKind||(k.WatchKind={}));var mg;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolNotificationType(e.method)})(mg=k.PublishDiagnosticsNotification||(k.PublishDiagnosticsNotification={}));var yg;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(yg=k.CompletionTriggerKind||(k.CompletionTriggerKind={}));var bg;(function(e){e.method="textDocument/completion",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(bg=k.CompletionRequest||(k.CompletionRequest={}));var vg;(function(e){e.method="completionItem/resolve",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(vg=k.CompletionResolveRequest||(k.CompletionResolveRequest={}));var _g;(function(e){e.method="textDocument/hover",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(_g=k.HoverRequest||(k.HoverRequest={}));var kg;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(kg=k.SignatureHelpTriggerKind||(k.SignatureHelpTriggerKind={}));var xg;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(xg=k.SignatureHelpRequest||(k.SignatureHelpRequest={}));var wg;(function(e){e.method="textDocument/definition",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(wg=k.DefinitionRequest||(k.DefinitionRequest={}));var Sg;(function(e){e.method="textDocument/references",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Sg=k.ReferencesRequest||(k.ReferencesRequest={}));var Tg;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Tg=k.DocumentHighlightRequest||(k.DocumentHighlightRequest={}));var Pg;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Pg=k.DocumentSymbolRequest||(k.DocumentSymbolRequest={}));var Dg;(function(e){e.method="textDocument/codeAction",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Dg=k.CodeActionRequest||(k.CodeActionRequest={}));var Rg;(function(e){e.method="codeAction/resolve",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Rg=k.CodeActionResolveRequest||(k.CodeActionResolveRequest={}));var Og;(function(e){e.method="workspace/symbol",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Og=k.WorkspaceSymbolRequest||(k.WorkspaceSymbolRequest={}));var Ng;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Ng=k.WorkspaceSymbolResolveRequest||(k.WorkspaceSymbolResolveRequest={}));var qg;(function(e){e.method="textDocument/codeLens",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(qg=k.CodeLensRequest||(k.CodeLensRequest={}));var Eg;(function(e){e.method="codeLens/resolve",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Eg=k.CodeLensResolveRequest||(k.CodeLensResolveRequest={}));var Cg;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolRequestType0(e.method)})(Cg=k.CodeLensRefreshRequest||(k.CodeLensRefreshRequest={}));var Mg;(function(e){e.method="textDocument/documentLink",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Mg=k.DocumentLinkRequest||(k.DocumentLinkRequest={}));var Ag;(function(e){e.method="documentLink/resolve",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Ag=k.DocumentLinkResolveRequest||(k.DocumentLinkResolveRequest={}));var jg;(function(e){e.method="textDocument/formatting",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(jg=k.DocumentFormattingRequest||(k.DocumentFormattingRequest={}));var Lg;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Lg=k.DocumentRangeFormattingRequest||(k.DocumentRangeFormattingRequest={}));var Fg;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Fg=k.DocumentOnTypeFormattingRequest||(k.DocumentOnTypeFormattingRequest={}));var Ig;(function(e){e.Identifier=1})(Ig=k.PrepareSupportDefaultBehavior||(k.PrepareSupportDefaultBehavior={}));var $g;(function(e){e.method="textDocument/rename",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})($g=k.RenameRequest||(k.RenameRequest={}));var Wg;(function(e){e.method="textDocument/prepareRename",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Wg=k.PrepareRenameRequest||(k.PrepareRenameRequest={}));var Vg;(function(e){e.method="workspace/executeCommand",e.messageDirection=B.MessageDirection.clientToServer,e.type=new B.ProtocolRequestType(e.method)})(Vg=k.ExecuteCommandRequest||(k.ExecuteCommandRequest={}));var Hg;(function(e){e.method="workspace/applyEdit",e.messageDirection=B.MessageDirection.serverToClient,e.type=new B.ProtocolRequestType("workspace/applyEdit")})(Hg=k.ApplyWorkspaceEditRequest||(k.ApplyWorkspaceEditRequest={}))});var al=G(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createProtocolConnection=void 0;var sl=yn();function Bg(e,t,n,r){return sl.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,sl.createMessageConnection)(e,t,n,r)}Vo.createProtocolConnection=Bg});var cl=G(Ze=>{"use strict";var Ug=Ze&&Ze.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ho=Ze&&Ze.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ug(t,e,n)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.LSPErrorCodes=Ze.createProtocolConnection=void 0;Ho(yn(),Ze);Ho((Sr(),Zr(Ao)),Ze);Ho(we(),Ze);Ho(il(),Ze);var zg=al();Object.defineProperty(Ze,"createProtocolConnection",{enumerable:!0,get:function(){return zg.createProtocolConnection}});var Jg;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Jg=Ze.LSPErrorCodes||(Ze.LSPErrorCodes={}))});var je=G(Et=>{"use strict";var Gg=Et&&Et.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ul=Et&&Et.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gg(t,e,n)};Object.defineProperty(Et,"__esModule",{value:!0});Et.createProtocolConnection=void 0;var Xg=ea();ul(ea(),Et);ul(cl(),Et);function Kg(e,t,n,r){return(0,Xg.createMessageConnection)(e,t,n,r)}Et.createProtocolConnection=Kg});var La=G(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.generateUuid=lt.parse=lt.isUUID=lt.v4=lt.empty=void 0;var jr=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},oe=class extends jr{constructor(){super([oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-","4",oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._oneOf(oe._timeHighBits),oe._randomHex(),oe._randomHex(),oe._randomHex(),"-",oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex(),oe._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return oe._oneOf(oe._chars)}};oe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];oe._timeHighBits=["8","9","a","b"];lt.empty=new jr("00000000-0000-0000-0000-000000000000");function ll(){return new oe}lt.v4=ll;var Yg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function fl(e){return Yg.test(e)}lt.isUUID=fl;function Qg(e){if(!fl(e))throw new Error("invalid uuid");return new jr(e)}lt.parse=Qg;function Zg(){return ll().asHex()}lt.generateUuid=Zg});var dl=G(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.attachPartialResult=nn.ProgressFeature=nn.attachWorkDone=void 0;var tn=je(),em=La(),Ct=class{constructor(t,n){this._connection=t,this._token=n,Ct.Instances.set(this._token,this)}begin(t,n,r,o){let i={kind:"begin",title:t,percentage:n,message:r,cancellable:o};this._connection.sendProgress(tn.WorkDoneProgress.type,this._token,i)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(tn.WorkDoneProgress.type,this._token,r)}done(){Ct.Instances.delete(this._token),this._connection.sendProgress(tn.WorkDoneProgress.type,this._token,{kind:"end"})}};Ct.Instances=new Map;var Bo=class extends Ct{constructor(t,n){super(t,n),this._source=new tn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Lr=class{constructor(){}begin(){}report(){}done(){}},Uo=class extends Lr{constructor(){super(),this._source=new tn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function tm(e,t){if(t===void 0||t.workDoneToken===void 0)return new Lr;let n=t.workDoneToken;return delete t.workDoneToken,new Ct(e,n)}nn.attachWorkDone=tm;var nm=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){var n;super.initialize(t),((n=t==null?void 0:t.window)==null?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(tn.WorkDoneProgressCancelNotification.type,r=>{let o=Ct.Instances.get(r.token);(o instanceof Bo||o instanceof Uo)&&o.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Lr:new Ct(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,em.generateUuid)();return this.connection.sendRequest(tn.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Bo(this.connection,t))}else return Promise.resolve(new Uo)}};nn.ProgressFeature=nm;var Fa;(function(e){e.type=new tn.ProgressType})(Fa||(Fa={}));var Ia=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Fa.type,this._token,t)}};function rm(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new Ia(e,n)}nn.attachPartialResult=rm});var pl=G(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.ConfigurationFeature=void 0;var om=je(),im=eo(),sm=e=>class extends e{getConfiguration(t){return t?im.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(om.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};zo.ConfigurationFeature=sm});var hl=G(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.WorkspaceFoldersFeature=void 0;var Jo=je(),am=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Jo.Emitter,this.connection.onNotification(Jo.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){var r,o;super.fillServerCapabilities(t);let n=(o=(r=t.workspace)==null?void 0:r.workspaceFolders)==null?void 0:o.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Jo.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Jo.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Go.WorkspaceFoldersFeature=am});var gl=G(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.CallHierarchyFeature=void 0;var $a=je(),cm=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest($a.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{let n=$a.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=$a.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Xo.CallHierarchyFeature=cm});var Va=G(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.SemanticTokensBuilder=rn.SemanticTokensDiff=rn.SemanticTokensFeature=void 0;var Ko=je(),um=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Ko.SemanticTokensRefreshRequest.type),on:t=>{let n=Ko.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=Ko.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=Ko.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};rn.SemanticTokensFeature=um;var Yo=class{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){let t=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let o=t-1,i=n-1;for(;o>=r&&i>=r&&this.originalSequence[o]===this.modifiedSequence[i];)o--,i--;(o<r||i<r)&&(o++,i++);let s=o-r+1,a=this.modifiedSequence.slice(r,i+1);return a.length===1&&a[0]===this.originalSequence[o]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:a}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}};rn.SemanticTokensDiff=Yo;var Wa=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,o,i){let s=t,a=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=o,this._data[this._dataLen++]=i,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Yo(this._prevData,this._data).computeDiff()}:this.build()}};rn.SemanticTokensBuilder=Wa});var ml=G(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ShowDocumentFeature=void 0;var lm=je(),fm=e=>class extends e{showDocument(t){return this.connection.sendRequest(lm.ShowDocumentRequest.type,t)}};Qo.ShowDocumentFeature=fm});var yl=G(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.FileOperationsFeature=void 0;var Qn=je(),dm=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Qn.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(Qn.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(Qn.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Qn.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Qn.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Qn.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};Zo.FileOperationsFeature=dm});var bl=G(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.LinkedEditingRangeFeature=void 0;var pm=je(),hm=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(pm.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};ei.LinkedEditingRangeFeature=hm});var vl=G(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.TypeHierarchyFeature=void 0;var Ha=je(),gm=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Ha.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{let n=Ha.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{let n=Ha.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ti.TypeHierarchyFeature=gm});var kl=G(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.InlineValueFeature=void 0;var _l=je(),mm=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(_l.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(_l.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};ni.InlineValueFeature=mm});var xl=G(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.InlayHintFeature=void 0;var Ba=je(),ym=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Ba.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Ba.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(Ba.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};ri.InlayHintFeature=ym});var wl=G(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.DiagnosticFeature=void 0;var Fr=je(),bm=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Fr.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Fr.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Fr.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Fr.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Fr.WorkspaceDiagnosticRequest.partialResult,n)))}}};oi.DiagnosticFeature=bm});var za=G(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.TextDocuments=void 0;var xn=je(),Ua=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new xn.Emitter,this._onDidOpen=new xn.Emitter,this._onDidClose=new xn.Emitter,this._onDidSave=new xn.Emitter,this._onWillSave=new xn.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=xn.TextDocumentSyncKind.Incremental;let n=[];return n.push(t.onDidOpenTextDocument(r=>{let o=r.textDocument,i=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,i);let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(t.onDidChangeTextDocument(r=>{let o=r.textDocument,i=r.contentChanges;if(i.length===0)return;let{version:s}=o;if(s==null)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let a=this._syncedDocuments.get(o.uri);a!==void 0&&(a=this._configuration.update(a,i,s),this._syncedDocuments.set(o.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),n.push(t.onDidCloseTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),n.push(t.onWillSaveTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&this._onWillSave.fire(Object.freeze({document:o,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,o)=>{let i=this._syncedDocuments.get(r.textDocument.uri);return i!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),o):[]})),n.push(t.onDidSaveTextDocument(r=>{let o=this._syncedDocuments.get(r.textDocument.uri);o!==void 0&&this._onDidSave.fire(Object.freeze({document:o}))})),xn.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};ii.TextDocuments=Ua});var Ga=G(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.NotebookDocuments=Zn.NotebookSyncFeature=void 0;var ft=je(),Sl=za(),vm=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(ft.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(ft.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(ft.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(ft.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};Zn.NotebookSyncFeature=vm;var on=class{onDidOpenTextDocument(t){return this.openHandler=t,ft.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,ft.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,ft.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return on.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return on.NULL_DISPOSE}onDidSaveTextDocument(){return on.NULL_DISPOSE}};on.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Ja=class{constructor(t){t instanceof Sl.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Sl.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new ft.Emitter,this._onDidChange=new ft.Emitter,this._onDidSave=new ft.Emitter,this._onDidClose=new ft.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){let n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let n=new on,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(o=>{this.notebookDocuments.set(o.notebookDocument.uri,o.notebookDocument);for(let i of o.cellTextDocuments)n.openTextDocument({textDocument:i});this.updateCellMap(o.notebookDocument),this._onDidOpen.fire(o.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(o=>{let i=this.notebookDocuments.get(o.notebookDocument.uri);if(i===void 0)return;i.version=o.notebookDocument.version;let s=i.metadata,a=!1,l=o.change;l.metadata!==void 0&&(a=!0,i.metadata=l.metadata);let c=[],d=[],f=[],m=[];if(l.cells!==void 0){let T=l.cells;if(T.structure!==void 0){let y=T.structure.array;if(i.cells.splice(y.start,y.deleteCount,...y.cells!==void 0?y.cells:[]),T.structure.didOpen!==void 0)for(let u of T.structure.didOpen)n.openTextDocument({textDocument:u}),c.push(u.uri);if(T.structure.didClose)for(let u of T.structure.didClose)n.closeTextDocument({textDocument:u}),d.push(u.uri)}if(T.data!==void 0){let y=new Map(T.data.map(u=>[u.document,u]));for(let u=0;u<=i.cells.length;u++){let p=y.get(i.cells[u].document);if(p!==void 0){let _=i.cells.splice(u,1,p);if(f.push({old:_[0],new:p}),y.delete(p.document),y.size===0)break}}}if(T.textContent!==void 0)for(let y of T.textContent)n.changeTextDocument({textDocument:y.document,contentChanges:y.changes}),m.push(y.document.uri)}this.updateCellMap(i);let h={notebookDocument:i};a&&(h.metadata={old:s,new:i.metadata});let g=[];for(let T of c)g.push(this.getNotebookCell(T));let v=[];for(let T of d)v.push(this.getNotebookCell(T));let S=[];for(let T of m)S.push(this.getNotebookCell(T));(g.length>0||v.length>0||f.length>0||S.length>0)&&(h.cells={added:g,removed:v,changed:{data:f,textContent:S}}),(h.metadata!==void 0||h.cells!==void 0)&&this._onDidChange.fire(h)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(o=>{let i=this.notebookDocuments.get(o.notebookDocument.uri);i!==void 0&&this._onDidSave.fire(i)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(o=>{let i=this.notebookDocuments.get(o.notebookDocument.uri);if(i!==void 0){this._onDidClose.fire(i);for(let s of o.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(o.notebookDocument.uri);for(let s of i.cells)this.notebookCellMap.delete(s.document)}})),ft.Disposable.create(()=>{r.forEach(o=>o.dispose())})}updateCellMap(t){for(let n of t.cells)this.notebookCellMap.set(n.document,[n,t])}};Zn.NotebookDocuments=Ja});var Tl=G(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.MonikerFeature=void 0;var _m=je(),km=e=>class extends e{get moniker(){return{on:t=>{let n=_m.MonikerRequest.type;return this.connection.onRequest(n,(r,o)=>t(r,o,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};si.MonikerFeature=km});var ec=G(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.createConnection=ae.combineFeatures=ae.combineNotebooksFeatures=ae.combineLanguagesFeatures=ae.combineWorkspaceFeatures=ae.combineWindowFeatures=ae.combineClientFeatures=ae.combineTracerFeatures=ae.combineTelemetryFeatures=ae.combineConsoleFeatures=ae._NotebooksImpl=ae._LanguagesImpl=ae.BulkUnregistration=ae.BulkRegistration=ae.ErrorMessageTracker=void 0;var z=je(),dt=eo(),Ka=La(),ne=dl(),xm=pl(),wm=hl(),Sm=gl(),Tm=Va(),Pm=ml(),Dm=yl(),Rm=bl(),Om=vl(),Nm=kl(),qm=xl(),Em=wl(),Cm=Ga(),Mm=Tl();function Xa(e){if(e!==null)return e}var Ya=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};ae.ErrorMessageTracker=Ya;var ai=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(z.MessageType.Error,t)}warn(t){this.send(z.MessageType.Warning,t)}info(t){this.send(z.MessageType.Info,t)}log(t){this.send(z.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(z.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,z.RAL)().console.error("Sending log message failed")})}},Qa=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:z.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Xa)}showWarningMessage(t,...n){let r={type:z.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Xa)}showInformationMessage(t,...n){let r={type:z.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Xa)}},Pl=(0,Pm.ShowDocumentFeature)((0,ne.ProgressFeature)(Qa)),Am;(function(e){function t(){return new ci}e.create=t})(Am=ae.BulkRegistration||(ae.BulkRegistration={}));var ci=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=dt.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let o=Ka.generateUuid();this._registrations.push({id:o,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},jm;(function(e){function t(){return new Ir(void 0,[])}e.create=t})(jm=ae.BulkUnregistration||(ae.BulkUnregistration={}));var Ir=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(z.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=dt.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let o={unregisterations:[r]};return this._connection.sendRequest(z.UnregistrationRequest.type,o).then(()=>{this._unregistrations.delete(n)},i=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},ui=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof ci?this.registerMany(t):t instanceof Ir?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let o=dt.string(n)?n:n.method,i=Ka.generateUuid(),s={registrations:[{id:i,method:o,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(z.RegistrationRequest.type,s).then(a=>(t.add({id:i,method:o}),t),a=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(a)))}registerSingle2(t,n){let r=dt.string(t)?t:t.method,o=Ka.generateUuid(),i={registrations:[{id:o,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(z.RegistrationRequest.type,i).then(s=>z.Disposable.create(()=>{this.unregisterSingle(o,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${o} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(z.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(z.RegistrationRequest.type,n).then(()=>new Ir(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Za=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(o){return o&&!!o.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(z.ApplyWorkspaceEditRequest.type,r)}},Dl=(0,Dm.FileOperationsFeature)((0,wm.WorkspaceFoldersFeature)((0,xm.ConfigurationFeature)(Za))),li=class{constructor(){this._trace=z.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==z.Trace.Off&&this.connection.sendNotification(z.LogTraceNotification.type,{message:t,verbose:this._trace===z.Trace.Verbose?n:void 0}).catch(()=>{})}},fi=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(z.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},di=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ne.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,ne.attachPartialResult)(this.connection,n)}};ae._LanguagesImpl=di;var Rl=(0,Mm.MonikerFeature)((0,Em.DiagnosticFeature)((0,qm.InlayHintFeature)((0,Nm.InlineValueFeature)((0,Om.TypeHierarchyFeature)((0,Rm.LinkedEditingRangeFeature)((0,Tm.SemanticTokensFeature)((0,Sm.CallHierarchyFeature)(di)))))))),pi=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ne.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,ne.attachPartialResult)(this.connection,n)}};ae._NotebooksImpl=pi;var Ol=(0,Cm.NotebookSyncFeature)(pi);function Nl(e,t){return function(n){return t(e(n))}}ae.combineConsoleFeatures=Nl;function ql(e,t){return function(n){return t(e(n))}}ae.combineTelemetryFeatures=ql;function El(e,t){return function(n){return t(e(n))}}ae.combineTracerFeatures=El;function Cl(e,t){return function(n){return t(e(n))}}ae.combineClientFeatures=Cl;function Ml(e,t){return function(n){return t(e(n))}}ae.combineWindowFeatures=Ml;function Al(e,t){return function(n){return t(e(n))}}ae.combineWorkspaceFeatures=Al;function jl(e,t){return function(n){return t(e(n))}}ae.combineLanguagesFeatures=jl;function Ll(e,t){return function(n){return t(e(n))}}ae.combineNotebooksFeatures=Ll;function Lm(e,t){function n(o,i,s){return o&&i?s(o,i):o||i}return{__brand:"features",console:n(e.console,t.console,Nl),tracer:n(e.tracer,t.tracer,El),telemetry:n(e.telemetry,t.telemetry,ql),client:n(e.client,t.client,Cl),window:n(e.window,t.window,Ml),workspace:n(e.workspace,t.workspace,Al),languages:n(e.languages,t.languages,jl),notebooks:n(e.notebooks,t.notebooks,Ll)}}ae.combineFeatures=Lm;function Fm(e,t,n){let r=n&&n.console?new(n.console(ai)):new ai,o=e(r);r.rawAttach(o);let i=n&&n.tracer?new(n.tracer(li)):new li,s=n&&n.telemetry?new(n.telemetry(fi)):new fi,a=n&&n.client?new(n.client(ui)):new ui,l=n&&n.window?new(n.window(Pl)):new Pl,c=n&&n.workspace?new(n.workspace(Dl)):new Dl,d=n&&n.languages?new(n.languages(Rl)):new Rl,f=n&&n.notebooks?new(n.notebooks(Ol)):new Ol,m=[r,i,s,a,l,c,d,f];function h(y){return y instanceof Promise?y:dt.thenable(y)?new Promise((u,p)=>{y.then(_=>u(_),_=>p(_))}):Promise.resolve(y)}let g,v,S,T={listen:()=>o.listen(),sendRequest:(y,...u)=>o.sendRequest(dt.string(y)?y:y.method,...u),onRequest:(y,u)=>o.onRequest(y,u),sendNotification:(y,u)=>{let p=dt.string(y)?y:y.method;return arguments.length===1?o.sendNotification(p):o.sendNotification(p,u)},onNotification:(y,u)=>o.onNotification(y,u),onProgress:o.onProgress,sendProgress:o.sendProgress,onInitialize:y=>(v=y,{dispose:()=>{v=void 0}}),onInitialized:y=>o.onNotification(z.InitializedNotification.type,y),onShutdown:y=>(g=y,{dispose:()=>{g=void 0}}),onExit:y=>(S=y,{dispose:()=>{S=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return i},get client(){return a},get window(){return l},get workspace(){return c},get languages(){return d},get notebooks(){return f},onDidChangeConfiguration:y=>o.onNotification(z.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>o.onNotification(z.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>o.onNotification(z.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>o.onNotification(z.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>o.onNotification(z.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>o.onNotification(z.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>o.onRequest(z.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>o.onNotification(z.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>o.sendNotification(z.PublishDiagnosticsNotification.type,y),onHover:y=>o.onRequest(z.HoverRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),onCompletion:y=>o.onRequest(z.CompletionRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onCompletionResolve:y=>o.onRequest(z.CompletionResolveRequest.type,y),onSignatureHelp:y=>o.onRequest(z.SignatureHelpRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),onDeclaration:y=>o.onRequest(z.DeclarationRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onDefinition:y=>o.onRequest(z.DefinitionRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onTypeDefinition:y=>o.onRequest(z.TypeDefinitionRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onImplementation:y=>o.onRequest(z.ImplementationRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onReferences:y=>o.onRequest(z.ReferencesRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onDocumentHighlight:y=>o.onRequest(z.DocumentHighlightRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onDocumentSymbol:y=>o.onRequest(z.DocumentSymbolRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onWorkspaceSymbol:y=>o.onRequest(z.WorkspaceSymbolRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onWorkspaceSymbolResolve:y=>o.onRequest(z.WorkspaceSymbolResolveRequest.type,y),onCodeAction:y=>o.onRequest(z.CodeActionRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onCodeActionResolve:y=>o.onRequest(z.CodeActionResolveRequest.type,(u,p)=>y(u,p)),onCodeLens:y=>o.onRequest(z.CodeLensRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onCodeLensResolve:y=>o.onRequest(z.CodeLensResolveRequest.type,(u,p)=>y(u,p)),onDocumentFormatting:y=>o.onRequest(z.DocumentFormattingRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),onDocumentRangeFormatting:y=>o.onRequest(z.DocumentRangeFormattingRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),onDocumentOnTypeFormatting:y=>o.onRequest(z.DocumentOnTypeFormattingRequest.type,(u,p)=>y(u,p)),onRenameRequest:y=>o.onRequest(z.RenameRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),onPrepareRename:y=>o.onRequest(z.PrepareRenameRequest.type,(u,p)=>y(u,p)),onDocumentLinks:y=>o.onRequest(z.DocumentLinkRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onDocumentLinkResolve:y=>o.onRequest(z.DocumentLinkResolveRequest.type,(u,p)=>y(u,p)),onDocumentColor:y=>o.onRequest(z.DocumentColorRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onColorPresentation:y=>o.onRequest(z.ColorPresentationRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onFoldingRanges:y=>o.onRequest(z.FoldingRangeRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onSelectionRanges:y=>o.onRequest(z.SelectionRangeRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),(0,ne.attachPartialResult)(o,u))),onExecuteCommand:y=>o.onRequest(z.ExecuteCommandRequest.type,(u,p)=>y(u,p,(0,ne.attachWorkDone)(o,u),void 0)),dispose:()=>o.dispose()};for(let y of m)y.attach(T);return o.onRequest(z.InitializeRequest.type,y=>{t.initialize(y),dt.string(y.trace)&&(i.trace=z.Trace.fromString(y.trace));for(let u of m)u.initialize(y.capabilities);if(v){let u=v(y,new z.CancellationTokenSource().token,(0,ne.attachWorkDone)(o,y),void 0);return h(u).then(p=>{if(p instanceof z.ResponseError)return p;let _=p;_||(_={capabilities:{}});let O=_.capabilities;O||(O={},_.capabilities=O),O.textDocumentSync===void 0||O.textDocumentSync===null?O.textDocumentSync=dt.number(T.__textDocumentSync)?T.__textDocumentSync:z.TextDocumentSyncKind.None:!dt.number(O.textDocumentSync)&&!dt.number(O.textDocumentSync.change)&&(O.textDocumentSync.change=dt.number(T.__textDocumentSync)?T.__textDocumentSync:z.TextDocumentSyncKind.None);for(let N of m)N.fillServerCapabilities(O);return _})}else{let u={capabilities:{textDocumentSync:z.TextDocumentSyncKind.None}};for(let p of m)p.fillServerCapabilities(u.capabilities);return u}}),o.onRequest(z.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,g)return g(new z.CancellationTokenSource().token)}),o.onNotification(z.ExitNotification.type,()=>{try{S&&S()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),o.onNotification(z.SetTraceNotification.type,y=>{i.trace=z.Trace.fromString(y.value)}),T}ae.createConnection=Fm});var Il=G(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.resolveModulePath=et.FileSystem=et.resolveGlobalYarnPath=et.resolveGlobalNodePath=et.resolve=et.uriToFilePath=void 0;var Im=require("url"),Pt=require("path"),tc=require("fs"),oc=require("child_process");function $m(e){let t=Im.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,o=n.length;r<o;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let i=n[0],s=n[1];i.length===0&&s.length>1&&s[1]===":"&&n.shift()}return Pt.normalize(n.join("/"))}et.uriToFilePath=$m;function nc(){return process.platform==="win32"}function hi(e,t,n,r){let o="NODE_PATH",i=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,a)=>{let l=process.env,c=Object.create(null);Object.keys(l).forEach(d=>c[d]=l[d]),t&&tc.existsSync(t)&&(c[o]?c[o]=t+Pt.delimiter+c[o]:c[o]=t,r&&r(`NODE_PATH value is: ${c[o]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let d=(0,oc.fork)("",[],{cwd:n,env:c,execArgv:["-e",i]});if(d.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}d.on("error",m=>{a(m)}),d.on("message",m=>{m.c==="r"&&(d.send({c:"e"}),m.s?s(m.r):a(new Error(`Failed to resolve module: ${e}`)))});let f={c:"rs",a:e};d.send(f)}catch(d){a(d)}})}et.resolve=hi;function rc(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(i=>n[i]=process.env[i]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};nc()&&(t="npm.cmd",r.shell=!0);let o=()=>{};try{process.on("SIGPIPE",o);let i=(0,oc.spawnSync)(t,["config","get","prefix"],r).stdout;if(!i){e&&e("'npm config get prefix' didn't return a value.");return}let s=i.trim();return e&&e(`'npm config get prefix' value is: ${s}`),s.length>0?nc()?Pt.join(s,"node_modules"):Pt.join(s,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",o)}}et.resolveGlobalNodePath=rc;function Wm(e){let t="yarn",n={encoding:"utf8"};nc()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=(0,oc.spawnSync)(t,["global","dir","--json"],n),i=o.stdout;if(!i){e&&(e("'yarn global dir' didn't return a value."),o.stderr&&e(o.stderr));return}let s=i.trim().split(/\r?\n/);for(let a of s)try{let l=JSON.parse(a);if(l.type==="log")return Pt.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}et.resolveGlobalYarnPath=Wm;var Fl;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!tc.existsSync(__filename.toUpperCase())||!tc.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(o,i){return n()?Pt.normalize(i).indexOf(Pt.normalize(o))===0:Pt.normalize(i).toLowerCase().indexOf(Pt.normalize(o).toLowerCase())===0}e.isParent=r})(Fl=et.FileSystem||(et.FileSystem={}));function Vm(e,t,n,r){return n?(Pt.isAbsolute(n)||(n=Pt.join(e,n)),hi(t,n,n,r).then(o=>Fl.isParent(n,o)?o:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,o=>hi(t,rc(r),e,r))):hi(t,rc(r),e,r)}et.resolveModulePath=Vm});var ic=G((vv,$l)=>{"use strict";$l.exports=je()});var Vl=G(Je=>{"use strict";var Hm=Je&&Je.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Wl=Je&&Je.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Hm(t,e,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.ProposedFeatures=Je.NotebookDocuments=Je.TextDocuments=Je.SemanticTokensBuilder=void 0;var Bm=Va();Object.defineProperty(Je,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Bm.SemanticTokensBuilder}});Wl(je(),Je);var Um=za();Object.defineProperty(Je,"TextDocuments",{enumerable:!0,get:function(){return Um.TextDocuments}});var zm=Ga();Object.defineProperty(Je,"NotebookDocuments",{enumerable:!0,get:function(){return zm.NotebookDocuments}});Wl(ec(),Je);var Jm;(function(e){e.all={__brand:"features"}})(Jm=Je.ProposedFeatures||(Je.ProposedFeatures={}))});var Wr=G(st=>{"use strict";var Gm=st&&st.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Bl=st&&st.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gm(t,e,n)};Object.defineProperty(st,"__esModule",{value:!0});st.createConnection=st.Files=void 0;var sc=eo(),Xm=ec(),$r=Il(),wn=ic();Bl(ic(),st);Bl(Vl(),st);var Km;(function(e){e.uriToFilePath=$r.uriToFilePath,e.resolveGlobalNodePath=$r.resolveGlobalNodePath,e.resolveGlobalYarnPath=$r.resolveGlobalYarnPath,e.resolve=$r.resolve,e.resolveModulePath=$r.resolveModulePath})(Km=st.Files||(st.Files={}));var Hl;function gi(){if(Hl!==void 0)try{Hl.end()}catch{}}var er=!1,Ul;function Ym(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(Ul=setInterval(()=>{try{process.kill(r,0)}catch{gi(),process.exit(er?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let o=r.split("=");o[0]===e&&t(o[1])}}}Ym();var Qm={initialize:e=>{let t=e.processId;sc.number(t)&&Ul===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(er?0:1)}},3e3)},get shutdownReceived(){return er},set shutdownReceived(e){er=e},exit:e=>{gi(),process.exit(e)}};function Zm(e,t,n,r){let o,i,s,a;return e!==void 0&&e.__brand==="features"&&(o=e,e=t,t=n,n=r),wn.ConnectionStrategy.is(e)||wn.ConnectionOptions.is(e)?a=e:(i=e,s=t,a=n),ey(i,s,a,o)}st.createConnection=Zm;function ey(e,t,n,r){if(!e&&!t&&process.argv.length>2){let a,l,c=process.argv.slice(2);for(let d=0;d<c.length;d++){let f=c[d];if(f==="--node-ipc"){e=new wn.IPCMessageReader(process),t=new wn.IPCMessageWriter(process);break}else if(f==="--stdio"){e=process.stdin,t=process.stdout;break}else if(f==="--socket"){a=parseInt(c[d+1]);break}else if(f==="--pipe"){l=c[d+1];break}else{var o=f.split("=");if(o[0]==="--socket"){a=parseInt(o[1]);break}else if(o[0]==="--pipe"){l=o[1];break}}}if(a){let d=(0,wn.createServerSocketTransport)(a);e=d[0],t=d[1]}else if(l){let d=(0,wn.createServerPipeTransport)(l);e=d[0],t=d[1]}}var i="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+i);if(!t)throw new Error("Connection output stream is not set. "+i);if(sc.func(e.read)&&sc.func(e.on)){let a=e;a.on("end",()=>{gi(),process.exit(er?0:1)}),a.on("close",()=>{gi(),process.exit(er?0:1)})}let s=a=>(0,wn.createProtocolConnection)(e,t,a,n);return(0,Xm.createConnection)(s,Qm,r)}});var Jl=G((xv,zl)=>{"use strict";zl.exports=Wr()});function tr(e,t){if(t instanceof Error){let n=t;return`${e}: ${n.message}
${n.stack}`}else{if(typeof t=="string")return`${e}: ${t}`;if(t)return`${e}: ${t.toString()}`}return e}function sn(e,t,n,r,o){return new Promise(i=>{e.timer.setImmediate(()=>{if(o.isCancellationRequested){i(mi());return}return t().then(s=>{if(o.isCancellationRequested){i(mi());return}else i(s)},s=>{console.error(tr(r,s)),i(n)})})})}function Sn(e,t,n,r,o){return new Promise(i=>{e.timer.setImmediate(()=>{if(o.isCancellationRequested)i(mi());else try{let s=t();if(o.isCancellationRequested){i(mi());return}else i(s)}catch(s){console.error(tr(r,s)),i(n)}})})}function mi(){return console.log("cancelled"),new yi.ResponseError(yi.LSPErrorCodes.RequestCancelled,"Request cancelled")}var yi,bi=ue(()=>{yi=ct(Wr())});function Xl(e,t,n,r){let o={},s=[];e.onDidChangeContent(c=>{l(c.document)},void 0,s),e.onDidClose(c=>{a(c.document),t.sendDiagnostics({uri:c.document.uri,diagnostics:[]})},void 0,s);function a(c){let d=o[c.uri];d&&(d.dispose(),delete o[c.uri])}function l(c){a(c);let d=o[c.uri]=n.timer.setTimeout(async()=>{if(d===o[c.uri])try{let f=await r(c);d===o[c.uri]&&t.sendDiagnostics({uri:c.uri,diagnostics:f}),delete o[c.uri]}catch(f){t.console.error(tr(`Error while validating ${c.uri}`,f))}},500)}return{requestRefresh:()=>{e.all().forEach(l)},dispose:()=>{s.forEach(d=>d.dispose()),s.length=0;let c=Object.keys(o);for(let d of c)o[d].dispose(),delete o[d]}}}function Kl(e,t,n,r){function o(a){return{kind:Gl.DocumentDiagnosticReportKind.Full,items:a}}let i=t.languages.diagnostics.on(async(a,l)=>sn(n,async()=>{let c=e.get(a.textDocument.uri);return o(c?await r(c):[])},o([]),`Error while computing diagnostics for ${a.textDocument.uri}`,l));function s(){t.languages.diagnostics.refresh()}return{requestRefresh:s,dispose:()=>{i.dispose()}}}var Gl,Yl=ue(()=>{Gl=ct(Wr());bi()});function rr(e,t=!1){let n=e.length,r=0,o="",i=0,s=16,a=0,l=0,c=0,d=0,f=0;function m(u,p){let _=0,O=0;for(;_<u||!p;){let N=e.charCodeAt(r);if(N>=48&&N<=57)O=O*16+N-48;else if(N>=65&&N<=70)O=O*16+N-65+10;else if(N>=97&&N<=102)O=O*16+N-97+10;else break;r++,_++}return _<u&&(O=-1),O}function h(u){r=u,o="",i=0,s=16,f=0}function g(){let u=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&nr(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&nr(e.charCodeAt(r)))for(r++;r<e.length&&nr(e.charCodeAt(r));)r++;else return f=3,e.substring(u,r);let p=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&nr(e.charCodeAt(r))){for(r++;r<e.length&&nr(e.charCodeAt(r));)r++;p=r}else f=3;return e.substring(u,p)}function v(){let u="",p=r;for(;;){if(r>=n){u+=e.substring(p,r),f=2;break}let _=e.charCodeAt(r);if(_===34){u+=e.substring(p,r),r++;break}if(_===92){if(u+=e.substring(p,r),r++,r>=n){f=2;break}switch(e.charCodeAt(r++)){case 34:u+='"';break;case 92:u+="\\";break;case 47:u+="/";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:let N=m(4,!0);N>=0?u+=String.fromCharCode(N):f=4;break;default:f=5}p=r;continue}if(_>=0&&_<=31)if(Vr(_)){u+=e.substring(p,r),f=2;break}else f=6;r++}return u}function S(){if(o="",f=0,i=r,l=a,d=c,r>=n)return i=n,s=17;let u=e.charCodeAt(r);if(ac(u)){do r++,o+=String.fromCharCode(u),u=e.charCodeAt(r);while(ac(u));return s=15}if(Vr(u))return r++,o+=String.fromCharCode(u),u===13&&e.charCodeAt(r)===10&&(r++,o+=`
`),a++,c=r,s=14;switch(u){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,o=v(),s=10;case 47:let p=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Vr(e.charCodeAt(r));)r++;return o=e.substring(p,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;let _=n-1,O=!1;for(;r<_;){let N=e.charCodeAt(r);if(N===42&&e.charCodeAt(r+1)===47){r+=2,O=!0;break}r++,Vr(N)&&(N===13&&e.charCodeAt(r)===10&&r++,a++,c=r)}return O||(r++,f=1),o=e.substring(p,r),s=13}return o+=String.fromCharCode(u),r++,s=16;case 45:if(o+=String.fromCharCode(u),r++,r===n||!nr(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return o+=g(),s=11;default:for(;r<n&&T(u);)r++,u=e.charCodeAt(r);if(i!==r){switch(o=e.substring(i,r),o){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return o+=String.fromCharCode(u),r++,s=16}}function T(u){if(ac(u)||Vr(u))return!1;switch(u){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){let u;do u=S();while(u>=12&&u<=15);return u}return{setPosition:h,getPosition:()=>r,scan:t?y:S,getToken:()=>s,getTokenValue:()=>o,getTokenOffset:()=>i,getTokenLength:()=>r-i,getTokenStartLine:()=>l,getTokenStartCharacter:()=>i-d,getTokenError:()=>f}}function ac(e){return e===32||e===9}function Vr(e){return e===10||e===13}function nr(e){return e>=48&&e<=57}var Ql,vi=ue(()=>{"use strict";(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(Ql||(Ql={}))});function uc(e,t,n){let r,o,i,s,a;if(t){for(s=t.offset,a=s+t.length,i=s;i>0&&!cc(e,i-1);)i--;let u=a;for(;u<e.length&&!cc(e,u);)u++;o=e.substring(i,u),r=ny(o,n)}else o=e,r=0,i=0,s=0,a=e.length;let l=ry(n,e),c=0,d=0,f;n.insertSpaces?f=or(" ",n.tabSize||4):f="	";let m=rr(o,!1),h=!1;function g(){return c>1?or(l,c)+or(f,r+d):l+or(f,r+d)}function v(){let u=m.scan();for(c=0;u===15||u===14;)u===14&&n.keepLines?c+=1:u===14&&(c=1),u=m.scan();return h=u===16||m.getTokenError()!==0,u}let S=[];function T(u,p,_){!h&&(!t||p<a&&_>s)&&e.substring(p,_)!==u&&S.push({offset:p,length:_-p,content:u})}let y=v();if(n.keepLines&&c>0&&T(or(l,c),0,0),y!==17){let u=m.getTokenOffset()+i,p=or(f,r);T(p,i,u)}for(;y!==17;){let u=m.getTokenOffset()+m.getTokenLength()+i,p=v(),_="",O=!1;for(;c===0&&(p===12||p===13);){let w=m.getTokenOffset()+i;T(" ",u,w),u=m.getTokenOffset()+m.getTokenLength()+i,O=p===12,_=O?g():"",p=v()}if(p===2)y!==1&&d--,n.keepLines&&c>0||!n.keepLines&&y!==1?_=g():n.keepLines&&(_=" ");else if(p===4)y!==3&&d--,n.keepLines&&c>0||!n.keepLines&&y!==3?_=g():n.keepLines&&(_=" ");else{switch(y){case 3:case 1:d++,n.keepLines&&c>0||!n.keepLines?_=g():_=" ";break;case 5:n.keepLines&&c>0||!n.keepLines?_=g():_=" ";break;case 12:_=g();break;case 13:c>0?_=g():O||(_=" ");break;case 6:n.keepLines&&c>0?_=g():O||(_=" ");break;case 10:n.keepLines&&c>0?_=g():p===6&&!O&&(_="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&c>0?_=g():(p===12||p===13)&&!O?_=" ":p!==5&&p!==17&&(h=!0);break;case 16:h=!0;break}c>0&&(p===12||p===13)&&(_=g())}p===17&&(n.keepLines&&c>0?_=g():_=n.insertFinalNewline?l:"");let N=m.getTokenOffset()+i;T(_,u,N),y=p}return S}function or(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function ny(e,t){let n=0,r=0,o=t.tabSize||4;for(;n<e.length;){let i=e.charAt(n);if(i===" ")r++;else if(i==="	")r+=o;else break;n++}return Math.floor(r/o)}function ry(e,t){for(let n=0;n<t.length;n++){let r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function cc(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}var lc=ue(()=>{"use strict";vi()});function Zl(e,t=[],n=_i.DEFAULT){let r=null,o=[],i=[];function s(l){Array.isArray(o)?o.push(l):r!==null&&(o[r]=l)}return ef(e,{onObjectBegin:()=>{let l={};s(l),i.push(o),o=l,r=null},onObjectProperty:l=>{r=l},onObjectEnd:()=>{o=i.pop()},onArrayBegin:()=>{let l=[];s(l),i.push(o),o=l,r=null},onArrayEnd:()=>{o=i.pop()},onLiteralValue:s,onError:(l,c,d)=>{t.push({error:l,offset:c,length:d})}},n),o[0]}function fc(e){if(!e.parent||!e.parent.children)return[];let t=fc(e.parent);if(e.parent.type==="property"){let n=e.parent.children[0].value;t.push(n)}else if(e.parent.type==="array"){let n=e.parent.children.indexOf(e);n!==-1&&t.push(n)}return t}function ki(e){switch(e.type){case"array":return e.children.map(ki);case"object":let t=Object.create(null);for(let n of e.children){let r=n.children[1];r&&(t[n.children[0].value]=ki(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function iy(e,t,n=!1){return t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}function dc(e,t,n=!1){if(iy(e,t,n)){let r=e.children;if(Array.isArray(r))for(let o=0;o<r.length&&r[o].offset<=t;o++){let i=dc(r[o],t,n);if(i)return i}return e}}function ef(e,t,n=_i.DEFAULT){let r=rr(e,!1),o=[];function i(D){return D?()=>D(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(D){return D?()=>D(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}function a(D){return D?q=>D(q,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function l(D){return D?q=>D(q,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>o.slice()):()=>!0}let c=s(t.onObjectBegin),d=l(t.onObjectProperty),f=i(t.onObjectEnd),m=s(t.onArrayBegin),h=i(t.onArrayEnd),g=l(t.onLiteralValue),v=a(t.onSeparator),S=i(t.onComment),T=a(t.onError),y=n&&n.disallowComments,u=n&&n.allowTrailingComma;function p(){for(;;){let D=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:y||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(D){case 12:case 13:y?_(10):S();break;case 16:_(1);break;case 15:case 14:break;default:return D}}}function _(D,q=[],j=[]){if(T(D),q.length+j.length>0){let W=r.getToken();for(;W!==17;){if(q.indexOf(W)!==-1){p();break}else if(j.indexOf(W)!==-1)break;W=p()}}}function O(D){let q=r.getTokenValue();return D?g(q):(d(q),o.push(q)),p(),!0}function N(){switch(r.getToken()){case 11:let D=r.getTokenValue(),q=Number(D);isNaN(q)&&(_(2),q=0),g(q);break;case 7:g(null);break;case 8:g(!0);break;case 9:g(!1);break;default:return!1}return p(),!0}function w(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(O(!1),r.getToken()===6?(v(":"),p(),R()||_(4,[],[2,5])):_(5,[],[2,5]),o.pop(),!0)}function b(){c(),p();let D=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(D||_(4,[],[]),v(","),p(),r.getToken()===2&&u)break}else D&&_(6,[],[]);w()||_(4,[],[2,5]),D=!0}return f(),r.getToken()!==2?_(7,[2],[]):p(),!0}function x(){m(),p();let D=!0,q=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(q||_(4,[],[]),v(","),p(),r.getToken()===4&&u)break}else q&&_(6,[],[]);D?(o.push(0),D=!1):o[o.length-1]++,R()||_(4,[],[4,5]),q=!0}return h(),D||o.pop(),r.getToken()!==4?_(8,[4],[]):p(),!0}function R(){switch(r.getToken()){case 3:return x();case 1:return b();case 10:return O(!0);default:return N()}}return p(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):R()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}var _i,pc=ue(()=>{"use strict";vi();(function(e){e.DEFAULT={allowTrailingComma:!1}})(_i||(_i={}))});var tf=ue(()=>{"use strict";lc();pc()});function lf(e,t,n){return uc(e,t,n)}var pt,nf,rf,sf,af,cf,uf,of,an=ue(()=>{"use strict";lc();tf();vi();pc();pt=rr;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(nf||(nf={}));(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(rf||(rf={}));sf=Zl,af=dc,cf=fc,uf=ki;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(of||(of={}))});function ir(e,t){if(e===t)return!0;if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"||Array.isArray(e)!==Array.isArray(t))return!1;let n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!ir(e[n],t[n]))return!1}else{let o=[];for(r in e)o.push(r);o.sort();let i=[];for(r in t)i.push(r);if(i.sort(),!ir(o,i))return!1;for(n=0;n<o.length;n++)if(!ir(e[o[n]],t[o[n]]))return!1}return!0}function Ge(e){return typeof e=="number"}function at(e){return typeof e<"u"}function ht(e){return typeof e=="boolean"}function xi(e){return typeof e=="string"}function Mt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var Hr=ue(()=>{});function ly(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function cn(e,t){let n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:n===0?e===t:!1}function Tn(e){let t="";ly(e,"(?i)")&&(e=e.substring(4),t="i");try{return new RegExp(e,t+"u")}catch{try{return new RegExp(e,t)}catch{return}}}function gc(e){let t=0;for(let n=0;n<e.length;n++){t++;let r=e.charCodeAt(n);55296<=r&&r<=56319&&n++}return t}var Br=ue(()=>{});function mc(e,t){if(e.length<=1)return e;var n=e.length/2|0,r=e.slice(0,n),o=e.slice(n);mc(r,t),mc(o,t);for(var i=0,s=0,a=0;i<r.length&&s<o.length;){var l=t(r[i],o[s]);l<=0?e[a++]=r[i++]:e[a++]=o[s++]}for(;i<r.length;)e[a++]=r[i++];for(;s<o.length;)e[a++]=o[s++];return e}function pf(e,t,n){n===void 0&&(n=0);for(var r=t?[n]:[],o=0;o<e.length;o++){var i=e.charCodeAt(o);(i===13||i===10)&&(i===13&&o+1<e.length&&e.charCodeAt(o+1)===10&&o++,r.push(n+o+1))}return r}function hf(e){var t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function dy(e){var t=hf(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var fy,df,tt,gf=ue(()=>{"use strict";fy=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},df=function(){function e(t,n,r,o){this._uri=t,this._languageId=n,this._version=r,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){for(var r=0,o=t;r<o.length;r++){var i=o[r];if(e.isIncremental(i)){var s=hf(i.range),a=this.offsetAt(s.start),l=this.offsetAt(s.end);this._content=this._content.substring(0,a)+i.text+this._content.substring(l,this._content.length);var c=Math.max(s.start.line,0),d=Math.max(s.end.line,0),f=this._lineOffsets,m=pf(i.text,!1,a);if(d-c===m.length)for(var h=0,g=m.length;h<g;h++)f[h+c+1]=m[h];else m.length<1e4?f.splice.apply(f,fy([c+1,d-c],m,!1)):this._lineOffsets=f=f.slice(0,c+1).concat(m,f.slice(d+1));var v=i.text.length-(l-a);if(v!==0)for(var h=c+1+m.length,g=f.length;h<g;h++)f[h]=f[h]+v}else if(e.isFull(i))this._content=i.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=n},e.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=pf(this._content,!0)),this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,o=n.length;if(o===0)return{line:0,character:t};for(;r<o;){var i=Math.floor((r+o)/2);n[i]>t?o=i:r=i+1}var s=r-1;return{line:s,character:t-n[s]}},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],o=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,o),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e.isIncremental=function(t){var n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")},e.isFull=function(t){var n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0},e}();(function(e){function t(o,i,s,a){return new df(o,i,s,a)}e.create=t;function n(o,i,s){if(o instanceof df)return o.update(i,s),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(o,i){for(var s=o.getText(),a=mc(i.map(dy),function(g,v){var S=g.range.start.line-v.range.start.line;return S===0?g.range.start.character-v.range.start.character:S}),l=0,c=[],d=0,f=a;d<f.length;d++){var m=f[d],h=o.offsetAt(m.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&c.push(s.substring(l,h)),m.newText.length&&c.push(m.newText),l=o.offsetAt(m.range.end)}return c.push(s.substr(l)),c.join("")}e.applyEdits=r})(tt||(tt={}))});var ie,gt,wi,mt=ue(()=>{Sr();gf();(function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.PropertyKeysMustBeDoublequoted=528]="PropertyKeysMustBeDoublequoted",e[e.SchemaResolveError=768]="SchemaResolveError",e[e.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature"})(ie||(ie={}));(function(e){e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v6=6]="v6",e[e.v7=7]="v7",e[e.v2019_09=19]="v2019_09",e[e.v2020_12=20]="v2020_12"})(gt||(gt={}));(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Ot.Markdown,Ot.PlainText],commitCharactersSupport:!0,labelDetailsSupport:!0}}}}})(wi||(wi={}))});var Dn=G((Jv,xf)=>{"use strict";var py=Object.create,Ti=Object.defineProperty,hy=Object.getOwnPropertyDescriptor,bf=Object.getOwnPropertyNames,gy=Object.getPrototypeOf,my=Object.prototype.hasOwnProperty,yy=(e,t)=>function(){return t||(0,e[bf(e)[0]])((t={exports:{}}).exports,t),t.exports},by=(e,t)=>{for(var n in t)Ti(e,n,{get:t[n],enumerable:!0})},vf=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bf(t))!my.call(e,o)&&o!==n&&Ti(e,o,{get:()=>t[o],enumerable:!(r=hy(t,o))||r.enumerable});return e},vy=(e,t,n)=>(n=e!=null?py(gy(e)):{},vf(t||!e||!e.__esModule?Ti(n,"default",{value:e,enumerable:!0}):n,e)),_y=e=>vf(Ti({},"__esModule",{value:!0}),e),ky=yy({"node_modules/request-light/lib/node/main.js"(e){(()=>{var t={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l,c,{signal:d}={}){return new Promise((f,m)=>{function h(){d==null||d.removeEventListener("abort",h),l.removeListener(c,g),l.removeListener("error",v)}function g(...S){h(),f(S)}function v(S){h(),m(S)}d==null||d.addEventListener("abort",h),l.on(c,g),l.on("error",v)})}},54:function(s,a,l){"use strict";var c=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};let d=l(361),f=c(l(374)),m=c(l(304)),h=f.default("agent-base");function g(){let{stack:S}=new Error;return typeof S=="string"&&S.split(`
`).some(T=>T.indexOf("(https.js:")!==-1||T.indexOf("node:https:")!==-1)}function v(S,T){return new v.Agent(S,T)}(function(S){class T extends d.EventEmitter{constructor(u,p){super();let _=p;typeof u=="function"?this.callback=u:u&&(_=u),this.timeout=null,_&&typeof _.timeout=="number"&&(this.timeout=_.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:g()?443:80}set defaultPort(u){this.explicitDefaultPort=u}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:g()?"https:":"http:"}set protocol(u){this.explicitProtocol=u}callback(u,p,_){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(u,p){let _=Object.assign({},p);typeof _.secureEndpoint!="boolean"&&(_.secureEndpoint=g()),_.host==null&&(_.host="localhost"),_.port==null&&(_.port=_.secureEndpoint?443:80),_.protocol==null&&(_.protocol=_.secureEndpoint?"https:":"http:"),_.host&&_.path&&delete _.path,delete _.agent,delete _.hostname,delete _._defaultAgent,delete _.defaultPort,delete _.createConnection,u._last=!0,u.shouldKeepAlive=!1;let O=!1,N=null,w=_.timeout||this.timeout,b=q=>{u._hadError||(u.emit("error",q),u._hadError=!0)},x=()=>{N=null,O=!0;let q=new Error(`A "socket" was not created for HTTP request before ${w}ms`);q.code="ETIMEOUT",b(q)},R=q=>{O||(N!==null&&(clearTimeout(N),N=null),b(q))},D=q=>{if(O)return;if(N!=null&&(clearTimeout(N),N=null),j=q,Boolean(j)&&typeof j.addRequest=="function")return h("Callback returned another Agent instance %o",q.constructor.name),void q.addRequest(u,_);var j;if(q)return q.once("free",()=>{this.freeSocket(q,_)}),void u.onSocket(q);let W=new Error(`no Duplex stream was returned to agent-base for \`${u.method} ${u.path}\``);b(W)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(h("Converting legacy callback function to promise"),this.promisifiedCallback=m.default(this.callback)):this.promisifiedCallback=this.callback),typeof w=="number"&&w>0&&(N=setTimeout(x,w)),"port"in _&&typeof _.port!="number"&&(_.port=Number(_.port));try{h("Resolving socket for %o request: %o",_.protocol,`${u.method} ${u.path}`),Promise.resolve(this.promisifiedCallback(u,_)).then(D,R)}catch(q){Promise.reject(q).catch(R)}}else b(new Error("`callback` is not defined"))}freeSocket(u,p){h("Freeing socket %o %o",u.constructor.name,p),u.destroy()}destroy(){h("Destroying agent %o",this.constructor.name)}}S.Agent=T,S.prototype=S.Agent.prototype})(v||(v={})),s.exports=v},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){return function(c,d){return new Promise((f,m)=>{l.call(this,c,d,(h,g)=>{h?m(h):f(g)})})}}},370:function(s,a,l){"use strict";var c=this&&this.__awaiter||function(u,p,_,O){return new(_||(_=Promise))(function(N,w){function b(D){try{R(O.next(D))}catch(q){w(q)}}function x(D){try{R(O.throw(D))}catch(q){w(q)}}function R(D){var q;D.done?N(D.value):(q=D.value,q instanceof _?q:new _(function(j){j(q)})).then(b,x)}R((O=O.apply(u,p||[])).next())})},d=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(a,"__esModule",{value:!0});let f=d(l(808)),m=d(l(404)),h=d(l(310)),g=d(l(374)),v=d(l(46)),S=l(54),T=(0,g.default)("http-proxy-agent");class y extends S.Agent{constructor(p){let _;if(_=typeof p=="string"?h.default.parse(p):p,!_)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");T("Creating new HttpProxyAgent instance: %o",_),super(_);let O=Object.assign({},_);var N;this.secureProxy=_.secureProxy||typeof(N=O.protocol)=="string"&&/^https:?$/i.test(N),O.host=O.hostname||O.host,typeof O.port=="string"&&(O.port=parseInt(O.port,10)),!O.port&&O.host&&(O.port=this.secureProxy?443:80),O.host&&O.path&&(delete O.path,delete O.pathname),this.proxy=O}callback(p,_){return c(this,void 0,void 0,function*(){let{proxy:O,secureProxy:N}=this,w=h.default.parse(p.path),b;if(w.protocol||(w.protocol="http:"),w.hostname||(w.hostname=_.hostname||_.host||null),w.port==null&&(_.port,1)&&(w.port=String(_.port)),w.port==="80"&&(w.port=""),p.path=h.default.format(w),O.auth&&p.setHeader("Proxy-Authorization",`Basic ${Buffer.from(O.auth).toString("base64")}`),N?(T("Creating `tls.Socket`: %o",O),b=m.default.connect(O)):(T("Creating `net.Socket`: %o",O),b=f.default.connect(O)),p._header){let x,R;T("Regenerating stored HTTP header string for request"),p._header=null,p._implicitHeader(),p.output&&p.output.length>0?(T("Patching connection write() output buffer with updated header"),x=p.output[0],R=x.indexOf(`\r
\r
`)+4,p.output[0]=p._header+x.substring(R),T("Output buffer: %o",p.output)):p.outputData&&p.outputData.length>0&&(T("Patching connection write() output buffer with updated header"),x=p.outputData[0].data,R=x.indexOf(`\r
\r
`)+4,p.outputData[0].data=p._header+x.substring(R),T("Output buffer: %o",p.outputData[0].data))}return yield(0,v.default)(b,"connect"),b})}}a.default=y},201:function(s,a,l){"use strict";let c=(this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}})(l(370));function d(f){return new c.default(f)}(function(f){f.HttpProxyAgent=c.default,f.prototype=c.default.prototype})(d||(d={})),s.exports=d},146:function(s,a,l){"use strict";var c=this&&this.__awaiter||function(_,O,N,w){return new(N||(N=Promise))(function(b,x){function R(j){try{q(w.next(j))}catch(W){x(W)}}function D(j){try{q(w.throw(j))}catch(W){x(W)}}function q(j){var W;j.done?b(j.value):(W=j.value,W instanceof N?W:new N(function(M){M(W)})).then(R,D)}q((w=w.apply(_,O||[])).next())})},d=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(a,"__esModule",{value:!0});let f=d(l(808)),m=d(l(404)),h=d(l(310)),g=d(l(491)),v=d(l(374)),S=l(54),T=d(l(829)),y=v.default("https-proxy-agent:agent");class u extends S.Agent{constructor(O){let N;if(N=typeof O=="string"?h.default.parse(O):O,!N)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");y("creating new HttpsProxyAgent instance: %o",N),super(N);let w=Object.assign({},N);var b;this.secureProxy=N.secureProxy||typeof(b=w.protocol)=="string"&&/^https:?$/i.test(b),w.host=w.hostname||w.host,typeof w.port=="string"&&(w.port=parseInt(w.port,10)),!w.port&&w.host&&(w.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in w)&&(w.ALPNProtocols=["http 1.1"]),w.host&&w.path&&(delete w.path,delete w.pathname),this.proxy=w}callback(O,N){return c(this,void 0,void 0,function*(){let{proxy:w,secureProxy:b}=this,x;b?(y("Creating `tls.Socket`: %o",w),x=m.default.connect(w)):(y("Creating `net.Socket`: %o",w),x=f.default.connect(w));let R=Object.assign({},w.headers),D=`CONNECT ${N.host}:${N.port} HTTP/1.1\r
`;w.auth&&(R["Proxy-Authorization"]=`Basic ${Buffer.from(w.auth).toString("base64")}`);let{host:q,port:j,secureEndpoint:W}=N;(function(I,H){return Boolean(!H&&I===80||H&&I===443)})(j,W)||(q+=`:${j}`),R.Host=q,R.Connection="close";for(let I of Object.keys(R))D+=`${I}: ${R[I]}\r
`;let M=T.default(x);x.write(`${D}\r
`);let{statusCode:E,buffered:L}=yield M;if(E===200){if(O.once("socket",p),N.secureEndpoint){y("Upgrading socket connection to TLS");let I=N.servername||N.host;return m.default.connect(Object.assign(Object.assign({},function(H,...V){let Y={},re;for(re in H)V.includes(re)||(Y[re]=H[re]);return Y}(N,"host","hostname","path","port")),{socket:x,servername:I}))}return x}x.destroy();let A=new f.default.Socket({writable:!1});return A.readable=!0,O.once("socket",I=>{y("replaying proxy buffer for failed request"),g.default(I.listenerCount("data")>0),I.push(L),I.push(null)}),A})}}function p(_){_.resume()}a.default=u},18:function(s,a,l){"use strict";let c=(this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}})(l(146));function d(f){return new c.default(f)}(function(f){f.HttpsProxyAgent=c.default,f.prototype=c.default.prototype})(d||(d={})),s.exports=d},829:function(s,a,l){"use strict";var c=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(a,"__esModule",{value:!0});let d=c(l(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(f){return new Promise((m,h)=>{let g=0,v=[];function S(){let u=f.read();u?function(p){v.push(p),g+=p.length;let _=Buffer.concat(v,g);if(_.indexOf(`\r
\r
`)===-1)return d("have not received end of HTTP headers yet..."),void S();let O=_.toString("ascii",0,_.indexOf(`\r
`)),N=+O.split(" ")[1];d("got proxy server response: %o",O),m({statusCode:N,buffered:_})}(u):f.once("readable",S)}function T(u){d("onclose had error %o",u)}function y(){d("onend")}f.on("error",function u(p){f.removeListener("end",y),f.removeListener("error",u),f.removeListener("close",T),f.removeListener("readable",S),d("onerror %o",p),h(p)}),f.on("close",T),f.on("end",y),S()})}},539:function(s,a,l){"use strict";var c,d=this&&this.__extends||(c=function(b,x){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,D){R.__proto__=D}||function(R,D){for(var q in D)Object.prototype.hasOwnProperty.call(D,q)&&(R[q]=D[q])},c(b,x)},function(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function R(){this.constructor=b}c(b,x),b.prototype=x===null?Object.create(x):(R.prototype=x.prototype,new R)}),f=this&&this.__assign||function(){return f=Object.assign||function(b){for(var x,R=1,D=arguments.length;R<D;R++)for(var q in x=arguments[R])Object.prototype.hasOwnProperty.call(x,q)&&(b[q]=x[q]);return b},f.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var m=l(685),h=l(687),g=l(310),v=l(472),S=l(796),T=l(201),y=l(18);if(process.env.VSCODE_NLS_CONFIG){var u=process.env.VSCODE_NLS_CONFIG;v.config(JSON.parse(u))}var p=v.loadMessageBundle(),_=void 0,O=!0;function N(b){var x;return new Promise(function(R,D){var q=(0,g.parse)(b.url),j={hostname:q.hostname,agent:!!b.agent&&b.agent,port:q.port?parseInt(q.port):q.protocol==="https:"?443:80,path:q.path,method:b.type||"GET",headers:b.headers,rejectUnauthorized:typeof b.strictSSL!="boolean"||b.strictSSL};b.user&&b.password&&(j.auth=b.user+":"+b.password);var W=function(M){if(M.statusCode>=300&&M.statusCode<400&&b.followRedirects&&b.followRedirects>0&&M.headers.location){var E=M.headers.location;E.startsWith("/")&&(E=(0,g.format)({protocol:q.protocol,hostname:q.hostname,port:q.port,pathname:E})),R(N(function(L){for(var A=[],I=1;I<arguments.length;I++)A[I-1]=arguments[I];return A.forEach(function(H){return Object.keys(H).forEach(function(V){return L[V]=H[V]})}),L}({},b,{url:E,followRedirects:b.followRedirects-1})))}else R({req:x,res:M})};(x=q.protocol==="https:"?h.request(j,W):m.request(j,W)).on("error",D),b.timeout&&x.setTimeout(b.timeout),b.data&&x.write(b.data),x.end(),b.token&&(b.token.isCancellationRequested&&x.destroy(new w),b.token.onCancellationRequested(function(){x.destroy(new w)}))})}a.configure=function(b,x){_=b,O=x},a.xhr=function(b){return typeof(b=f({},b)).strictSSL!="boolean"&&(b.strictSSL=O),b.agent||(b.agent=function(x,R){R===void 0&&(R={});var D=(0,g.parse)(x),q=R.proxyUrl||function(M){return M.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:M.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(D);if(!q)return null;var j=(0,g.parse)(q);if(!/^https?:$/.test(j.protocol))return null;var W={host:j.hostname,port:Number(j.port),auth:j.auth,rejectUnauthorized:typeof R.strictSSL!="boolean"||R.strictSSL,protocol:j.protocol};return D.protocol==="http:"?T(W):y(W)}(b.url,{proxyUrl:_,strictSSL:O})),typeof b.followRedirects!="number"&&(b.followRedirects=5),N(b).then(function(x){return new Promise(function(R,D){var q,j,W=x.res,M=W,E=!1,L=W.headers&&W.headers["content-encoding"];if(L&&(q=b.type,j=x.res.statusCode,!(q==="HEAD"||j>=100&&j<200||j===204||j===304))){var A={flush:S.constants.Z_SYNC_FLUSH,finishFlush:S.constants.Z_SYNC_FLUSH};if(L==="gzip"){var I=S.createGunzip(A);W.pipe(I),M=I}else if(L==="deflate"){var H=S.createInflate(A);W.pipe(H),M=H}}var V=[];M.on("data",function(Y){return V.push(Y)}),M.on("end",function(){if(!E){if(E=!0,b.followRedirects>0&&(W.statusCode>=300&&W.statusCode<=303||W.statusCode===307)){var Y=W.headers.location;if(Y.startsWith("/")){var re=(0,g.parse)(b.url);Y=(0,g.format)({protocol:re.protocol,hostname:re.hostname,port:re.port,pathname:Y})}if(Y){var he={type:b.type,url:Y,user:b.user,password:b.password,headers:b.headers,timeout:b.timeout,followRedirects:b.followRedirects-1,data:b.data,token:b.token};return void(0,a.xhr)(he).then(R,D)}}var Pe=Buffer.concat(V),Ne={responseText:Pe.toString(),body:Pe,status:W.statusCode,headers:W.headers||{}};W.statusCode>=200&&W.statusCode<300||W.statusCode===1223?R(Ne):D(Ne)}}),M.on("error",function(Y){var re;re=w.is(Y)?Y:{responseText:p("error","Unable to access {0}. Error: {1}",b.url,Y.message),body:Buffer.concat(V),status:500,headers:{}},E=!0,D(re)}),b.token&&(b.token.isCancellationRequested&&M.destroy(new w),b.token.onCancellationRequested(function(){M.destroy(new w)}))})},function(x){var R;return R=w.is(x)?x:{responseText:b.agent?p("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",b.url,x.message):p("error.cannot.connect","Unable to connect to {0}. Error: {1}",b.url,x.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(R)})},a.getErrorStatusDescription=function(b){if(!(b<400))switch(b){case 400:return p("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return p("status.401","Unauthorized. The server is refusing to respond.");case 403:return p("status.403","Forbidden. The server is refusing to respond.");case 404:return p("status.404","Not Found. The requested location could not be found.");case 405:return p("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return p("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return p("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return p("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return p("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return p("status.410","Gone. The requested page is no longer available.");case 411:return p("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return p("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return p("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return p("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return p("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return p("status.500","Internal Server Error.");case 501:return p("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return p("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return p("status.416","HTTP status code {0}",b)}};var w=function(b){function x(){var R=b.call(this,"The user aborted a request")||this;return R.name="AbortError",Object.setPrototypeOf(R,x.prototype),R}return d(x,b),x.is=function(R){return R instanceof x},x}(Error)},800:(s,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,d,f,m=l(926);function h(v){return v!==void 0}function g(v,S){return a.isPseudo&&(v="\uFF3B"+v.replace(/[aouei]/g,"$&$&")+"\uFF3D"),S.length===0?v:v.replace(/\{(\d+)\}/g,function(T,y){var u=y[0],p=S[u],_=T;return typeof p=="string"?_=p:typeof p!="number"&&typeof p!="boolean"&&p!=null||(_=String(p)),_})}(f=a.MessageFormat||(a.MessageFormat={})).file="file",f.bundle="bundle",f.both="both",(d=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",d.languagePack="languagePack",function(v){v.is=function(S){var T=S;return T&&h(T.key)&&h(T.comment)}}(c||(c={})),a.isDefined=h,a.isPseudo=!1,a.setPseudo=function(v){a.isPseudo=v},a.format=g,a.localize=function(v,S){for(var T=[],y=2;y<arguments.length;y++)T[y-2]=arguments[y];return g(S,T)},a.loadMessageBundle=function(v){return(0,m.default)().loadMessageBundle(v)},a.config=function(v){return(0,m.default)().config(v)}},926:(s,a)=>{"use strict";var l;function c(){if(l===void 0)throw new Error("No runtime abstraction layer installed");return l}Object.defineProperty(a,"__esModule",{value:!0}),function(d){d.install=function(f){if(f===void 0)throw new Error("No runtime abstraction layer provided");l=f}}(c||(c={})),a.default=c},472:(s,a,l)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=l(17),d=l(147),f=l(926),m=l(800),h=l(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return h.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return h.BundleFormat}});var g,v,S=Object.prototype.toString;function T(x){return S.call(x)==="[object Number]"}function y(x){return S.call(x)==="[object String]"}function u(x){return JSON.parse(d.readFileSync(x,"utf8"))}function p(x){return function(R,D){for(var q=[],j=2;j<arguments.length;j++)q[j-2]=arguments[j];return T(R)?R>=x.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,m.format)(x[R],q):y(D)?(console.warn("Message ".concat(D," didn't get externalized correctly.")),(0,m.format)(D,q)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function _(x,R){return g[x]=R,R}function O(x){try{return function(R){var D=u(c.join(R,"nls.metadata.json")),q=Object.create(null);for(var j in D){var W=D[j];q[j]=W.messages}return q}(x)}catch(R){return void console.log("Generating default bundle from meta data failed.",R)}}function N(x,R){var D;if(v.languagePackSupport===!0&&v.cacheRoot!==void 0&&v.languagePackId!==void 0&&v.translationsConfigFile!==void 0&&v.translationsConfig!==void 0)try{D=function(j,W){var M,E,L,A=c.join(v.cacheRoot,"".concat(j.id,"-").concat(j.hash,".json")),I=!1,H=!1;try{return M=JSON.parse(d.readFileSync(A,{encoding:"utf8",flag:"r"})),E=A,L=new Date,d.utimes(E,L,L,function(){}),M}catch(V){if(V.code==="ENOENT")H=!0;else{if(!(V instanceof SyntaxError))throw V;console.log("Syntax error parsing message bundle: ".concat(V.message,".")),d.unlink(A,function(Y){Y&&console.error("Deleting corrupted bundle ".concat(A," failed."))}),I=!0}}if(M=function(V,Y){var re=v.translationsConfig[V.id];if(re){var he=u(re).contents,Pe=u(c.join(Y,"nls.metadata.json")),Ne=Object.create(null);for(var yt in Pe){var jt=Pe[yt],fn=he["".concat(V.outDir,"/").concat(yt)];if(fn){for(var Lt=[],$e=0;$e<jt.keys.length;$e++){var Ft=jt.keys[$e],ur=fn[y(Ft)?Ft:Ft.key];ur===void 0&&(ur=jt.messages[$e]),Lt.push(ur)}Ne[yt]=Lt}else Ne[yt]=jt.messages}return Ne}}(j,W),!M||I)return M;if(H)try{d.writeFileSync(A,JSON.stringify(M),{encoding:"utf8",flag:"wx"})}catch(V){if(V.code==="EEXIST")return M;throw V}return M}(x,R)}catch(j){console.log("Load or create bundle failed ",j)}if(!D){if(v.languagePackSupport)return O(R);var q=function(j){for(var W=v.language;W;){var M=c.join(j,"nls.bundle.".concat(W,".json"));if(d.existsSync(M))return M;var E=W.lastIndexOf("-");W=E>0?W.substring(0,E):void 0}if(W===void 0&&(M=c.join(j,"nls.bundle.json"),d.existsSync(M)))return M}(R);if(q)try{return u(q)}catch(j){console.log("Loading in the box message bundle failed.",j)}D=O(R)}return D}function w(x){if(!x)return m.localize;var R=c.extname(x);if(R&&(x=x.substr(0,x.length-R.length)),v.messageFormat===m.MessageFormat.both||v.messageFormat===m.MessageFormat.bundle){var D=function(I){for(var H,V=c.dirname(I);H=c.join(V,"nls.metadata.header.json"),!d.existsSync(H);){var Y=c.dirname(V);if(Y===V){H=void 0;break}V=Y}return H}(x);if(D){var q=c.dirname(D),j=g[q];if(j===void 0)try{var W=JSON.parse(d.readFileSync(D,"utf8"));try{var M=N(W,q);j=_(q,M?{header:W,nlsBundle:M}:null)}catch(I){console.error("Failed to load nls bundle",I),j=_(q,null)}}catch(I){console.error("Failed to read header file",I),j=_(q,null)}if(j){var E=x.substr(q.length+1).replace(/\\/g,"/"),L=j.nlsBundle[E];return L===void 0?(console.error("Messages for file ".concat(x," not found. See console for details.")),function(){return"Messages not found."}):p(L)}}}if(v.messageFormat===m.MessageFormat.both||v.messageFormat===m.MessageFormat.file)try{var A=u(function(I){var H;if(!(v.cacheLanguageResolution&&H)){if(m.isPseudo||!v.language)H=".nls.json";else for(var V=v.language;V;){var Y=".nls."+V+".json";if(d.existsSync(I+Y)){H=Y;break}var re=V.lastIndexOf("-");re>0?V=V.substring(0,re):(H=".nls.json",V=null)}v.cacheLanguageResolution}return I+H}(x));return Array.isArray(A)?p(A):(0,m.isDefined)(A.messages)&&(0,m.isDefined)(A.keys)?p(A.messages):(console.error("String bundle '".concat(x,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(I){I.code!=="ENOENT"&&console.error("Failed to load single file bundle",I)}return console.error("Failed to load message bundle for file ".concat(x)),function(){return"Failed to load message bundle. See console for details."}}function b(x){return x&&(y(x.locale)&&(v.locale=x.locale.toLowerCase(),v.language=v.locale,g=Object.create(null)),x.messageFormat!==void 0&&(v.messageFormat=x.messageFormat),x.bundleFormat===m.BundleFormat.standalone&&v.languagePackSupport===!0&&(v.languagePackSupport=!1)),(0,m.setPseudo)(v.locale==="pseudo"),w}(function(){if(v={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:m.MessageFormat.bundle},y(process.env.VSCODE_NLS_CONFIG))try{var x=JSON.parse(process.env.VSCODE_NLS_CONFIG),R=void 0;if(x.availableLanguages){var D=x.availableLanguages["*"];y(D)&&(R=D)}if(y(x.locale)&&(v.locale=x.locale.toLowerCase()),R===void 0?v.language=v.locale:R!=="en"&&(v.language=R),function(j){return j===!0||j===!1}(x._languagePackSupport)&&(v.languagePackSupport=x._languagePackSupport),y(x._cacheRoot)&&(v.cacheRoot=x._cacheRoot),y(x._languagePackId)&&(v.languagePackId=x._languagePackId),y(x._translationsConfigFile)){v.translationsConfigFile=x._translationsConfigFile;try{v.translationsConfig=u(v.translationsConfigFile)}catch{if(x._corruptedFile){var q=c.dirname(x._corruptedFile);d.exists(q,function(W){W&&d.writeFile(x._corruptedFile,"corrupted","utf8",function(M){console.error(M)})})}}}}catch{}(0,m.setPseudo)(v.locale==="pseudo"),g=Object.create(null)})(),a.loadMessageBundle=w,a.config=b,f.default.install(Object.freeze({loadMessageBundle:w,config:b}))},374:(s,a)=>{function l(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return l}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},n={},r=function s(a){var l=n[a];if(l!==void 0)return l.exports;var c=n[a]={exports:{}};return t[a].call(c.exports,c,c.exports,s),c.exports}(539),o=e;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})()}}),_f={};by(_f,{config:()=>Py,t:()=>kf});xf.exports=_y(_f);var xy=require("fs"),wy=require("fs/promises"),mf=vy(ky());async function Sy(e){if(e.protocol==="file:")return await(0,wy.readFile)(e,"utf8");if(e.protocol==="http:"||e.protocol==="https:")try{let t=await(0,mf.xhr)({url:e.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(t.body)}catch(t){throw new Error(t.responseText??(0,mf.getErrorStatusDescription)(t.status)??t.toString())}throw new Error("Unsupported protocol")}function Ty(e){return(0,xy.readFileSync)(e,"utf8")}var Pn;function Py(e){if("contents"in e){typeof e.contents=="string"?Pn=JSON.parse(e.contents):Pn=e.contents;return}if("fsPath"in e){let t=Ty(e.fsPath),n=JSON.parse(t);Pn=yf(n)?n.contents.bundle:n;return}if(e.uri){let t=e.uri;return typeof e.uri=="string"&&(t=new URL(e.uri)),new Promise((n,r)=>{let o=Sy(t).then(i=>{try{let s=JSON.parse(i);Pn=yf(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(i=>{r(i)});n(o)})}}function kf(...e){let t=e[0],n,r,o;if(typeof t=="string")n=t,r=t,e.splice(0,1),o=!e||typeof e[0]!="object"?e:e[0];else if(t instanceof Array){let s=e.slice(1);if(t.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=t[0];for(let l=1;l<t.length;l++)a+=`{${l-1}}`+t[l];return kf(a,...s)}else r=t.message,n=r,t.comment&&t.comment.length>0&&(n+=`/${Array.isArray(t.comment)?t.comment.join(""):t.comment}`),o=t.args??{};let i=Pn==null?void 0:Pn[n];return i?typeof i=="string"?Si(i,o):i.comment?Si(i.message,o):Si(r,o):Si(r,o)}var Dy=/{([^}]+)}/g;function Si(e,t){return e.replace(Dy,(n,r)=>t[r]??n)}function yf(e){var t;return typeof((t=e==null?void 0:e.contents)==null?void 0:t.bundle)=="object"&&typeof(e==null?void 0:e.version)=="string"}});function nt(e){return ht(e)?e?{}:{not:{}}:e}function Tf(e,t=[]){return new Ri(e,t,[])}function At(e){return uf(e)}function Jr(e){return cf(e)}function xc(e,t,n=!1){return t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}function Sf(e,t=gt.v2020_12){let n=e.$schema;return n?Oy[n]??t:t}function Fe(e,t,n,r,o){if(!e||!r.include(e))return;if(e.type==="property")return Fe(e.valueNode,t,n,r,o);let i=e;switch(s(),i.type){case"object":d(i);break;case"array":c(i);break;case"string":l(i);break;case"number":a(i);break}r.add({node:i,schema:t});function s(){function f(y){return i.type===y||y==="integer"&&i.type==="number"&&i.isInteger}if(Array.isArray(t.type)?t.type.some(f)||n.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||J.t("Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(f(t.type)||n.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||J.t('Incorrect type. Expected "{0}".',t.type)})),Array.isArray(t.allOf))for(let y of t.allOf){let u=new Ie,p=r.newSub();Fe(i,nt(y),u,p,o),n.merge(u),r.merge(p)}let m=nt(t.not);if(m){let y=new Ie,u=r.newSub();Fe(i,m,y,u,o),y.hasProblems()||n.problems.push({location:{offset:i.offset,length:i.length},message:t.errorMessage||J.t("Matches a schema that is not allowed.")});for(let p of u.schemas)p.inverted=!p.inverted,r.add(p)}let h=(y,u)=>{let p=[],_;for(let O of y){let N=nt(O),w=new Ie,b=r.newSub();if(Fe(i,N,w,b,o),w.hasProblems()||p.push(N),!_)_={schema:N,validationResult:w,matchingSchemas:b};else if(!u&&!w.hasProblems()&&!_.validationResult.hasProblems())_.matchingSchemas.merge(b),_.validationResult.propertiesMatches+=w.propertiesMatches,_.validationResult.propertiesValueMatches+=w.propertiesValueMatches,_.validationResult.mergeProcessedProperties(w);else{let x=w.compare(_.validationResult);x>0?_={schema:N,validationResult:w,matchingSchemas:b}:x===0&&(_.matchingSchemas.merge(b),_.validationResult.mergeEnumValues(w))}}return p.length>1&&u&&n.problems.push({location:{offset:i.offset,length:1},message:J.t("Matches multiple schemas when only one must validate.")}),_&&(n.merge(_.validationResult),r.merge(_.matchingSchemas)),p.length};Array.isArray(t.anyOf)&&h(t.anyOf,!1),Array.isArray(t.oneOf)&&h(t.oneOf,!0);let g=y=>{let u=new Ie,p=r.newSub();Fe(i,nt(y),u,p,o),n.merge(u),r.merge(p)},v=(y,u,p)=>{let _=nt(y),O=new Ie,N=r.newSub();Fe(i,_,O,N,o),r.merge(N),n.mergeProcessedProperties(O),O.hasProblems()?p&&g(p):u&&g(u)},S=nt(t.if);if(S&&v(S,nt(t.then),nt(t.else)),Array.isArray(t.enum)){let y=At(i),u=!1;for(let p of t.enum)if(ir(y,p)){u=!0;break}n.enumValues=t.enum,n.enumValueMatch=u,u||n.problems.push({location:{offset:i.offset,length:i.length},code:ie.EnumValueMismatch,message:t.errorMessage||J.t("Value is not accepted. Valid values: {0}.",t.enum.map(p=>JSON.stringify(p)).join(", "))})}if(at(t.const)){let y=At(i);ir(y,t.const)?n.enumValueMatch=!0:(n.problems.push({location:{offset:i.offset,length:i.length},code:ie.EnumValueMismatch,message:t.errorMessage||J.t("Value must be {0}.",JSON.stringify(t.const))}),n.enumValueMatch=!1),n.enumValues=[t.const]}let T=t.deprecationMessage;(T||t.deprecated)&&i.parent&&(T=T||J.t("Value is deprecated"),n.problems.push({location:{offset:i.parent.offset,length:i.parent.length},severity:He.Warning,message:T,code:ie.Deprecated}))}function a(f){let m=f.value;function h(p){var O;let _=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(p.toString());return _&&{value:Number(_[1]+(_[2]||"")),multiplier:(((O=_[2])==null?void 0:O.length)||0)-(parseInt(_[3])||0)}}if(Ge(t.multipleOf)){let p=-1;if(Number.isInteger(t.multipleOf))p=m%t.multipleOf;else{let _=h(t.multipleOf),O=h(m);if(_&&O){let N=10**Math.abs(O.multiplier-_.multiplier);O.multiplier<_.multiplier?O.value*=N:_.value*=N,p=O.value%_.value}}p!==0&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Value is not divisible by {0}.",t.multipleOf)})}function g(p,_){if(Ge(_))return _;if(ht(_)&&_)return p}function v(p,_){if(!ht(_)||!_)return p}let S=g(t.minimum,t.exclusiveMinimum);Ge(S)&&m<=S&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Value is below the exclusive minimum of {0}.",S)});let T=g(t.maximum,t.exclusiveMaximum);Ge(T)&&m>=T&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Value is above the exclusive maximum of {0}.",T)});let y=v(t.minimum,t.exclusiveMinimum);Ge(y)&&m<y&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Value is below the minimum of {0}.",y)});let u=v(t.maximum,t.exclusiveMaximum);Ge(u)&&m>u&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Value is above the maximum of {0}.",u)})}function l(f){if(Ge(t.minLength)&&gc(f.value)<t.minLength&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("String is shorter than the minimum length of {0}.",t.minLength)}),Ge(t.maxLength)&&gc(f.value)>t.maxLength&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("String is longer than the maximum length of {0}.",t.maxLength)}),xi(t.pattern)){let m=Tn(t.pattern);m!=null&&m.test(f.value)||n.problems.push({location:{offset:f.offset,length:f.length},message:t.patternErrorMessage||t.errorMessage||J.t('String does not match the pattern of "{0}".',t.pattern)})}if(t.format)switch(t.format){case"uri":case"uri-reference":{let h;if(!f.value)h=J.t("URI expected.");else{let g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(f.value);g?!g[2]&&t.format==="uri"&&(h=J.t("URI with a scheme is expected.")):h=J.t("URI is expected.")}h&&n.problems.push({location:{offset:f.offset,length:f.length},message:t.patternErrorMessage||t.errorMessage||J.t("String is not a URI: {0}",h)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":let m=Ry[t.format];(!f.value||!m.pattern.exec(f.value))&&n.problems.push({location:{offset:f.offset,length:f.length},message:t.patternErrorMessage||t.errorMessage||m.errorMessage});default:}}function c(f){let m,h;o.schemaDraft>=gt.v2020_12?(m=t.prefixItems,h=Array.isArray(t.items)?void 0:t.items):(m=Array.isArray(t.items)?t.items:void 0,h=Array.isArray(t.items)?t.additionalItems:t.items);let g=0;if(m!==void 0){let T=Math.min(m.length,f.items.length);for(;g<T;g++){let y=m[g],u=nt(y),p=new Ie,_=f.items[g];_&&(Fe(_,u,p,r,o),n.mergePropertyMatch(p)),n.processedProperties.add(String(g))}}if(h!==void 0&&g<f.items.length)if(typeof h=="boolean")for(h===!1&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has too many items according to schema. Expected {0} or fewer.",g)});g<f.items.length;g++)n.processedProperties.add(String(g)),n.propertiesValueMatches++;else for(;g<f.items.length;g++){let T=new Ie;Fe(f.items[g],h,T,r,o),n.mergePropertyMatch(T),n.processedProperties.add(String(g))}let v=nt(t.contains);if(v){let T=0;for(let y=0;y<f.items.length;y++){let u=f.items[y],p=new Ie;Fe(u,v,p,Rn.instance,o),p.hasProblems()||(T++,o.schemaDraft>=gt.v2020_12&&n.processedProperties.add(String(y)))}T===0&&!Ge(t.minContains)&&n.problems.push({location:{offset:f.offset,length:f.length},message:t.errorMessage||J.t("Array does not contain required item.")}),Ge(t.minContains)&&T<t.minContains&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has too few items that match the contains contraint. Expected {0} or more.",t.minContains)}),Ge(t.maxContains)&&T>t.maxContains&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has too many items that match the contains contraint. Expected {0} or less.",t.maxContains)})}let S=t.unevaluatedItems;if(S!==void 0)for(let T=0;T<f.items.length;T++){if(!n.processedProperties.has(String(T)))if(S===!1)n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Item does not match any validation rule from the array.")});else{let y=new Ie;Fe(f.items[T],t.unevaluatedItems,y,r,o),n.mergePropertyMatch(y)}n.processedProperties.add(String(T)),n.propertiesValueMatches++}if(Ge(t.minItems)&&f.items.length<t.minItems&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has too few items. Expected {0} or more.",t.minItems)}),Ge(t.maxItems)&&f.items.length>t.maxItems&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has too many items. Expected {0} or fewer.",t.maxItems)}),t.uniqueItems===!0){let T=At(f);T.some((u,p)=>p!==T.lastIndexOf(u))&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Array has duplicate items.")})}}function d(f){let m=Object.create(null),h=new Set;for(let u of f.properties){let p=u.keyNode.value;m[p]=u.valueNode,h.add(p)}if(Array.isArray(t.required)){for(let u of t.required)if(!m[u]){let p=f.parent&&f.parent.type==="property"&&f.parent.keyNode,_=p?{offset:p.offset,length:p.length}:{offset:f.offset,length:1};n.problems.push({location:_,message:J.t('Missing property "{0}".',u)})}}let g=u=>{h.delete(u),n.processedProperties.add(u)};if(t.properties)for(let u of Object.keys(t.properties)){g(u);let p=t.properties[u],_=m[u];if(_)if(ht(p))if(p)n.propertiesMatches++,n.propertiesValueMatches++;else{let O=_.parent;n.problems.push({location:{offset:O.keyNode.offset,length:O.keyNode.length},message:t.errorMessage||J.t("Property {0} is not allowed.",u)})}else{let O=new Ie;Fe(_,p,O,r,o),n.mergePropertyMatch(O)}}if(t.patternProperties)for(let u of Object.keys(t.patternProperties)){let p=Tn(u);if(p){let _=[];for(let O of h)if(p.test(O)){_.push(O);let N=m[O];if(N){let w=t.patternProperties[u];if(ht(w))if(w)n.propertiesMatches++,n.propertiesValueMatches++;else{let b=N.parent;n.problems.push({location:{offset:b.keyNode.offset,length:b.keyNode.length},message:t.errorMessage||J.t("Property {0} is not allowed.",O)})}else{let b=new Ie;Fe(N,w,b,r,o),n.mergePropertyMatch(b)}}}_.forEach(g)}}let v=t.additionalProperties;if(v!==void 0)for(let u of h){g(u);let p=m[u];if(p){if(v===!1){let _=p.parent;n.problems.push({location:{offset:_.keyNode.offset,length:_.keyNode.length},message:t.errorMessage||J.t("Property {0} is not allowed.",u)})}else if(v!==!0){let _=new Ie;Fe(p,v,_,r,o),n.mergePropertyMatch(_)}}}let S=t.unevaluatedProperties;if(S!==void 0){let u=[];for(let p of h)if(!n.processedProperties.has(p)){u.push(p);let _=m[p];if(_){if(S===!1){let O=_.parent;n.problems.push({location:{offset:O.keyNode.offset,length:O.keyNode.length},message:t.errorMessage||J.t("Property {0} is not allowed.",p)})}else if(S!==!0){let O=new Ie;Fe(_,S,O,r,o),n.mergePropertyMatch(O)}}}u.forEach(g)}if(Ge(t.maxProperties)&&f.properties.length>t.maxProperties&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Object has more properties than limit of {0}.",t.maxProperties)}),Ge(t.minProperties)&&f.properties.length<t.minProperties&&n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Object has fewer properties than the required number of {0}",t.minProperties)}),t.dependentRequired)for(let u in t.dependentRequired){let p=m[u],_=t.dependentRequired[u];p&&Array.isArray(_)&&y(u,_)}if(t.dependentSchemas)for(let u in t.dependentSchemas){let p=m[u],_=t.dependentSchemas[u];p&&Mt(_)&&y(u,_)}if(t.dependencies)for(let u in t.dependencies)m[u]&&y(u,t.dependencies[u]);let T=nt(t.propertyNames);if(T)for(let u of f.properties){let p=u.keyNode;p&&Fe(p,T,n,Rn.instance,o)}function y(u,p){if(Array.isArray(p))for(let _ of p)m[_]?n.propertiesValueMatches++:n.problems.push({location:{offset:f.offset,length:f.length},message:J.t("Object is missing property {0} required by property {1}.",_,u)});else{let _=nt(p);if(_){let O=new Ie;Fe(f,_,O,r,o),n.mergePropertyMatch(O)}}}}}function Pf(e,t){let n=[],r=-1,o=e.getText(),i=pt(o,!1),s=t&&t.collectComments?[]:void 0;function a(){for(;;){let N=i.scan();switch(f(),N){case 12:case 13:Array.isArray(s)&&s.push(Z.create(e.positionAt(i.getTokenOffset()),e.positionAt(i.getTokenOffset()+i.getTokenLength())));break;case 15:case 14:break;default:return N}}}function l(N){return i.getToken()===N?(a(),!0):!1}function c(N,w,b,x,R=He.Error){if(n.length===0||b!==r){let D=Z.create(e.positionAt(b),e.positionAt(x));n.push(ot.create(D,N,R,w,e.languageId)),r=b}}function d(N,w,b=void 0,x=[],R=[]){let D=i.getTokenOffset(),q=i.getTokenOffset()+i.getTokenLength();if(D===q&&D>0){for(D--;D>0&&/\s/.test(o.charAt(D));)D--;q=D+1}if(c(N,w,D,q),b&&m(b,!1),x.length+R.length>0){let j=i.getToken();for(;j!==17;){if(x.indexOf(j)!==-1){a();break}else if(R.indexOf(j)!==-1)break;j=a()}}return b}function f(){switch(i.getTokenError()){case 4:return d(J.t("Invalid unicode sequence in string."),ie.InvalidUnicode),!0;case 5:return d(J.t("Invalid escape character in string."),ie.InvalidEscapeCharacter),!0;case 3:return d(J.t("Unexpected end of number."),ie.UnexpectedEndOfNumber),!0;case 1:return d(J.t("Unexpected end of comment."),ie.UnexpectedEndOfComment),!0;case 2:return d(J.t("Unexpected end of string."),ie.UnexpectedEndOfString),!0;case 6:return d(J.t("Invalid characters in string. Control characters must be escaped."),ie.InvalidCharacter),!0}return!1}function m(N,w){return N.length=i.getTokenOffset()+i.getTokenLength()-N.offset,w&&a(),N}function h(N){if(i.getToken()!==3)return;let w=new bc(N,i.getTokenOffset());a();let b=0,x=!1;for(;i.getToken()!==4&&i.getToken()!==17;){if(i.getToken()===5){x||d(J.t("Value expected"),ie.ValueExpected);let D=i.getTokenOffset();if(a(),i.getToken()===4){x&&c(J.t("Trailing comma"),ie.TrailingComma,D,D+1);continue}}else x&&d(J.t("Expected comma"),ie.CommaExpected);let R=p(w);R?w.items.push(R):d(J.t("Value expected"),ie.ValueExpected,void 0,[],[4,5]),x=!0}return i.getToken()!==4?d(J.t("Expected comma or closing bracket"),ie.CommaOrCloseBacketExpected,w):m(w,!0)}let g=new Ur(void 0,0,0);function v(N,w){let b=new _c(N,i.getTokenOffset(),g),x=T(b);if(!x)if(i.getToken()===16){d(J.t("Property keys must be doublequoted"),ie.PropertyKeysMustBeDoublequoted);let D=new Ur(b,i.getTokenOffset(),i.getTokenLength());D.value=i.getTokenValue(),x=D,a()}else return;if(b.keyNode=x,x.value!=="//"){let D=w[x.value];D?(c(J.t("Duplicate object key"),ie.DuplicateKey,b.keyNode.offset,b.keyNode.offset+b.keyNode.length,He.Warning),Mt(D)&&c(J.t("Duplicate object key"),ie.DuplicateKey,D.keyNode.offset,D.keyNode.offset+D.keyNode.length,He.Warning),w[x.value]=!0):w[x.value]=b}if(i.getToken()===6)b.colonOffset=i.getTokenOffset(),a();else if(d(J.t("Colon expected"),ie.ColonExpected),i.getToken()===10&&e.positionAt(x.offset+x.length).line<e.positionAt(i.getTokenOffset()).line)return b.length=x.length,b;let R=p(b);return R?(b.valueNode=R,b.length=R.offset+R.length-b.offset,b):d(J.t("Value expected"),ie.ValueExpected,b,[],[2,5])}function S(N){if(i.getToken()!==1)return;let w=new kc(N,i.getTokenOffset()),b=Object.create(null);a();let x=!1;for(;i.getToken()!==2&&i.getToken()!==17;){if(i.getToken()===5){x||d(J.t("Property expected"),ie.PropertyExpected);let D=i.getTokenOffset();if(a(),i.getToken()===2){x&&c(J.t("Trailing comma"),ie.TrailingComma,D,D+1);continue}}else x&&d(J.t("Expected comma"),ie.CommaExpected);let R=v(w,b);R?w.properties.push(R):d(J.t("Property expected"),ie.PropertyExpected,void 0,[],[2,5]),x=!0}return i.getToken()!==2?d(J.t("Expected comma or closing brace"),ie.CommaOrCloseBraceExpected,w):m(w,!0)}function T(N){if(i.getToken()!==10)return;let w=new Ur(N,i.getTokenOffset());return w.value=i.getTokenValue(),m(w,!0)}function y(N){if(i.getToken()!==11)return;let w=new vc(N,i.getTokenOffset());if(i.getTokenError()===0){let b=i.getTokenValue();try{let x=JSON.parse(b);if(!Ge(x))return d(J.t("Invalid number format."),ie.Undefined,w);w.value=x}catch{return d(J.t("Invalid number format."),ie.Undefined,w)}w.isInteger=b.indexOf(".")===-1}return m(w,!0)}function u(N){let w;switch(i.getToken()){case 7:return m(new yc(N,i.getTokenOffset()),!0);case 8:return m(new Pi(N,!0,i.getTokenOffset()),!0);case 9:return m(new Pi(N,!1,i.getTokenOffset()),!0);default:return}}function p(N){return h(N)||S(N)||T(N)||y(N)||u(N)}let _;return a()!==17&&(_=p(_),_?i.getToken()!==17&&d(J.t("End of file expected."),ie.Undefined):d(J.t("Expected a JSON object, array or literal."),ie.Undefined)),new Ri(_,n,s)}var J,Ry,zt,yc,Pi,bc,vc,Ur,_c,kc,wf,Oy,Di,zr,Rn,Ie,Ri,sr=ue(()=>{an();Hr();Br();mt();J=ct(Dn()),Ry={"color-hex":{errorMessage:J.t("Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:J.t("String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:J.t("String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:J.t("String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:J.t("String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:J.t("String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:J.t("String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:J.t("String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},zt=class{constructor(t,n,r=0){this.offset=n,this.length=r,this.parent=t}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},yc=class extends zt{constructor(t,n){super(t,n),this.type="null",this.value=null}},Pi=class extends zt{constructor(t,n,r){super(t,r),this.type="boolean",this.value=n}},bc=class extends zt{constructor(t,n){super(t,n),this.type="array",this.items=[]}get children(){return this.items}},vc=class extends zt{constructor(t,n){super(t,n),this.type="number",this.isInteger=!0,this.value=Number.NaN}},Ur=class extends zt{constructor(t,n,r){super(t,n,r),this.type="string",this.value=""}},_c=class extends zt{constructor(t,n,r){super(t,n),this.type="property",this.colonOffset=-1,this.keyNode=r}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},kc=class extends zt{constructor(t,n){super(t,n),this.type="object",this.properties=[]}get children(){return this.properties}};(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(wf||(wf={}));Oy={"http://json-schema.org/draft-03/schema#":gt.v3,"http://json-schema.org/draft-04/schema#":gt.v4,"http://json-schema.org/draft-06/schema#":gt.v6,"http://json-schema.org/draft-07/schema#":gt.v7,"https://json-schema.org/draft/2019-09/schema":gt.v2019_09,"https://json-schema.org/draft/2020-12/schema":gt.v2020_12},Di=class{constructor(t){this.schemaDraft=t}},zr=class{constructor(t=-1,n){this.focusOffset=t,this.exclude=n,this.schemas=[]}add(t){this.schemas.push(t)}merge(t){Array.prototype.push.apply(this.schemas,t.schemas)}include(t){return(this.focusOffset===-1||xc(t,this.focusOffset))&&t!==this.exclude}newSub(){return new zr(-1,this.exclude)}},Rn=class{constructor(){}get schemas(){return[]}add(t){}merge(t){}include(t){return!0}newSub(){return this}};Rn.instance=new Rn;Ie=class{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}merge(t){this.problems=this.problems.concat(t.problems),this.propertiesMatches+=t.propertiesMatches,this.propertiesValueMatches+=t.propertiesValueMatches,this.mergeProcessedProperties(t)}mergeEnumValues(t){if(!this.enumValueMatch&&!t.enumValueMatch&&this.enumValues&&t.enumValues){this.enumValues=this.enumValues.concat(t.enumValues);for(let n of this.problems)n.code===ie.EnumValueMismatch&&(n.message=J.t("Value is not accepted. Valid values: {0}.",this.enumValues.map(r=>JSON.stringify(r)).join(", ")))}}mergePropertyMatch(t){this.problems=this.problems.concat(t.problems),this.propertiesMatches++,(t.enumValueMatch||!t.hasProblems()&&t.propertiesMatches)&&this.propertiesValueMatches++,t.enumValueMatch&&t.enumValues&&t.enumValues.length===1&&this.primaryValueMatches++}mergeProcessedProperties(t){t.processedProperties.forEach(n=>this.processedProperties.add(n))}compare(t){let n=this.hasProblems();return n!==t.hasProblems()?n?-1:1:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:this.propertiesMatches-t.propertiesMatches}};Ri=class{constructor(t,n=[],r=[]){this.root=t,this.syntaxErrors=n,this.comments=r}getNodeFromOffset(t,n=!1){if(this.root)return af(this.root,t,n)}visit(t){if(this.root){let n=r=>{let o=t(r),i=r.children;if(Array.isArray(i))for(let s=0;s<i.length&&o;s++)o=n(i[s]);return o};n(this.root)}}validate(t,n,r=He.Warning,o){if(this.root&&n){let i=new Ie;return Fe(this.root,n,i,Rn.instance,new Di(o??Sf(n))),i.problems.map(s=>{let a=Z.create(t.positionAt(s.location.offset),t.positionAt(s.location.offset+s.location.length));return ot.create(a,s.message,s.severity??r,s.code)})}}getMatchingSchemas(t,n=-1,r){if(this.root&&t){let o=new zr(n,r),i=Sf(t),s=new Di(i);return Fe(this.root,t,new Ie,o,s),o.schemas}return[]}}});function Ni(e,t,n){if(e!==null&&typeof e=="object"){let r=t+"	";if(Array.isArray(e)){if(e.length===0)return"[]";let o=`[
`;for(let i=0;i<e.length;i++)o+=r+Ni(e[i],r,n),i<e.length-1&&(o+=","),o+=`
`;return o+=t+"]",o}else{let o=Object.keys(e);if(o.length===0)return"{}";let i=`{
`;for(let s=0;s<o.length;s++){let a=o[s];i+=r+JSON.stringify(a)+": "+Ni(e[a],r,n),s<o.length-1&&(i+=","),i+=`
`}return i+=t+"}",i}}return n(e)}var Df=ue(()=>{});var Gr,Ny,qy,qi,Rf=ue(()=>{sr();an();Df();Br();Hr();mt();Gr=ct(Dn()),Ny=[",","}","]"],qy=[":"],qi=class{constructor(t,n=[],r=Promise,o={}){this.schemaService=t,this.contributions=n,this.promiseConstructor=r,this.clientCapabilities=o}doResolve(t){for(let n=this.contributions.length-1;n>=0;n--){let r=this.contributions[n].resolveCompletion;if(r){let o=r(t);if(o)return o}}return this.promiseConstructor.resolve(t)}doComplete(t,n,r){let o={items:[],isIncomplete:!1},i=t.getText(),s=t.offsetAt(n),a=r.getNodeFromOffset(s,!0);if(this.isInComment(t,a?a.offset:0,s))return Promise.resolve(o);if(a&&s===a.offset+a.length&&s>0){let h=i[s-1];(a.type==="object"&&h==="}"||a.type==="array"&&h==="]")&&(a=a.parent)}let l=this.getCurrentWord(t,s),c;if(a&&(a.type==="string"||a.type==="number"||a.type==="boolean"||a.type==="null"))c=Z.create(t.positionAt(a.offset),t.positionAt(a.offset+a.length));else{let h=s-l.length;h>0&&i[h-1]==='"'&&h--,c=Z.create(t.positionAt(h),n)}let d=!1,f=new Map,m={add:h=>{let g=h.label,v=f.get(g);if(v)v.documentation||(v.documentation=h.documentation),v.detail||(v.detail=h.detail),v.labelDetails||(v.labelDetails=h.labelDetails);else{if(g=g.replace(/[\n]/g,"\u21B5"),g.length>60){let S=g.substr(0,57).trim()+"...";f.has(S)||(g=S)}h.textEdit=Ae.replace(c,h.insertText),d&&(h.commitCharacters=h.kind===Be.Property?qy:Ny),h.label=g,f.set(g,h),o.items.push(h)}},setAsIncomplete:()=>{o.isIncomplete=!0},error:h=>{console.error(h)},getNumberOfProposals:()=>o.items.length};return this.schemaService.getSchemaForResource(t.uri,r).then(h=>{let g=[],v=!0,S="",T;if(a&&a.type==="string"){let u=a.parent;u&&u.type==="property"&&u.keyNode===a&&(v=!u.valueNode,T=u,S=i.substr(a.offset+1,a.length-2),u&&(a=u.parent))}if(a&&a.type==="object"){if(a.offset===s)return o;a.properties.forEach(O=>{(!T||T!==O)&&f.set(O.keyNode.value,Bn.create("__"))});let p="";v&&(p=this.evaluateSeparatorAfter(t,t.offsetAt(c.end))),h?this.getPropertyCompletions(h,r,a,v,p,m):this.getSchemaLessPropertyCompletions(r,a,S,m);let _=Jr(a);this.contributions.forEach(O=>{let N=O.collectPropertyCompletions(t.uri,_,l,v,p==="",m);N&&g.push(N)}),!h&&l.length>0&&i.charAt(s-l.length-1)!=='"'&&(m.add({kind:Be.Property,label:this.getLabelForValue(l),insertText:this.getInsertTextForProperty(l,void 0,!1,p),insertTextFormat:xe.Snippet,documentation:""}),m.setAsIncomplete())}let y={};return h?this.getValueCompletions(h,r,a,s,t,m,y):this.getSchemaLessValueCompletions(r,a,s,t,m),this.contributions.length>0&&this.getContributedValueCompletions(r,a,s,t,m,g),this.promiseConstructor.all(g).then(()=>{if(m.getNumberOfProposals()===0){let u=s;a&&(a.type==="string"||a.type==="number"||a.type==="boolean"||a.type==="null")&&(u=a.offset+a.length);let p=this.evaluateSeparatorAfter(t,u);this.addFillerValueCompletions(y,p,m)}return o})})}getPropertyCompletions(t,n,r,o,i,s){n.getMatchingSchemas(t.schema,r.offset).forEach(l=>{if(l.node===r&&!l.inverted){let c=l.schema.properties;c&&Object.keys(c).forEach(f=>{let m=c[f];if(typeof m=="object"&&!m.deprecationMessage&&!m.doNotSuggest){let h={kind:Be.Property,label:f,insertText:this.getInsertTextForProperty(f,m,o,i),insertTextFormat:xe.Snippet,filterText:this.getFilterTextForValue(f),documentation:this.fromMarkup(m.markdownDescription)||m.description||""};m.suggestSortText!==void 0&&(h.sortText=m.suggestSortText),h.insertText&&cn(h.insertText,`$1${i}`)&&(h.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(h)}});let d=l.schema.propertyNames;if(typeof d=="object"&&!d.deprecationMessage&&!d.doNotSuggest){let f=(m,h=void 0)=>{let g={kind:Be.Property,label:m,insertText:this.getInsertTextForProperty(m,void 0,o,i),insertTextFormat:xe.Snippet,filterText:this.getFilterTextForValue(m),documentation:h||this.fromMarkup(d.markdownDescription)||d.description||""};d.suggestSortText!==void 0&&(g.sortText=d.suggestSortText),g.insertText&&cn(g.insertText,`$1${i}`)&&(g.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(g)};if(d.enum)for(let m=0;m<d.enum.length;m++){let h;d.markdownEnumDescriptions&&m<d.markdownEnumDescriptions.length?h=this.fromMarkup(d.markdownEnumDescriptions[m]):d.enumDescriptions&&m<d.enumDescriptions.length&&(h=d.enumDescriptions[m]),f(d.enum[m],h)}d.const&&f(d.const)}}})}getSchemaLessPropertyCompletions(t,n,r,o){let i=s=>{s.properties.forEach(a=>{let l=a.keyNode.value;o.add({kind:Be.Property,label:l,insertText:this.getInsertTextForValue(l,""),insertTextFormat:xe.Snippet,filterText:this.getFilterTextForValue(l),documentation:""})})};if(n.parent)if(n.parent.type==="property"){let s=n.parent.keyNode.value;t.visit(a=>(a.type==="property"&&a!==n.parent&&a.keyNode.value===s&&a.valueNode&&a.valueNode.type==="object"&&i(a.valueNode),!0))}else n.parent.type==="array"&&n.parent.items.forEach(s=>{s.type==="object"&&s!==n&&i(s)});else n.type==="object"&&o.add({kind:Be.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:xe.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(t,n,r,o,i){let s=r;if(n&&(n.type==="string"||n.type==="number"||n.type==="boolean"||n.type==="null")&&(s=n.offset+n.length,n=n.parent),!n){i.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:xe.Snippet,documentation:""}),i.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:xe.Snippet,documentation:""});return}let a=this.evaluateSeparatorAfter(o,s),l=c=>{c.parent&&!xc(c.parent,r,!0)&&i.add({kind:this.getSuggestionKind(c.type),label:this.getLabelTextForMatchingNode(c,o),insertText:this.getInsertTextForMatchingNode(c,o,a),insertTextFormat:xe.Snippet,documentation:""}),c.type==="boolean"&&this.addBooleanValueCompletion(!c.value,a,i)};if(n.type==="property"&&r>(n.colonOffset||0)){let c=n.valueNode;if(c&&(r>c.offset+c.length||c.type==="object"||c.type==="array"))return;let d=n.keyNode.value;t.visit(f=>(f.type==="property"&&f.keyNode.value===d&&f.valueNode&&l(f.valueNode),!0)),d==="$schema"&&n.parent&&!n.parent.parent&&this.addDollarSchemaCompletions(a,i)}if(n.type==="array")if(n.parent&&n.parent.type==="property"){let c=n.parent.keyNode.value;t.visit(d=>(d.type==="property"&&d.keyNode.value===c&&d.valueNode&&d.valueNode.type==="array"&&d.valueNode.items.forEach(l),!0))}else n.items.forEach(l)}getValueCompletions(t,n,r,o,i,s,a){let l=o,c,d;if(r&&(r.type==="string"||r.type==="number"||r.type==="boolean"||r.type==="null")&&(l=r.offset+r.length,d=r,r=r.parent),!r){this.addSchemaValueCompletions(t.schema,"",s,a);return}if(r.type==="property"&&o>(r.colonOffset||0)){let f=r.valueNode;if(f&&o>f.offset+f.length)return;c=r.keyNode.value,r=r.parent}if(r&&(c!==void 0||r.type==="array")){let f=this.evaluateSeparatorAfter(i,l),m=n.getMatchingSchemas(t.schema,r.offset,d);for(let h of m)if(h.node===r&&!h.inverted&&h.schema){if(r.type==="array"&&h.schema.items){let g=s;if(h.schema.uniqueItems){let v=new Set;r.children.forEach(S=>{S.type!=="array"&&S.type!=="object"&&v.add(this.getLabelForValue(At(S)))}),g={...s,add(S){v.has(S.label)||s.add(S)}}}if(Array.isArray(h.schema.items)){let v=this.findItemAtOffset(r,i,o);v<h.schema.items.length&&this.addSchemaValueCompletions(h.schema.items[v],f,g,a)}else this.addSchemaValueCompletions(h.schema.items,f,g,a)}if(c!==void 0){let g=!1;if(h.schema.properties){let v=h.schema.properties[c];v&&(g=!0,this.addSchemaValueCompletions(v,f,s,a))}if(h.schema.patternProperties&&!g)for(let v of Object.keys(h.schema.patternProperties)){let S=Tn(v);if(S!=null&&S.test(c)){g=!0;let T=h.schema.patternProperties[v];this.addSchemaValueCompletions(T,f,s,a)}}if(h.schema.additionalProperties&&!g){let v=h.schema.additionalProperties;this.addSchemaValueCompletions(v,f,s,a)}}}c==="$schema"&&!r.parent&&this.addDollarSchemaCompletions(f,s),a.boolean&&(this.addBooleanValueCompletion(!0,f,s),this.addBooleanValueCompletion(!1,f,s)),a.null&&this.addNullValueCompletion(f,s)}}getContributedValueCompletions(t,n,r,o,i,s){if(!n)this.contributions.forEach(a=>{let l=a.collectDefaultCompletions(o.uri,i);l&&s.push(l)});else if((n.type==="string"||n.type==="number"||n.type==="boolean"||n.type==="null")&&(n=n.parent),n&&n.type==="property"&&r>(n.colonOffset||0)){let a=n.keyNode.value,l=n.valueNode;if((!l||r<=l.offset+l.length)&&n.parent){let c=Jr(n.parent);this.contributions.forEach(d=>{let f=d.collectValueCompletions(o.uri,c,a,i);f&&s.push(f)})}}}addSchemaValueCompletions(t,n,r,o){typeof t=="object"&&(this.addEnumValueCompletions(t,n,r),this.addDefaultValueCompletions(t,n,r),this.collectTypes(t,o),Array.isArray(t.allOf)&&t.allOf.forEach(i=>this.addSchemaValueCompletions(i,n,r,o)),Array.isArray(t.anyOf)&&t.anyOf.forEach(i=>this.addSchemaValueCompletions(i,n,r,o)),Array.isArray(t.oneOf)&&t.oneOf.forEach(i=>this.addSchemaValueCompletions(i,n,r,o)))}addDefaultValueCompletions(t,n,r,o=0){let i=!1;if(at(t.default)){let s=t.type,a=t.default;for(let c=o;c>0;c--)a=[a],s="array";let l={kind:this.getSuggestionKind(s),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,n),insertTextFormat:xe.Snippet};this.doesSupportsLabelDetails()?l.labelDetails={description:Gr.t("Default value")}:l.detail=Gr.t("Default value"),r.add(l),i=!0}Array.isArray(t.examples)&&t.examples.forEach(s=>{let a=t.type,l=s;for(let c=o;c>0;c--)l=[l],a="array";r.add({kind:this.getSuggestionKind(a),label:this.getLabelForValue(l),insertText:this.getInsertTextForValue(l,n),insertTextFormat:xe.Snippet}),i=!0}),Array.isArray(t.defaultSnippets)&&t.defaultSnippets.forEach(s=>{let a=t.type,l=s.body,c=s.label,d,f;if(at(l)){let m=t.type;for(let h=o;h>0;h--)l=[l],m="array";d=this.getInsertTextForSnippetValue(l,n),f=this.getFilterTextForSnippetValue(l),c=c||this.getLabelForSnippetValue(l)}else if(typeof s.bodyText=="string"){let m="",h="",g="";for(let v=o;v>0;v--)m=m+g+`[
`,h=h+`
`+g+"]",g+="	",a="array";d=m+g+s.bodyText.split(`
`).join(`
`+g)+h+n,c=c||d,f=d.replace(/[\n]/g,"")}else return;r.add({kind:this.getSuggestionKind(a),label:c,documentation:this.fromMarkup(s.markdownDescription)||s.description,insertText:d,insertTextFormat:xe.Snippet,filterText:f}),i=!0}),!i&&typeof t.items=="object"&&!Array.isArray(t.items)&&o<5&&this.addDefaultValueCompletions(t.items,n,r,o+1)}addEnumValueCompletions(t,n,r){if(at(t.const)&&r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(t.const),insertText:this.getInsertTextForValue(t.const,n),insertTextFormat:xe.Snippet,documentation:this.fromMarkup(t.markdownDescription)||t.description}),Array.isArray(t.enum))for(let o=0,i=t.enum.length;o<i;o++){let s=t.enum[o],a=this.fromMarkup(t.markdownDescription)||t.description;t.markdownEnumDescriptions&&o<t.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(t.markdownEnumDescriptions[o]):t.enumDescriptions&&o<t.enumDescriptions.length&&(a=t.enumDescriptions[o]),r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(s),insertText:this.getInsertTextForValue(s,n),insertTextFormat:xe.Snippet,documentation:a})}}collectTypes(t,n){if(Array.isArray(t.enum)||at(t.const))return;let r=t.type;Array.isArray(r)?r.forEach(o=>n[o]=!0):r&&(n[r]=!0)}addFillerValueCompletions(t,n,r){t.object&&r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},n),insertTextFormat:xe.Snippet,detail:Gr.t("New object"),documentation:""}),t.array&&r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],n),insertTextFormat:xe.Snippet,detail:Gr.t("New array"),documentation:""})}addBooleanValueCompletion(t,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:t?"true":"false",insertText:this.getInsertTextForValue(t,n),insertTextFormat:xe.Snippet,documentation:""})}addNullValueCompletion(t,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+t,insertTextFormat:xe.Snippet,documentation:""})}addDollarSchemaCompletions(t,n){this.schemaService.getRegisteredSchemaIds(o=>o==="http"||o==="https").forEach(o=>{o.startsWith("http://json-schema.org/draft-")&&(o=o+"#"),n.add({kind:Be.Module,label:this.getLabelForValue(o),filterText:this.getFilterTextForValue(o),insertText:this.getInsertTextForValue(o,t),insertTextFormat:xe.Snippet,documentation:""})})}getLabelForValue(t){return JSON.stringify(t)}getValueFromLabel(t){return JSON.parse(t)}getFilterTextForValue(t){return JSON.stringify(t)}getFilterTextForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(t){return t.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(t,n){let r=JSON.stringify(t,null,"	");return r==="{}"?"{$1}"+n:r==="[]"?"[$1]"+n:this.getInsertTextForPlainText(r+n)}getInsertTextForSnippetValue(t,n){return Ni(t,"",o=>typeof o=="string"&&o[0]==="^"?o.substr(1):JSON.stringify(o))+n}getInsertTextForGuessedValue(t,n){switch(typeof t){case"object":return t===null?"${1:null}"+n:this.getInsertTextForValue(t,n);case"string":let r=JSON.stringify(t);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),'"${1:'+r+'}"'+n;case"number":case"boolean":return"${1:"+JSON.stringify(t)+"}"+n}return this.getInsertTextForValue(t,n)}getSuggestionKind(t){if(Array.isArray(t)){let n=t;t=n.length>0?n[0]:void 0}if(!t)return Be.Value;switch(t){case"string":return Be.Value;case"object":return Be.Module;case"property":return Be.Property;default:return Be.Value}}getLabelTextForMatchingNode(t,n){switch(t.type){case"array":return"[]";case"object":return"{}";default:return n.getText().substr(t.offset,t.length)}}getInsertTextForMatchingNode(t,n,r){switch(t.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:let o=n.getText().substr(t.offset,t.length)+r;return this.getInsertTextForPlainText(o)}}getInsertTextForProperty(t,n,r,o){let i=this.getInsertTextForValue(t,"");if(!r)return i;let s=i+": ",a,l=0;if(n){if(Array.isArray(n.defaultSnippets)){if(n.defaultSnippets.length===1){let c=n.defaultSnippets[0].body;at(c)&&(a=this.getInsertTextForSnippetValue(c,""))}l+=n.defaultSnippets.length}if(n.enum&&(!a&&n.enum.length===1&&(a=this.getInsertTextForGuessedValue(n.enum[0],"")),l+=n.enum.length),at(n.const)&&(a||(a=this.getInsertTextForGuessedValue(n.const,"")),l++),at(n.default)&&(a||(a=this.getInsertTextForGuessedValue(n.default,"")),l++),Array.isArray(n.examples)&&n.examples.length&&(a||(a=this.getInsertTextForGuessedValue(n.examples[0],"")),l+=n.examples.length),l===0){let c=Array.isArray(n.type)?n.type[0]:n.type;switch(c||(n.properties?c="object":n.items&&(c="array")),c){case"boolean":a="$1";break;case"string":a='"$1"';break;case"object":a="{$1}";break;case"array":a="[$1]";break;case"number":case"integer":a="${1:0}";break;case"null":a="${1:null}";break;default:return i}}}return(!a||l>1)&&(a="$1"),s+a+o}getCurrentWord(t,n){let r=n-1,o=t.getText();for(;r>=0&&` 	
\r\v":{[,]}`.indexOf(o.charAt(r))===-1;)r--;return o.substring(r+1,n)}evaluateSeparatorAfter(t,n){let r=pt(t.getText(),!0);switch(r.setPosition(n),r.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(t,n,r){let o=pt(n.getText(),!0),i=t.items;for(let s=i.length-1;s>=0;s--){let a=i[s];if(r>a.offset+a.length)return o.setPosition(a.offset+a.length),o.scan()===5&&r>=o.getTokenOffset()+o.getTokenLength()?s+1:s;if(r>=a.offset)return s}return 0}isInComment(t,n,r){let o=pt(t.getText(),!1);o.setPosition(n);let i=o.scan();for(;i!==17&&o.getTokenOffset()+o.getTokenLength()<r;)i=o.scan();return(i===12||i===13)&&o.getTokenOffset()<=r}fromMarkup(t){if(t&&this.doesSupportMarkdown())return{kind:Ot.Markdown,value:t}}doesSupportMarkdown(){var t,n,r;if(!at(this.supportsMarkdown)){let o=(r=(n=(t=this.clientCapabilities.textDocument)==null?void 0:t.completion)==null?void 0:n.completionItem)==null?void 0:r.documentationFormat;this.supportsMarkdown=Array.isArray(o)&&o.indexOf(Ot.Markdown)!==-1}return this.supportsMarkdown}doesSupportsCommitCharacters(){var t,n,r;return at(this.supportsCommitCharacters)||(this.labelDetailsSupport=(r=(n=(t=this.clientCapabilities.textDocument)==null?void 0:t.completion)==null?void 0:n.completionItem)==null?void 0:r.commitCharactersSupport),this.supportsCommitCharacters}doesSupportsLabelDetails(){var t,n,r;return at(this.labelDetailsSupport)||(this.labelDetailsSupport=(r=(n=(t=this.clientCapabilities.textDocument)==null?void 0:t.completion)==null?void 0:n.completionItem)==null?void 0:r.labelDetailsSupport),this.labelDetailsSupport}}});function wc(e){if(e)return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function Ey(e){return e.indexOf("`")!==-1?"`` "+e+" ``":e}var Ei,Of=ue(()=>{sr();mt();Ei=class{constructor(t,n=[],r){this.schemaService=t,this.contributions=n,this.promise=r||Promise}doHover(t,n,r){let o=t.offsetAt(n),i=r.getNodeFromOffset(o);if(!i||(i.type==="object"||i.type==="array")&&o>i.offset+1&&o<i.offset+i.length-1)return this.promise.resolve(null);let s=i;if(i.type==="string"){let d=i.parent;if(d&&d.type==="property"&&d.keyNode===i&&(i=d.valueNode,!i))return this.promise.resolve(null)}let a=Z.create(t.positionAt(s.offset),t.positionAt(s.offset+s.length)),l=d=>({contents:d,range:a}),c=Jr(i);for(let d=this.contributions.length-1;d>=0;d--){let m=this.contributions[d].getInfoContribution(t.uri,c);if(m)return m.then(h=>l(h))}return this.schemaService.getSchemaForResource(t.uri,r).then(d=>{if(d&&i){let f=r.getMatchingSchemas(d.schema,i.offset),m,h,g,v;f.every(T=>{if(T.node===i&&!T.inverted&&T.schema&&(m=m||T.schema.title,h=h||T.schema.markdownDescription||wc(T.schema.description),T.schema.enum)){let y=T.schema.enum.indexOf(At(i));T.schema.markdownEnumDescriptions?g=T.schema.markdownEnumDescriptions[y]:T.schema.enumDescriptions&&(g=wc(T.schema.enumDescriptions[y])),g&&(v=T.schema.enum[y],typeof v!="string"&&(v=JSON.stringify(v)))}return!0});let S="";return m&&(S=wc(m)),h&&(S.length>0&&(S+=`

`),S+=h),g&&(S.length>0&&(S+=`

`),S+=`\`${Ey(v)}\`: ${g}`),l([S])}return null})}}});function qf(e){if(e&&typeof e=="object"){if(ht(e.allowComments))return e.allowComments;if(e.allOf)for(let t of e.allOf){let n=qf(t);if(ht(n))return n}}}function Ef(e){if(e&&typeof e=="object"){if(ht(e.allowTrailingCommas))return e.allowTrailingCommas;let t=e;if(ht(t.allowsTrailingCommas))return t.allowsTrailingCommas;if(e.allOf)for(let n of e.allOf){let r=Ef(n);if(ht(r))return r}}}function Ci(e){switch(e){case"error":return He.Error;case"warning":return He.Warning;case"ignore":return}}var Nf,Mi,Cy,Cf=ue(()=>{mt();Nf=ct(Dn());Hr();Mi=class{constructor(t,n){this.jsonSchemaService=t,this.promise=n,this.validationEnabled=!0}configure(t){t&&(this.validationEnabled=t.validate!==!1,this.commentSeverity=t.allowComments?void 0:He.Error)}doValidation(t,n,r,o){if(!this.validationEnabled)return this.promise.resolve([]);let i=[],s={},a=c=>{let d=c.range.start.line+" "+c.range.start.character+" "+c.message;s[d]||(s[d]=!0,i.push(c))},l=c=>{let d=r!=null&&r.trailingCommas?Ci(r.trailingCommas):He.Error,f=r!=null&&r.comments?Ci(r.comments):this.commentSeverity,m=r!=null&&r.schemaValidation?Ci(r.schemaValidation):He.Warning,h=r!=null&&r.schemaRequest?Ci(r.schemaRequest):He.Warning;if(c){let g=(v,S)=>{if(n.root&&h){let T=n.root,y=T.type==="object"?T.properties[0]:void 0;if(y&&y.keyNode.value==="$schema"){let u=y.valueNode||y,p=Z.create(t.positionAt(u.offset),t.positionAt(u.offset+u.length));a(ot.create(p,v,h,S))}else{let u=Z.create(t.positionAt(T.offset),t.positionAt(T.offset+1));a(ot.create(u,v,h,S))}}};if(c.errors.length)g(c.errors[0],ie.SchemaResolveError);else if(m){for(let S of c.warnings)g(S,ie.SchemaUnsupportedFeature);let v=n.validate(t,c.schema,m,r==null?void 0:r.schemaDraft);v&&v.forEach(a)}qf(c.schema)&&(f=void 0),Ef(c.schema)&&(d=void 0)}for(let g of n.syntaxErrors){if(g.code===ie.TrailingComma){if(typeof d!="number")continue;g.severity=d}a(g)}if(typeof f=="number"){let g=Nf.t("Comments are not permitted in JSON.");n.comments.forEach(v=>{a(ot.create(v,g,f,ie.CommentNotPermitted))})}return i};if(o){let c=o.id||"schemaservice://untitled/"+Cy++;return this.jsonSchemaService.registerExternalSchema({uri:c,schema:o}).getResolvedSchema().then(f=>l(f))}return this.jsonSchemaService.getSchemaForResource(t.uri,n).then(c=>l(c))}getLanguageStatus(t,n){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(t.uri,n)}}},Cy=0});function Re(e){return e<48?0:e<=57?e-48:(e<97&&(e+=97-65),e>=97&&e<=102?e-97+10:0)}function Mf(e){if(e[0]==="#")switch(e.length){case 4:return{red:Re(e.charCodeAt(1))*17/255,green:Re(e.charCodeAt(2))*17/255,blue:Re(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:Re(e.charCodeAt(1))*17/255,green:Re(e.charCodeAt(2))*17/255,blue:Re(e.charCodeAt(3))*17/255,alpha:Re(e.charCodeAt(4))*17/255};case 7:return{red:(Re(e.charCodeAt(1))*16+Re(e.charCodeAt(2)))/255,green:(Re(e.charCodeAt(3))*16+Re(e.charCodeAt(4)))/255,blue:(Re(e.charCodeAt(5))*16+Re(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(Re(e.charCodeAt(1))*16+Re(e.charCodeAt(2)))/255,green:(Re(e.charCodeAt(3))*16+Re(e.charCodeAt(4)))/255,blue:(Re(e.charCodeAt(5))*16+Re(e.charCodeAt(6)))/255,alpha:(Re(e.charCodeAt(7))*16+Re(e.charCodeAt(8)))/255}}}var Af=ue(()=>{});function un(e,t){return Z.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}function jf(e){return At(e)||Lf.t("<empty>")}var Lf,Ai,Ff=ue(()=>{sr();Br();Af();Lf=ct(Dn());mt();Ai=class{constructor(t){this.schemaService=t}findDocumentSymbols(t,n,r={resultLimit:Number.MAX_VALUE}){let o=n.root;if(!o)return[];let i=r.resultLimit||Number.MAX_VALUE,s=t.uri;if((s==="vscode://defaultsettings/keybindings.json"||cn(s.toLowerCase(),"/user/keybindings.json"))&&o.type==="array"){let m=[];for(let h of o.items)if(h.type==="object"){for(let g of h.properties)if(g.keyNode.value==="key"&&g.valueNode){let v=Bt.create(t.uri,un(t,h));if(m.push({name:jf(g.valueNode),kind:it.Function,location:v}),i--,i<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),m}}return m}let a=[{node:o,containerName:""}],l=0,c=!1,d=[],f=(m,h)=>{m.type==="array"?m.items.forEach(g=>{g&&a.push({node:g,containerName:h})}):m.type==="object"&&m.properties.forEach(g=>{let v=g.valueNode;if(v)if(i>0){i--;let S=Bt.create(t.uri,un(t,g)),T=h?h+"."+g.keyNode.value:g.keyNode.value;d.push({name:this.getKeyLabel(g),kind:this.getSymbolKind(v.type),location:S,containerName:h}),a.push({node:v,containerName:T})}else c=!0})};for(;l<a.length;){let m=a[l++];f(m.node,m.containerName)}return c&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),d}findDocumentSymbols2(t,n,r={resultLimit:Number.MAX_VALUE}){let o=n.root;if(!o)return[];let i=r.resultLimit||Number.MAX_VALUE,s=t.uri;if((s==="vscode://defaultsettings/keybindings.json"||cn(s.toLowerCase(),"/user/keybindings.json"))&&o.type==="array"){let m=[];for(let h of o.items)if(h.type==="object"){for(let g of h.properties)if(g.keyNode.value==="key"&&g.valueNode){let v=un(t,h),S=un(t,g.keyNode);if(m.push({name:jf(g.valueNode),kind:it.Function,range:v,selectionRange:S}),i--,i<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),m}}return m}let a=[],l=[{node:o,result:a}],c=0,d=!1,f=(m,h)=>{m.type==="array"?m.items.forEach((g,v)=>{if(g)if(i>0){i--;let S=un(t,g),T=S,u={name:String(v),kind:this.getSymbolKind(g.type),range:S,selectionRange:T,children:[]};h.push(u),l.push({result:u.children,node:g})}else d=!0}):m.type==="object"&&m.properties.forEach(g=>{let v=g.valueNode;if(v)if(i>0){i--;let S=un(t,g),T=un(t,g.keyNode),y=[],u={name:this.getKeyLabel(g),kind:this.getSymbolKind(v.type),range:S,selectionRange:T,children:y,detail:this.getDetail(v)};h.push(u),l.push({result:y,node:v})}else d=!0})};for(;c<l.length;){let m=l[c++];f(m.node,m.result)}return d&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(s),a}getSymbolKind(t){switch(t){case"object":return it.Module;case"string":return it.String;case"number":return it.Number;case"array":return it.Array;case"boolean":return it.Boolean;default:return it.Variable}}getKeyLabel(t){let n=t.keyNode.value;return n&&(n=n.replace(/[\n]/g,"\u21B5")),n&&n.trim()?n:`"${n}"`}getDetail(t){if(!!t){if(t.type==="boolean"||t.type==="number"||t.type==="null"||t.type==="string")return String(t.value);if(t.type==="array")return t.children.length?void 0:"[]";if(t.type==="object")return t.children.length?void 0:"{}"}}findDocumentColors(t,n,r){return this.schemaService.getSchemaForResource(t.uri,n).then(o=>{let i=[];if(o){let s=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,a=n.getMatchingSchemas(o.schema),l={};for(let c of a)if(!c.inverted&&c.schema&&(c.schema.format==="color"||c.schema.format==="color-hex")&&c.node&&c.node.type==="string"){let d=String(c.node.offset);if(!l[d]){let f=Mf(At(c.node));if(f){let m=un(t,c.node);i.push({color:f,range:m})}if(l[d]=!0,s--,s<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(t.uri),i}}}return i})}getColorPresentations(t,n,r,o){let i=[],s=Math.round(r.red*255),a=Math.round(r.green*255),l=Math.round(r.blue*255);function c(f){let m=f.toString(16);return m.length!==2?"0"+m:m}let d;return r.alpha===1?d=`#${c(s)}${c(a)}${c(l)}`:d=`#${c(s)}${c(a)}${c(l)}${c(Math.round(r.alpha*255))}`,i.push({label:d,textEdit:Ae.replace(o,JSON.stringify(d))}),i}}});var te,ji,My,If=ue(()=>{te=ct(Dn()),ji={schemaAssociations:[],schemas:{"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},My={id:te.t("A unique identifier for the schema."),$schema:te.t("The schema to verify this document against."),title:te.t("A descriptive title of the element."),description:te.t("A long description of the element. Used in hover menus and suggestions."),default:te.t("A default value. Used by suggestions."),multipleOf:te.t("A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:te.t("The maximum numerical value, inclusive by default."),exclusiveMaximum:te.t("Makes the maximum property exclusive."),minimum:te.t("The minimum numerical value, inclusive by default."),exclusiveMinimum:te.t("Makes the minimum property exclusive."),maxLength:te.t("The maximum length of a string."),minLength:te.t("The minimum length of a string."),pattern:te.t("A regular expression to match the string against. It is not implicitly anchored."),additionalItems:te.t("For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:te.t("For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:te.t("The maximum number of items that can be inside an array. Inclusive."),minItems:te.t("The minimum number of items that can be inside an array. Inclusive."),uniqueItems:te.t("If all of the items in the array must be unique. Defaults to false."),maxProperties:te.t("The maximum number of properties an object can have. Inclusive."),minProperties:te.t("The minimum number of properties an object can have. Inclusive."),required:te.t("An array of strings that lists the names of all properties required on this object."),additionalProperties:te.t("Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:te.t("Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:te.t("A map of property names to schemas for each property."),patternProperties:te.t("A map of regular expressions on property names to schemas for matching properties."),dependencies:te.t("A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:te.t("The set of literal values that are valid."),type:te.t("Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:te.t("Describes the format expected for the value."),allOf:te.t("An array of schemas, all of which must match."),anyOf:te.t("An array of schemas, where at least one must match."),oneOf:te.t("An array of schemas, exactly one of which must match."),not:te.t("A schema which must not match."),$id:te.t("A unique identifier for the schema."),$ref:te.t("Reference a definition hosted on any location."),$comment:te.t("Comments from schema authors to readers or maintainers of the schema."),readOnly:te.t("Indicates that the value of the instance is managed exclusively by the owning authority."),examples:te.t("Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:te.t('An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:te.t("If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:te.t("An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:te.t("Describes the media type of a string property."),contentEncoding:te.t("Describes the content encoding of a string property."),if:te.t('The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:te.t('The "if" subschema is used for validation when the "if" subschema succeeds.'),else:te.t('The "else" subschema is used for validation when the "if" subschema fails.')};for(let e in ji.schemas){let t=ji.schemas[e];for(let n in t.properties){let r=t.properties[n];typeof r=="boolean"&&(r=t.properties[n]={});let o=My[n];o&&(r.description=o)}}});var $f,Jt,Wf,Li=ue(()=>{(()=>{"use strict";var e={470:o=>{function i(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function s(l,c){for(var d,f="",m=0,h=-1,g=0,v=0;v<=l.length;++v){if(v<l.length)d=l.charCodeAt(v);else{if(d===47)break;d=47}if(d===47){if(!(h===v-1||g===1))if(h!==v-1&&g===2){if(f.length<2||m!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var S=f.lastIndexOf("/");if(S!==f.length-1){S===-1?(f="",m=0):m=(f=f.slice(0,S)).length-1-f.lastIndexOf("/"),h=v,g=0;continue}}else if(f.length===2||f.length===1){f="",m=0,h=v,g=0;continue}}c&&(f.length>0?f+="/..":f="..",m=2)}else f.length>0?f+="/"+l.slice(h+1,v):f=l.slice(h+1,v),m=v-h-1;h=v,g=0}else d===46&&g!==-1?++g:g=-1}return f}var a={resolve:function(){for(var l,c="",d=!1,f=arguments.length-1;f>=-1&&!d;f--){var m;f>=0?m=arguments[f]:(l===void 0&&(l=process.cwd()),m=l),i(m),m.length!==0&&(c=m+"/"+c,d=m.charCodeAt(0)===47)}return c=s(c,!d),d?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(l){if(i(l),l.length===0)return".";var c=l.charCodeAt(0)===47,d=l.charCodeAt(l.length-1)===47;return(l=s(l,!c)).length!==0||c||(l="."),l.length>0&&d&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return i(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var d=arguments[c];i(d),d.length>0&&(l===void 0?l=d:l+="/"+d)}return l===void 0?".":a.normalize(l)},relative:function(l,c){if(i(l),i(c),l===c||(l=a.resolve(l))===(c=a.resolve(c)))return"";for(var d=1;d<l.length&&l.charCodeAt(d)===47;++d);for(var f=l.length,m=f-d,h=1;h<c.length&&c.charCodeAt(h)===47;++h);for(var g=c.length-h,v=m<g?m:g,S=-1,T=0;T<=v;++T){if(T===v){if(g>v){if(c.charCodeAt(h+T)===47)return c.slice(h+T+1);if(T===0)return c.slice(h+T)}else m>v&&(l.charCodeAt(d+T)===47?S=T:T===0&&(S=0));break}var y=l.charCodeAt(d+T);if(y!==c.charCodeAt(h+T))break;y===47&&(S=T)}var u="";for(T=d+S+1;T<=f;++T)T!==f&&l.charCodeAt(T)!==47||(u.length===0?u+="..":u+="/..");return u.length>0?u+c.slice(h+S):(h+=S,c.charCodeAt(h)===47&&++h,c.slice(h))},_makeLong:function(l){return l},dirname:function(l){if(i(l),l.length===0)return".";for(var c=l.charCodeAt(0),d=c===47,f=-1,m=!0,h=l.length-1;h>=1;--h)if((c=l.charCodeAt(h))===47){if(!m){f=h;break}}else m=!1;return f===-1?d?"/":".":d&&f===1?"//":l.slice(0,f)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(l);var d,f=0,m=-1,h=!0;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var g=c.length-1,v=-1;for(d=l.length-1;d>=0;--d){var S=l.charCodeAt(d);if(S===47){if(!h){f=d+1;break}}else v===-1&&(h=!1,v=d+1),g>=0&&(S===c.charCodeAt(g)?--g==-1&&(m=d):(g=-1,m=v))}return f===m?m=v:m===-1&&(m=l.length),l.slice(f,m)}for(d=l.length-1;d>=0;--d)if(l.charCodeAt(d)===47){if(!h){f=d+1;break}}else m===-1&&(h=!1,m=d+1);return m===-1?"":l.slice(f,m)},extname:function(l){i(l);for(var c=-1,d=0,f=-1,m=!0,h=0,g=l.length-1;g>=0;--g){var v=l.charCodeAt(g);if(v!==47)f===-1&&(m=!1,f=g+1),v===46?c===-1?c=g:h!==1&&(h=1):c!==-1&&(h=-1);else if(!m){d=g+1;break}}return c===-1||f===-1||h===0||h===1&&c===f-1&&c===d+1?"":l.slice(c,f)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(c,d){var f=d.dir||d.root,m=d.base||(d.name||"")+(d.ext||"");return f?f===d.root?f+m:f+"/"+m:m}(0,l)},parse:function(l){i(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var d,f=l.charCodeAt(0),m=f===47;m?(c.root="/",d=1):d=0;for(var h=-1,g=0,v=-1,S=!0,T=l.length-1,y=0;T>=d;--T)if((f=l.charCodeAt(T))!==47)v===-1&&(S=!1,v=T+1),f===46?h===-1?h=T:y!==1&&(y=1):h!==-1&&(y=-1);else if(!S){g=T+1;break}return h===-1||v===-1||y===0||y===1&&h===v-1&&h===g+1?v!==-1&&(c.base=c.name=g===0&&m?l.slice(1,v):l.slice(g,v)):(g===0&&m?(c.name=l.slice(1,h),c.base=l.slice(1,v)):(c.name=l.slice(g,h),c.base=l.slice(g,v)),c.ext=l.slice(h,v)),g>0?c.dir=l.slice(0,g-1):m&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,o.exports=a}},t={};function n(o){var i=t[o];if(i!==void 0)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.d=(o,i)=>{for(var s in i)n.o(i,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:i[s]})},n.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};(()=>{var o;if(n.r(r),n.d(r,{URI:()=>S,Utils:()=>R}),typeof process=="object")o=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;o=i.indexOf("Windows")>=0}var s,a,l=(s=function(M,E){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,A){L.__proto__=A}||function(L,A){for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(L[I]=A[I])},s(M,E)},function(M,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function L(){this.constructor=M}s(M,E),M.prototype=E===null?Object.create(E):(L.prototype=E.prototype,new L)}),c=/^\w[\w\d+.-]*$/,d=/^\//,f=/^\/\//;function m(M,E){if(!M.scheme&&E)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(M.authority,'", path: "').concat(M.path,'", query: "').concat(M.query,'", fragment: "').concat(M.fragment,'"}'));if(M.scheme&&!c.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!d.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var h="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,S=function(){function M(E,L,A,I,H,V){V===void 0&&(V=!1),typeof E=="object"?(this.scheme=E.scheme||h,this.authority=E.authority||h,this.path=E.path||h,this.query=E.query||h,this.fragment=E.fragment||h):(this.scheme=function(Y,re){return Y||re?Y:"file"}(E,V),this.authority=L||h,this.path=function(Y,re){switch(Y){case"https":case"http":case"file":re?re[0]!==g&&(re=g+re):re=g}return re}(this.scheme,A||h),this.query=I||h,this.fragment=H||h,m(this,V))}return M.isUri=function(E){return E instanceof M||!!E&&typeof E.authority=="string"&&typeof E.fragment=="string"&&typeof E.path=="string"&&typeof E.query=="string"&&typeof E.scheme=="string"&&typeof E.fsPath=="string"&&typeof E.with=="function"&&typeof E.toString=="function"},Object.defineProperty(M.prototype,"fsPath",{get:function(){return O(this,!1)},enumerable:!1,configurable:!0}),M.prototype.with=function(E){if(!E)return this;var L=E.scheme,A=E.authority,I=E.path,H=E.query,V=E.fragment;return L===void 0?L=this.scheme:L===null&&(L=h),A===void 0?A=this.authority:A===null&&(A=h),I===void 0?I=this.path:I===null&&(I=h),H===void 0?H=this.query:H===null&&(H=h),V===void 0?V=this.fragment:V===null&&(V=h),L===this.scheme&&A===this.authority&&I===this.path&&H===this.query&&V===this.fragment?this:new y(L,A,I,H,V)},M.parse=function(E,L){L===void 0&&(L=!1);var A=v.exec(E);return A?new y(A[2]||h,x(A[4]||h),x(A[5]||h),x(A[7]||h),x(A[9]||h),L):new y(h,h,h,h,h)},M.file=function(E){var L=h;if(o&&(E=E.replace(/\\/g,g)),E[0]===g&&E[1]===g){var A=E.indexOf(g,2);A===-1?(L=E.substring(2),E=g):(L=E.substring(2,A),E=E.substring(A)||g)}return new y("file",L,E,h,h)},M.from=function(E){var L=new y(E.scheme,E.authority,E.path,E.query,E.fragment);return m(L,!0),L},M.prototype.toString=function(E){return E===void 0&&(E=!1),N(this,E)},M.prototype.toJSON=function(){return this},M.revive=function(E){if(E){if(E instanceof M)return E;var L=new y(E);return L._formatted=E.external,L._fsPath=E._sep===T?E.fsPath:null,L}return E},M}(),T=o?1:void 0,y=function(M){function E(){var L=M!==null&&M.apply(this,arguments)||this;return L._formatted=null,L._fsPath=null,L}return l(E,M),Object.defineProperty(E.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=O(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),E.prototype.toString=function(L){return L===void 0&&(L=!1),L?N(this,!0):(this._formatted||(this._formatted=N(this,!1)),this._formatted)},E.prototype.toJSON=function(){var L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=T),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L},E}(S),u=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function p(M,E,L){for(var A=void 0,I=-1,H=0;H<M.length;H++){var V=M.charCodeAt(H);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||E&&V===47||L&&V===91||L&&V===93||L&&V===58)I!==-1&&(A+=encodeURIComponent(M.substring(I,H)),I=-1),A!==void 0&&(A+=M.charAt(H));else{A===void 0&&(A=M.substr(0,H));var Y=u[V];Y!==void 0?(I!==-1&&(A+=encodeURIComponent(M.substring(I,H)),I=-1),A+=Y):I===-1&&(I=H)}}return I!==-1&&(A+=encodeURIComponent(M.substring(I))),A!==void 0?A:M}function _(M){for(var E=void 0,L=0;L<M.length;L++){var A=M.charCodeAt(L);A===35||A===63?(E===void 0&&(E=M.substr(0,L)),E+=u[A]):E!==void 0&&(E+=M[L])}return E!==void 0?E:M}function O(M,E){var L;return L=M.authority&&M.path.length>1&&M.scheme==="file"?"//".concat(M.authority).concat(M.path):M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?E?M.path.substr(1):M.path[1].toLowerCase()+M.path.substr(2):M.path,o&&(L=L.replace(/\//g,"\\")),L}function N(M,E){var L=E?_:p,A="",I=M.scheme,H=M.authority,V=M.path,Y=M.query,re=M.fragment;if(I&&(A+=I,A+=":"),(H||I==="file")&&(A+=g,A+=g),H){var he=H.indexOf("@");if(he!==-1){var Pe=H.substr(0,he);H=H.substr(he+1),(he=Pe.lastIndexOf(":"))===-1?A+=L(Pe,!1,!1):(A+=L(Pe.substr(0,he),!1,!1),A+=":",A+=L(Pe.substr(he+1),!1,!0)),A+="@"}(he=(H=H.toLowerCase()).lastIndexOf(":"))===-1?A+=L(H,!1,!0):(A+=L(H.substr(0,he),!1,!0),A+=H.substr(he))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58)(Ne=V.charCodeAt(1))>=65&&Ne<=90&&(V="/".concat(String.fromCharCode(Ne+32),":").concat(V.substr(3)));else if(V.length>=2&&V.charCodeAt(1)===58){var Ne;(Ne=V.charCodeAt(0))>=65&&Ne<=90&&(V="".concat(String.fromCharCode(Ne+32),":").concat(V.substr(2)))}A+=L(V,!0,!1)}return Y&&(A+="?",A+=L(Y,!1,!1)),re&&(A+="#",A+=E?re:p(re,!1,!1)),A}function w(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+w(M.substr(3)):M}}var b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(M){return M.match(b)?M.replace(b,function(E){return w(E)}):M}var R,D=n(470),q=function(M,E,L){if(L||arguments.length===2)for(var A,I=0,H=E.length;I<H;I++)!A&&I in E||(A||(A=Array.prototype.slice.call(E,0,I)),A[I]=E[I]);return M.concat(A||Array.prototype.slice.call(E))},j=D.posix||D,W="/";(function(M){M.joinPath=function(E){for(var L=[],A=1;A<arguments.length;A++)L[A-1]=arguments[A];return E.with({path:j.join.apply(j,q([E.path],L,!1))})},M.resolvePath=function(E){for(var L=[],A=1;A<arguments.length;A++)L[A-1]=arguments[A];var I=E.path,H=!1;I[0]!==W&&(I=W+I,H=!0);var V=j.resolve.apply(j,q([I],L,!1));return H&&V[0]===W&&!E.authority&&(V=V.substring(1)),E.with({path:V})},M.dirname=function(E){if(E.path.length===0||E.path===W)return E;var L=j.dirname(E.path);return L.length===1&&L.charCodeAt(0)===46&&(L=""),E.with({path:L})},M.basename=function(E){return j.basename(E.path)},M.extname=function(E){return j.extname(E.path)}})(R||(R={}))})(),$f=r})();({URI:Jt,Utils:Wf}=$f)});function Vf(e,t){if(typeof e!="string")throw new TypeError("Expected a string");let n=String(e),r="",o=t?!!t.extended:!1,i=t?!!t.globstar:!1,s=!1,a=t&&typeof t.flags=="string"?t.flags:"",l;for(let c=0,d=n.length;c<d;c++)switch(l=n[c],l){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+l;break;case"?":if(o){r+=".";break}case"[":case"]":if(o){r+=l;break}case"{":if(o){s=!0,r+="(";break}case"}":if(o){s=!1,r+=")";break}case",":if(s){r+="|";break}r+="\\"+l;break;case"*":let f=n[c-1],m=1;for(;n[c+1]==="*";)m++,c++;let h=n[c+1];i?m>1&&(f==="/"||f===void 0||f==="{"||f===",")&&(h==="/"||h===void 0||h===","||h==="}")?(h==="/"?c++:f==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)":r+=".*";break;default:r+=l}return(!a||!~a.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,a)}var Hf=ue(()=>{});function ln(e){try{return Jt.parse(e).toString(!0)}catch{return e}}function Bf(e){try{return Jt.parse(e).with({fragment:null,query:null}).toString(!0)}catch{return e}}function Xr(e){try{let t=Jt.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}var Dt,Ay,jy,Sc,Tc,On,Fi,Ii,Ly,Uf=ue(()=>{an();Li();Br();sr();Dt=ct(Dn());Hf();Hr();Ay="!",jy="/",Sc=class{constructor(t,n,r){this.folderUri=n,this.uris=r,this.globWrappers=[];try{for(let o of t){let i=o[0]!==Ay;i||(o=o.substring(1)),o.length>0&&(o[0]===jy&&(o=o.substring(1)),this.globWrappers.push({regexp:Vf("**/"+o,{extended:!0,globstar:!0}),include:i}))}n&&(n=Bf(n),n.endsWith("/")||(n=n+"/"),this.folderUri=n)}catch{this.globWrappers.length=0,this.uris=[]}}matchesPattern(t){if(this.folderUri&&!t.startsWith(this.folderUri))return!1;let n=!1;for(let{regexp:r,include:o}of this.globWrappers)r.test(t)&&(n=o);return n}getURIs(){return this.uris}},Tc=class{constructor(t,n,r){this.service=t,this.uri=n,this.dependencies=new Set,this.anchors=void 0,r&&(this.unresolvedSchema=this.service.promise.resolve(new On(r)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(t=>this.service.resolveSchemaContent(t,this))),this.resolvedSchema}clearSchema(){let t=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,t}},On=class{constructor(t,n=[]){this.schema=t,this.errors=n}},Fi=class{constructor(t,n=[],r=[],o){this.schema=t,this.errors=n,this.warnings=r,this.schemaDraft=o}getSection(t){let n=this.getSectionRecursive(t,this.schema);if(n)return nt(n)}getSectionRecursive(t,n){if(!n||typeof n=="boolean"||t.length===0)return n;let r=t.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(t,n.properties[r]);if(n.patternProperties)for(let o of Object.keys(n.patternProperties)){let i=Tn(o);if(i!=null&&i.test(r))return this.getSectionRecursive(t,n.patternProperties[o])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(t,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){let o=parseInt(r,10);if(!isNaN(o)&&n.items[o])return this.getSectionRecursive(t,n.items[o])}else if(n.items)return this.getSectionRecursive(t,n.items)}}}},Ii=class{constructor(t,n,r){this.contextService=n,this.requestService=t,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(t){return Object.keys(this.registeredSchemasIds).filter(n=>{let r=Jt.parse(n).scheme;return r!=="schemaservice"&&(!t||t(r))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(t){this.cachedSchemaForResource=void 0;let n=!1;t=ln(t);let r=[t],o=Object.keys(this.schemasById).map(i=>this.schemasById[i]);for(;r.length;){let i=r.pop();for(let s=0;s<o.length;s++){let a=o[s];a&&(a.uri===i||a.dependencies.has(i))&&(a.uri!==i&&r.push(a.uri),a.clearSchema()&&(n=!0),o[s]=void 0)}}return n}setSchemaContributions(t){if(t.schemas){let n=t.schemas;for(let r in n){let o=ln(r);this.contributionSchemas[o]=this.addSchemaHandle(o,n[r])}}if(Array.isArray(t.schemaAssociations)){let n=t.schemaAssociations;for(let r of n){let o=r.uris.map(ln),i=this.addFilePatternAssociation(r.pattern,r.folderUri,o);this.contributionAssociations.push(i)}}}addSchemaHandle(t,n){let r=new Tc(this,t,n);return this.schemasById[t]=r,r}getOrAddSchemaHandle(t,n){return this.schemasById[t]||this.addSchemaHandle(t,n)}addFilePatternAssociation(t,n,r){let o=new Sc(t,n,r);return this.filePatternAssociations.push(o),o}registerExternalSchema(t){let n=ln(t.uri);return this.registeredSchemasIds[n]=!0,this.cachedSchemaForResource=void 0,t.fileMatch&&t.fileMatch.length&&this.addFilePatternAssociation(t.fileMatch,t.folderUri,[n]),t.schema?this.addSchemaHandle(n,t.schema):this.getOrAddSchemaHandle(n)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(let t in this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(let t of this.contributionAssociations)this.filePatternAssociations.push(t)}getResolvedSchema(t){let n=ln(t),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(t){if(!this.requestService){let n=Dt.t("Unable to load schema from '{0}'. No schema request service available",Xr(t));return this.promise.resolve(new On({},[n]))}return this.requestService(t).then(n=>{if(!n){let s=Dt.t("Unable to load schema from '{0}': No content.",Xr(t));return new On({},[s])}let r=[];n.charCodeAt(0)===65279&&(r.push(Dt.t("Problem reading content from '{0}': UTF-8 with BOM detected, only UTF 8 is allowed.",Xr(t))),n=n.trimStart());let o={},i=[];return o=sf(n,i),i.length&&r.push(Dt.t("Unable to parse content from '{0}': Parse error at offset {1}.",Xr(t),i[0].offset)),new On(o,r)},n=>{let r=n.toString(),o=n.toString().split("Error: ");return o.length>1&&(r=o[1]),cn(r,".")&&(r=r.substr(0,r.length-1)),new On({},[Dt.t("Unable to load schema from '{0}': {1}.",Xr(t),r)])})}resolveSchemaContent(t,n){let r=t.errors.slice(0),o=t.schema,i=o.$schema?ln(o.$schema):void 0;if(i==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new Fi({},[Dt.t("Draft-03 schemas are not supported.")],[],i));let s=new Set,a=this.contextService,l=(v,S)=>{S=decodeURIComponent(S);let T=v;return S[0]==="/"&&(S=S.substring(1)),S.split("/").some(y=>(y=y.replace(/~1/g,"/").replace(/~0/g,"~"),T=T[y],!T)),T},c=(v,S,T)=>(S.anchors||(S.anchors=g(v)),S.anchors.get(T)),d=(v,S)=>{for(let T in S)S.hasOwnProperty(T)&&T!=="id"&&T!=="$id"&&(v[T]=S[T])},f=(v,S,T,y)=>{let u;y===void 0||y.length===0?u=S:y.charAt(0)==="/"?u=l(S,y):u=c(S,T,y),u?d(v,u):r.push(Dt.t("$ref '{0}' in '{1}' can not be resolved.",y||"",T.uri))},m=(v,S,T,y)=>{a&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(S)&&(S=a.resolveRelativePath(S,y.uri)),S=ln(S);let u=this.getOrAddSchemaHandle(S);return u.getUnresolvedSchema().then(p=>{if(y.dependencies.add(S),p.errors.length){let _=T?S+"#"+T:S;r.push(Dt.t("Problems loading reference '{0}': {1}",_,p.errors[0]))}return f(v,p.schema,u,T),h(v,p.schema,u)})},h=(v,S,T)=>{let y=[];return this.traverseNodes(v,u=>{let p=new Set;for(;u.$ref;){let _=u.$ref,O=_.split("#",2);if(delete u.$ref,O[0].length>0){y.push(m(u,O[0],O[1],T));return}else if(!p.has(_)){let N=O[1];f(u,S,T,N),p.add(_)}}u.$recursiveRef&&s.add("$recursiveRef"),u.$dynamicRef&&s.add("$dynamicRef")}),this.promise.all(y)},g=v=>{let S=new Map;return this.traverseNodes(v,T=>{let y=T.$id||T.id,u=xi(y)&&y.charAt(0)==="#"?y.substring(1):T.$anchor;u&&(S.has(u)?r.push(Dt.t("Duplicate anchor declaration: '{0}'",u)):S.set(u,T)),T.$recursiveAnchor&&s.add("$recursiveAnchor"),T.$dynamicAnchor&&s.add("$dynamicAnchor")}),S};return h(o,o,n).then(v=>{let S=[];return s.size&&S.push(Dt.t("The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(s.keys()).join(", "))),new Fi(o,r,S,i)})}traverseNodes(t,n){if(!t||typeof t!="object")return Promise.resolve(null);let r=new Set,o=(...d)=>{for(let f of d)Mt(f)&&l.push(f)},i=(...d)=>{for(let f of d)if(Mt(f))for(let m in f){let g=f[m];Mt(g)&&l.push(g)}},s=(...d)=>{for(let f of d)if(Array.isArray(f))for(let m of f)Mt(m)&&l.push(m)},a=d=>{if(Array.isArray(d))for(let f of d)Mt(f)&&l.push(f);else Mt(d)&&l.push(d)},l=[t],c=l.pop();for(;c;)r.has(c)||(r.add(c),n(c),o(c.additionalItems,c.additionalProperties,c.not,c.contains,c.propertyNames,c.if,c.then,c.else,c.unevaluatedItems,c.unevaluatedProperties),i(c.definitions,c.$defs,c.properties,c.patternProperties,c.dependencies,c.dependentSchemas),s(c.anyOf,c.allOf,c.oneOf,c.prefixItems),a(c.items)),c=l.pop()}getSchemaFromProperty(t,n){var r,o;if(((r=n.root)==null?void 0:r.type)==="object"){for(let i of n.root.properties)if(i.keyNode.value==="$schema"&&((o=i.valueNode)==null?void 0:o.type)==="string"){let s=i.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(s)&&(s=this.contextService.resolveRelativePath(s,t)),s}}}getAssociatedSchemas(t){let n=Object.create(null),r=[],o=Bf(t);for(let i of this.filePatternAssociations)if(i.matchesPattern(o))for(let s of i.getURIs())n[s]||(r.push(s),n[s]=!0);return r}getSchemaURIsForResource(t,n){let r=n&&this.getSchemaFromProperty(t,n);return r?[r]:this.getAssociatedSchemas(t)}getSchemaForResource(t,n){if(n){let i=this.getSchemaFromProperty(t,n);if(i){let s=ln(i);return this.getOrAddSchemaHandle(s).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===t)return this.cachedSchemaForResource.resolvedSchema;let r=this.getAssociatedSchemas(t),o=r.length>0?this.createCombinedSchema(t,r).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:t,resolvedSchema:o},o}createCombinedSchema(t,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);{let r="schemaservice://combinedSchema/"+encodeURIComponent(t),o={allOf:n.map(i=>({$ref:i}))};return this.addSchemaHandle(r,o)}}getMatchingSchemas(t,n,r){if(r){let o=r.id||"schemaservice://untitled/matchingSchemas/"+Ly++;return this.addSchemaHandle(o,r).getResolvedSchema().then(s=>n.getMatchingSchemas(s.schema).filter(a=>!a.inverted))}return this.getSchemaForResource(t.uri,n).then(o=>o?n.getMatchingSchemas(o.schema).filter(i=>!i.inverted):[])}},Ly=0});function zf(e,t){let n=[],r=[],o=[],i=-1,s=pt(e.getText(),!1),a=s.scan();function l(g){n.push(g),r.push(o.length)}for(;a!==17;){switch(a){case 1:case 3:{let g=e.positionAt(s.getTokenOffset()).line,v={startLine:g,endLine:g,kind:a===1?"object":"array"};o.push(v);break}case 2:case 4:{let g=a===2?"object":"array";if(o.length>0&&o[o.length-1].kind===g){let v=o.pop(),S=e.positionAt(s.getTokenOffset()).line;v&&S>v.startLine+1&&i!==v.startLine&&(v.endLine=S-1,l(v),i=v.startLine)}break}case 13:{let g=e.positionAt(s.getTokenOffset()).line,v=e.positionAt(s.getTokenOffset()+s.getTokenLength()).line;s.getTokenError()===1&&g+1<e.lineCount?s.setPosition(e.offsetAt(pe.create(g+1,0))):g<v&&(l({startLine:g,endLine:v,kind:Kt.Comment}),i=g);break}case 12:{let v=e.getText().substr(s.getTokenOffset(),s.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(v){let S=e.positionAt(s.getTokenOffset()).line;if(v[1]){let T={startLine:S,endLine:S,kind:Kt.Region};o.push(T)}else{let T=o.length-1;for(;T>=0&&o[T].kind!==Kt.Region;)T--;if(T>=0){let y=o[T];o.length=T,S>y.startLine&&i!==y.startLine&&(y.endLine=S,l(y),i=y.startLine)}}}break}}a=s.scan()}let c=t&&t.rangeLimit;if(typeof c!="number"||n.length<=c)return n;t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri);let d=[];for(let g of r)g<30&&(d[g]=(d[g]||0)+1);let f=0,m=0;for(let g=0;g<d.length;g++){let v=d[g];if(v){if(v+f>c){m=g;break}f+=v}}let h=[];for(let g=0;g<n.length;g++){let v=r[g];typeof v=="number"&&(v<m||v===m&&f++<c)&&h.push(n[g])}return h}var Jf=ue(()=>{an();mt()});function Gf(e,t,n){function r(a){let l=e.offsetAt(a),c=n.getNodeFromOffset(l,!0),d=[];for(;c;){switch(c.type){case"string":case"object":case"array":let m=c.offset+1,h=c.offset+c.length-1;m<h&&l>=m&&l<=h&&d.push(o(m,h)),d.push(o(c.offset,c.offset+c.length));break;case"number":case"boolean":case"null":case"property":d.push(o(c.offset,c.offset+c.length));break}if(c.type==="property"||c.parent&&c.parent.type==="array"){let m=s(c.offset+c.length,5);m!==-1&&d.push(o(c.offset,m))}c=c.parent}let f;for(let m=d.length-1;m>=0;m--)f=_n.create(d[m],f);return f||(f=_n.create(Z.create(a,a))),f}function o(a,l){return Z.create(e.positionAt(a),e.positionAt(l))}let i=pt(e.getText(),!0);function s(a,l){return i.setPosition(a),i.scan()===l?i.getTokenOffset()+i.getTokenLength():-1}return t.map(r)}var Xf=ue(()=>{mt();an()});function Kr(e,t,n){let r;if(n){let i=e.offsetAt(n.start),s=e.offsetAt(n.end)-i;r={offset:i,length:s}}let o={tabSize:t?t.tabSize:4,insertSpaces:(t==null?void 0:t.insertSpaces)===!0,insertFinalNewline:(t==null?void 0:t.insertFinalNewline)===!0,eol:`
`,keepLines:(t==null?void 0:t.keepLines)===!0};return lf(e.getText(),r,o).map(i=>Ae.replace(Z.create(e.positionAt(i.offset),e.positionAt(i.offset+i.length)),i.content))}var Pc=ue(()=>{an();mt()});function Fy(e,t){let n=e.propertyName.toLowerCase(),r=t.propertyName.toLowerCase();return n<r?-1:n>r?1:0}function Iy(e,t,n){let r=t.propertyName.toLowerCase(),o=e[0].propertyName.toLowerCase(),i=e[e.length-1].propertyName.toLowerCase();if(r<o)return 0;if(r>i)return e.length;let s=0,a=e.length-1;for(;s<=a;){let l=a+s>>1,c=n(t,e[l]);if(c>0)s=l+1;else if(c<0)a=l-1;else return l}return-s-1}var Oe,Nn,Kf=ue(()=>{(function(e){e[e.Object=0]="Object",e[e.Array=1]="Array"})(Oe||(Oe={}));Nn=class{constructor(t,n){this.propertyName=t??"",this.beginningLineNumber=n,this.childrenProperties=[],this.lastProperty=!1,this.noKeyName=!1}addChildProperty(t){if(t.parent=this,this.childrenProperties.length>0){let n=0;t.noKeyName?n=this.childrenProperties.length:n=Iy(this.childrenProperties,t,Fy),n<0&&(n=n*-1-1),this.childrenProperties.splice(n,0,t)}else this.childrenProperties.push(t);return t}}});function Qf(e,t){let n={...t,keepLines:!1},r=tt.applyEdits(e,Kr(e,n,void 0)),o=tt.create("test://test.json","json",0,r),i=$y(o),s=Wy(o,i),a=Kr(s,n,void 0),l=tt.applyEdits(s,a);return[Ae.replace(Z.create(pe.create(0,0),e.positionAt(e.getText().length)),l)]}function $y(e){let t=e.getText(),n=pt(t,!1),r=new Nn,o=r,i=r,s=r,a,l=0,c=0,d,f,m=-1,h=-1,g=0,v=0,S=[],T=!1,y=!1;for(;(a=n.scan())!==17;){if(T===!0&&a!==14&&a!==15&&a!==12&&a!==13&&i.endLineNumber===void 0){let u=n.getTokenStartLine();f===2||f===4?s.endLineNumber=u-1:i.endLineNumber=u-1,g=u,T=!1}if(y===!0&&a!==14&&a!==15&&a!==12&&a!==13&&(g=n.getTokenStartLine(),y=!1),n.getTokenStartLine()!==l){for(let u=l;u<n.getTokenStartLine();u++){let p=e.getText(Z.create(pe.create(u,0),pe.create(u+1,0))).length;c=c+p}l=n.getTokenStartLine()}switch(a){case 10:{if(d===void 0||d===1||d===5&&S[S.length-1]===Oe.Object){let u=new Nn(n.getTokenValue(),g);s=i,i=o.addChildProperty(u)}break}case 3:{if(r.beginningLineNumber===void 0&&(r.beginningLineNumber=n.getTokenStartLine()),S[S.length-1]===Oe.Object)o=i;else if(S[S.length-1]===Oe.Array){let u=new Nn(n.getTokenValue(),g);u.noKeyName=!0,s=i,i=o.addChildProperty(u),o=i}S.push(Oe.Array),i.type=Oe.Array,g=n.getTokenStartLine(),g++;break}case 1:{if(r.beginningLineNumber===void 0)r.beginningLineNumber=n.getTokenStartLine();else if(S[S.length-1]===Oe.Array){let u=new Nn(n.getTokenValue(),g);u.noKeyName=!0,s=i,i=o.addChildProperty(u)}i.type=Oe.Object,S.push(Oe.Object),o=i,g=n.getTokenStartLine(),g++;break}case 4:{v=n.getTokenStartLine(),S.pop(),i.endLineNumber===void 0&&(d===2||d===4)&&(i.endLineNumber=v-1,i.lastProperty=!0,i.lineWhereToAddComma=m,i.indexWhereToAddComa=h,s=i,i=i?i.parent:void 0,o=i),r.endLineNumber=v,g=v+1;break}case 2:{v=n.getTokenStartLine(),S.pop(),d!==1&&i.endLineNumber===void 0&&(i.endLineNumber=v-1,i.lastProperty=!0,i.lineWhereToAddComma=m,i.indexWhereToAddComa=h,s=i,i=i?i.parent:void 0,o=i),r.endLineNumber=n.getTokenStartLine(),g=v+1;break}case 5:{v=n.getTokenStartLine(),i.endLineNumber===void 0&&(S[S.length-1]===Oe.Object||S[S.length-1]===Oe.Array&&(d===2||d===4))&&(i.endLineNumber=v,i.commaIndex=n.getTokenOffset()-c,i.commaLine=v),(d===2||d===4)&&(s=i,i=i?i.parent:void 0,o=i),g=v+1;break}case 13:{d===5&&m===n.getTokenStartLine()&&(S[S.length-1]===Oe.Array&&(f===2||f===4)||S[S.length-1]===Oe.Object)&&(S[S.length-1]===Oe.Array&&(f===2||f===4)||S[S.length-1]===Oe.Object)&&(i.endLineNumber=void 0,T=!0),(d===1||d===3)&&m===n.getTokenStartLine()&&(y=!0);break}}a!==14&&a!==13&&a!==12&&a!==15&&(f=d,d=a,m=n.getTokenStartLine(),h=n.getTokenOffset()+n.getTokenLength()-c)}return r}function Wy(e,t){if(t.childrenProperties.length===0)return e;let n=tt.create("test://test.json","json",0,e.getText()),r=[];for(Yf(r,t,t.beginningLineNumber);r.length>0;){let o=r.shift(),i=o.propertyTreeArray,s=o.beginningLineNumber;for(let a=0;a<i.length;a++){let l=i[a],c=Z.create(pe.create(l.beginningLineNumber,0),pe.create(l.endLineNumber+1,0)),d=e.getText(c),f=tt.create("test://test.json","json",0,d);if(l.lastProperty===!0&&a!==i.length-1){let g=l.lineWhereToAddComma-l.beginningLineNumber,v=l.indexWhereToAddComa,S={range:Z.create(pe.create(g,v),pe.create(g,v)),text:","};tt.update(f,[S],1)}else if(l.lastProperty===!1&&a===i.length-1){let g=l.commaIndex,S=l.commaLine-l.beginningLineNumber,T={range:Z.create(pe.create(S,g),pe.create(S,g+1)),text:""};tt.update(f,[T],1)}let m=l.endLineNumber-l.beginningLineNumber+1,h={range:Z.create(pe.create(s,0),pe.create(s+m,0)),text:f.getText()};tt.update(n,[h],1),Yf(r,l,s),s=s+m}}return n}function Yf(e,t,n){if(t.childrenProperties.length!==0)if(t.type===Oe.Object){let r=1/0;for(let i of t.childrenProperties)i.beginningLineNumber<r&&(r=i.beginningLineNumber);let o=r-t.beginningLineNumber;n=n+o,e.push(new $i(n,t.childrenProperties))}else t.type===Oe.Array&&Zf(e,t,n)}function Zf(e,t,n){for(let r of t.childrenProperties){if(r.type===Oe.Object){let o=1/0;for(let s of r.childrenProperties)s.beginningLineNumber<o&&(o=s.beginningLineNumber);let i=o-r.beginningLineNumber;e.push(new $i(n+r.beginningLineNumber-t.beginningLineNumber+i,r.childrenProperties))}r.type===Oe.Array&&Zf(e,r,n+r.beginningLineNumber-t.beginningLineNumber)}}var $i,ed=ue(()=>{an();mt();Pc();Kf();$i=class{constructor(t,n){this.beginningLineNumber=t,this.propertyTreeArray=n}}});function td(e,t){let n=[];return t.visit(r=>{var o;if(r.type==="property"&&r.keyNode.value==="$ref"&&((o=r.valueNode)==null?void 0:o.type)==="string"){let i=r.valueNode.value,s=Hy(t,i);if(s){let a=e.positionAt(s.offset);n.push({target:`${e.uri}#${a.line+1},${a.character+1}`,range:Vy(e,r.valueNode)})}}return!0}),Promise.resolve(n)}function Vy(e,t){return Z.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function Hy(e,t){let n=By(t);return n?Dc(n,e.root):null}function Dc(e,t){if(!t)return null;if(e.length===0)return t;let n=e.shift();if(t&&t.type==="object"){let r=t.properties.find(o=>o.keyNode.value===n);return r?Dc(e,r.valueNode):null}else if(t&&t.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){let r=Number.parseInt(n),o=t.items[r];return o?Dc(e,o):null}return null}function By(e){return e==="#"?[]:e[0]!=="#"||e[1]!=="/"?null:e.substring(2).split(/\//).map(Uy)}function Uy(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var nd=ue(()=>{mt()});function Rc(e){let t=e.promiseConstructor||Promise,n=new Ii(e.schemaRequestService,e.workspaceContext,t);n.setSchemaContributions(ji);let r=new qi(n,e.contributions,t,e.clientCapabilities),o=new Ei(n,e.contributions,t),i=new Ai(n),s=new Mi(n,t);return{configure:a=>{var l;n.clearExternalSchemas(),(l=a.schemas)==null||l.forEach(n.registerExternalSchema.bind(n)),s.configure(a)},resetSchema:a=>n.onResourceChange(a),doValidation:s.doValidation.bind(s),getLanguageStatus:s.getLanguageStatus.bind(s),parseJSONDocument:a=>Pf(a,{collectComments:!0}),newJSONDocument:(a,l)=>Tf(a,l),getMatchingSchemas:n.getMatchingSchemas.bind(n),doResolve:r.doResolve.bind(r),doComplete:r.doComplete.bind(r),findDocumentSymbols:i.findDocumentSymbols.bind(i),findDocumentSymbols2:i.findDocumentSymbols2.bind(i),findDocumentColors:i.findDocumentColors.bind(i),getColorPresentations:i.getColorPresentations.bind(i),doHover:o.doHover.bind(o),getFoldingRanges:zf,getSelectionRanges:Gf,findDefinition:()=>Promise.resolve([]),findLinks:td,format:(a,l,c)=>Kr(a,c,l),sort:(a,l)=>Qf(a,l)}}var rd=ue(()=>{Rf();Of();Cf();Ff();sr();If();Uf();Jf();Xf();ed();Pc();nd();mt()});function od(e,t,n){let r={},o=0,i;return t>0&&(i=setInterval(()=>{let s=Date.now()-t*1e3,a=Object.keys(r);for(let l of a)r[l].cTime<s&&(delete r[l],o--)},t*1e3)),{get(s){let a=s.version,l=s.languageId,c=r[s.uri];if(c&&c.version===a&&c.languageId===l)return c.cTime=Date.now(),c.languageModel;let d=n(s);if(r[s.uri]={languageModel:d,version:a,languageId:l,cTime:Date.now()},c||o++,o===e){let f=Number.MAX_VALUE,m=null;for(let h in r){let g=r[h];g.cTime<f&&(m=h,f=g.cTime)}m&&(delete r[m],o--)}return d},onDocumentRemoved(s){let a=s.uri;r[a]&&(delete r[a],o--)},dispose(){typeof i<"u"&&(clearInterval(i),i=void 0,r={},o=0)}}}var id=ue(()=>{});function cd(e,t){function n(w=["https","http","file"]){let b={};for(let x of w)x==="file"?b[x]=t.file:(x==="http"||x==="https")&&(b[x]=t.http);return x=>{let R=x.substr(0,x.indexOf(":")),D=b[R];return D?D.getContent(x):e.sendRequest(Nc.type,x).then(q=>q,q=>Promise.reject(q.message))}}let r=Rc({workspaceContext:sd,contributions:[],clientCapabilities:wi.LATEST}),o=new Te.TextDocuments(tt);o.listen(e);let i=!1,s=!1,a=!1,l=Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=Number.MAX_VALUE,m=Number.MAX_VALUE,h;e.onInitialize(w=>{var j,W;let b=w.initializationOptions||{},x=b==null?void 0:b.handledSchemaProtocols;r=Rc({schemaRequestService:n(x),workspaceContext:sd,contributions:[],clientCapabilities:w.capabilities});function R(M,E){let L=M.split("."),A=w.capabilities;for(let I=0;A&&I<L.length;I++){if(!A.hasOwnProperty(L[I]))return E;A=A[L[I]]}return A}return i=R("textDocument.completion.completionItem.snippetSupport",!1),s=R("textDocument.rangeFormatting.dynamicRegistration",!1)&&typeof b.provideFormatter!="boolean",l=R("textDocument.foldingRange.rangeLimit",Number.MAX_VALUE),a=R("textDocument.documentSymbol.hierarchicalDocumentSymbolSupport",!1),m=((W=(j=b.customCapabilities)==null?void 0:j.rangeFormatting)==null?void 0:W.editLimit)||Number.MAX_VALUE,R("textDocument.diagnostic",void 0)===void 0?h=Xl(o,e,t,p):h=Kl(o,e,t,p),{capabilities:{textDocumentSync:Te.TextDocumentSyncKind.Incremental,codeActionProvider:!0,completionProvider:i?{resolveProvider:!1,triggerCharacters:['"',":"]}:void 0,hoverProvider:!0,documentSymbolProvider:!0,documentRangeFormattingProvider:b.provideFormatter===!0,documentFormattingProvider:b.provideFormatter===!0,colorProvider:{},foldingRangeProvider:!0,selectionRangeProvider:!0,documentLinkProvider:{},diagnosticProvider:{documentSelector:null,interFileDependencies:!1,workspaceDiagnostics:!1}}}});let g,v,S=null,T=!0,y=!1;e.onDidChangeConfiguration(w=>{var R,D,q,j,W,M,E,L,A,I,H,V,Y;let b=w.settings;(q=t.configureHttpRequests)==null||q.call(t,(R=b==null?void 0:b.http)==null?void 0:R.proxy,!!((D=b.http)!=null&&D.proxyStrictSSL)),g=(j=b.json)==null?void 0:j.schemas,T=!!((M=(W=b.json)==null?void 0:W.validate)!=null&&M.enable),y=((L=(E=b.json)==null?void 0:E.keepLines)==null?void 0:L.enable)||!1,u();let x=re=>Math.trunc(Math.max(re,0));if(c=x(((A=b.json)==null?void 0:A.resultLimit)||Number.MAX_VALUE),d=x(((I=b.json)==null?void 0:I.jsonFoldingLimit)||l),f=x(((H=b.json)==null?void 0:H.jsoncFoldingLimit)||l),s)if((Y=(V=b.json)==null?void 0:V.format)==null?void 0:Y.enable){if(!S){let he=[{language:"json"},{language:"jsonc"}];S=[e.client.register(Te.DocumentRangeFormattingRequest.type,{documentSelector:he}),e.client.register(Te.DocumentFormattingRequest.type,{documentSelector:he})]}}else S&&(S.forEach(he=>he.then(Pe=>Pe.dispose())),S=null)}),e.onNotification(Oc.type,w=>{v=w,u()}),e.onNotification(qc.type,w=>{let b=!1;if(Array.isArray(w))for(let x of w)r.resetSchema(x)&&(b=!0);else b=r.resetSchema(w);b&&(h==null||h.requestRefresh())}),e.onRequest(Ec.type,async w=>{let b=o.get(w);return b?(u(),await p(b)):[]}),e.onRequest(Cc.type,async w=>{let b=o.get(w);if(b){let x=O(b);return r.getLanguageStatus(b,x)}else return{schemas:[]}}),e.onRequest(Mc.type,async w=>{let b=w.uri,x=w.options,R=o.get(b);return R?r.sort(R,x):[]});function u(){let w={validate:T,allowComments:!0,schemas:new Array};if(v)if(Array.isArray(v))Array.prototype.push.apply(w.schemas,v);else for(let b in v){let x=v[b];Array.isArray(x)&&x.forEach(R=>{w.schemas.push({uri:R,fileMatch:[b]})})}g&&g.forEach((b,x)=>{let R=b.url;!R&&b.schema&&(R=b.schema.id||`vscode://schemas/custom/${x}`),R&&w.schemas.push({uri:R,fileMatch:b.fileMatch,schema:b.schema})}),r.configure(w),h==null||h.requestRefresh()}async function p(w){if(w.getText().length===0)return[];let b=O(w),x=w.languageId==="jsonc"?{comments:"ignore",trailingCommas:"warning"}:{comments:"error",trailingCommas:"error"};return await r.doValidation(w,b,x)}e.onDidChangeWatchedFiles(w=>{let b=!1;w.changes.forEach(x=>{r.resetSchema(x.uri)&&(b=!0)}),b&&(h==null||h.requestRefresh())});let _=od(10,60,w=>r.parseJSONDocument(w));o.onDidClose(w=>{_.onDocumentRemoved(w.document)}),e.onShutdown(()=>{_.dispose()});function O(w){return _.get(w)}e.onCompletion((w,b)=>sn(t,async()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.doComplete(x,w.position,R)}return null},null,`Error while computing completions for ${w.textDocument.uri}`,b)),e.onHover((w,b)=>sn(t,async()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.doHover(x,w.position,R)}return null},null,`Error while computing hover for ${w.textDocument.uri}`,b)),e.onDocumentSymbol((w,b)=>Sn(t,()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return a?r.findDocumentSymbols2(x,R,{resultLimit:c}):r.findDocumentSymbols(x,R,{resultLimit:c})}return[]},[],`Error while computing document symbols for ${w.textDocument.uri}`,b)),e.onCodeAction((w,b)=>sn(t,async()=>{if(o.get(w.textDocument.uri)){let R=Te.CodeAction.create("Sort JSON",Te.CodeActionKind.Source.concat(".sort",".json"));return R.command={command:"json.sort",title:"Sort JSON"},[R]}return[]},[],`Error while computing code actions for ${w.textDocument.uri}`,b));function N(w,b,x){x.keepLines=y;let R=o.get(w.uri);if(R){let D=r.format(R,b??ad(R),x);if(D.length>m){let q=tt.applyEdits(R,D);return[Te.TextEdit.replace(ad(R),q)]}return D}return[]}e.onDocumentRangeFormatting((w,b)=>Sn(t,()=>N(w.textDocument,w.range,w.options),[],`Error while formatting range for ${w.textDocument.uri}`,b)),e.onDocumentFormatting((w,b)=>Sn(t,()=>N(w.textDocument,void 0,w.options),[],`Error while formatting ${w.textDocument.uri}`,b)),e.onDocumentColor((w,b)=>sn(t,async()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.findDocumentColors(x,R,{resultLimit:c})}return[]},[],`Error while computing document colors for ${w.textDocument.uri}`,b)),e.onColorPresentation((w,b)=>Sn(t,()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.getColorPresentations(x,R,w.color,w.range)}return[]},[],`Error while computing color presentations for ${w.textDocument.uri}`,b)),e.onFoldingRanges((w,b)=>Sn(t,()=>{let x=o.get(w.textDocument.uri);if(x){let R=x.languageId==="jsonc"?f:d;return r.getFoldingRanges(x,{rangeLimit:R})}return null},null,`Error while computing folding ranges for ${w.textDocument.uri}`,b)),e.onSelectionRanges((w,b)=>Sn(t,()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.getSelectionRanges(x,w.positions,R)}return[]},[],`Error while computing selection ranges for ${w.textDocument.uri}`,b)),e.onDocumentLinks((w,b)=>sn(t,async()=>{let x=o.get(w.textDocument.uri);if(x){let R=O(x);return r.findLinks(x,R)}return[]},[],`Error while computing links for ${w.textDocument.uri}`,b)),e.listen()}function ad(e){return Z.create(pe.create(0,0),e.positionAt(e.getText().length))}var Te,Oc,Nc,qc,Ec,Cc,Mc,sd,ud=ue(()=>{Te=ct(Wr());bi();Yl();rd();id();Li();(t=>t.type=new Te.NotificationType("json/schemaAssociations"))(Oc||(Oc={}));(t=>t.type=new Te.RequestType("vscode/content"))(Nc||(Nc={}));(t=>t.type=new Te.NotificationType("json/schemaContent"))(qc||(qc={}));(t=>t.type=new Te.RequestType("json/validate"))(Ec||(Ec={}));(t=>t.type=new Te.RequestType("json/languageStatus"))(Cc||(Cc={}));(t=>t.type=new Te.RequestType("json/sort"))(Mc||(Mc={}));sd={resolveRelativePath:(e,t)=>{let n=t.substring(0,t.lastIndexOf("/")+1);return Wf.resolvePath(Jt.parse(n),e).toString()}}});var fd=G(ld=>{(()=>{var e={46:(i,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(a,l,{signal:c}={}){return new Promise((d,f)=>{function m(){c==null||c.removeEventListener("abort",m),a.removeListener(l,h),a.removeListener("error",g)}function h(...v){m(),d(v)}function g(v){m(),f(v)}c==null||c.addEventListener("abort",m),a.on(l,h),a.on("error",g)})}},54:function(i,s,a){"use strict";var l=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let c=a(361),d=l(a(374)),f=l(a(304)),m=d.default("agent-base");function h(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(S=>S.indexOf("(https.js:")!==-1||S.indexOf("node:https:")!==-1)}function g(v,S){return new g.Agent(v,S)}(function(v){class S extends c.EventEmitter{constructor(y,u){super();let p=u;typeof y=="function"?this.callback=y:y&&(p=y),this.timeout=null,p&&typeof p.timeout=="number"&&(this.timeout=p.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:h()?443:80}set defaultPort(y){this.explicitDefaultPort=y}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:h()?"https:":"http:"}set protocol(y){this.explicitProtocol=y}callback(y,u,p){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(y,u){let p=Object.assign({},u);typeof p.secureEndpoint!="boolean"&&(p.secureEndpoint=h()),p.host==null&&(p.host="localhost"),p.port==null&&(p.port=p.secureEndpoint?443:80),p.protocol==null&&(p.protocol=p.secureEndpoint?"https:":"http:"),p.host&&p.path&&delete p.path,delete p.agent,delete p.hostname,delete p._defaultAgent,delete p.defaultPort,delete p.createConnection,y._last=!0,y.shouldKeepAlive=!1;let _=!1,O=null,N=p.timeout||this.timeout,w=D=>{y._hadError||(y.emit("error",D),y._hadError=!0)},b=()=>{O=null,_=!0;let D=new Error(`A "socket" was not created for HTTP request before ${N}ms`);D.code="ETIMEOUT",w(D)},x=D=>{_||(O!==null&&(clearTimeout(O),O=null),w(D))},R=D=>{if(_)return;if(O!=null&&(clearTimeout(O),O=null),q=D,Boolean(q)&&typeof q.addRequest=="function")return m("Callback returned another Agent instance %o",D.constructor.name),void D.addRequest(y,p);var q;if(D)return D.once("free",()=>{this.freeSocket(D,p)}),void y.onSocket(D);let j=new Error(`no Duplex stream was returned to agent-base for \`${y.method} ${y.path}\``);w(j)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(m("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof N=="number"&&N>0&&(O=setTimeout(b,N)),"port"in p&&typeof p.port!="number"&&(p.port=Number(p.port));try{m("Resolving socket for %o request: %o",p.protocol,`${y.method} ${y.path}`),Promise.resolve(this.promisifiedCallback(y,p)).then(R,x)}catch(D){Promise.reject(D).catch(x)}}else w(new Error("`callback` is not defined"))}freeSocket(y,u){m("Freeing socket %o %o",y.constructor.name,u),y.destroy()}destroy(){m("Destroying agent %o",this.constructor.name)}}v.Agent=S,v.prototype=v.Agent.prototype})(g||(g={})),i.exports=g},304:(i,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(a){return function(l,c){return new Promise((d,f)=>{a.call(this,l,c,(m,h)=>{m?f(m):d(h)})})}}},370:function(i,s,a){"use strict";var l=this&&this.__awaiter||function(y,u,p,_){return new(p||(p=Promise))(function(O,N){function w(R){try{x(_.next(R))}catch(D){N(D)}}function b(R){try{x(_.throw(R))}catch(D){N(D)}}function x(R){var D;R.done?O(R.value):(D=R.value,D instanceof p?D:new p(function(q){q(D)})).then(w,b)}x((_=_.apply(y,u||[])).next())})},c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(s,"__esModule",{value:!0});let d=c(a(808)),f=c(a(404)),m=c(a(310)),h=c(a(374)),g=c(a(46)),v=a(54),S=(0,h.default)("http-proxy-agent");class T extends v.Agent{constructor(u){let p;if(p=typeof u=="string"?m.default.parse(u):u,!p)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");S("Creating new HttpProxyAgent instance: %o",p),super(p);let _=Object.assign({},p);var O;this.secureProxy=p.secureProxy||typeof(O=_.protocol)=="string"&&/^https:?$/i.test(O),_.host=_.hostname||_.host,typeof _.port=="string"&&(_.port=parseInt(_.port,10)),!_.port&&_.host&&(_.port=this.secureProxy?443:80),_.host&&_.path&&(delete _.path,delete _.pathname),this.proxy=_}callback(u,p){return l(this,void 0,void 0,function*(){let{proxy:_,secureProxy:O}=this,N=m.default.parse(u.path),w;if(N.protocol||(N.protocol="http:"),N.hostname||(N.hostname=p.hostname||p.host||null),N.port==null&&(p.port,1)&&(N.port=String(p.port)),N.port==="80"&&(N.port=""),u.path=m.default.format(N),_.auth&&u.setHeader("Proxy-Authorization",`Basic ${Buffer.from(_.auth).toString("base64")}`),O?(S("Creating `tls.Socket`: %o",_),w=f.default.connect(_)):(S("Creating `net.Socket`: %o",_),w=d.default.connect(_)),u._header){let b,x;S("Regenerating stored HTTP header string for request"),u._header=null,u._implicitHeader(),u.output&&u.output.length>0?(S("Patching connection write() output buffer with updated header"),b=u.output[0],x=b.indexOf(`\r
\r
`)+4,u.output[0]=u._header+b.substring(x),S("Output buffer: %o",u.output)):u.outputData&&u.outputData.length>0&&(S("Patching connection write() output buffer with updated header"),b=u.outputData[0].data,x=b.indexOf(`\r
\r
`)+4,u.outputData[0].data=u._header+b.substring(x),S("Output buffer: %o",u.outputData[0].data))}return yield(0,g.default)(w,"connect"),w})}}s.default=T},201:function(i,s,a){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(a(370));function c(d){return new l.default(d)}(function(d){d.HttpProxyAgent=l.default,d.prototype=l.default.prototype})(c||(c={})),i.exports=c},146:function(i,s,a){"use strict";var l=this&&this.__awaiter||function(p,_,O,N){return new(O||(O=Promise))(function(w,b){function x(q){try{D(N.next(q))}catch(j){b(j)}}function R(q){try{D(N.throw(q))}catch(j){b(j)}}function D(q){var j;q.done?w(q.value):(j=q.value,j instanceof O?j:new O(function(W){W(j)})).then(x,R)}D((N=N.apply(p,_||[])).next())})},c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0});let d=c(a(808)),f=c(a(404)),m=c(a(310)),h=c(a(491)),g=c(a(374)),v=a(54),S=c(a(829)),T=g.default("https-proxy-agent:agent");class y extends v.Agent{constructor(_){let O;if(O=typeof _=="string"?m.default.parse(_):_,!O)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");T("creating new HttpsProxyAgent instance: %o",O),super(O);let N=Object.assign({},O);var w;this.secureProxy=O.secureProxy||typeof(w=N.protocol)=="string"&&/^https:?$/i.test(w),N.host=N.hostname||N.host,typeof N.port=="string"&&(N.port=parseInt(N.port,10)),!N.port&&N.host&&(N.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in N)&&(N.ALPNProtocols=["http 1.1"]),N.host&&N.path&&(delete N.path,delete N.pathname),this.proxy=N}callback(_,O){return l(this,void 0,void 0,function*(){let{proxy:N,secureProxy:w}=this,b;w?(T("Creating `tls.Socket`: %o",N),b=f.default.connect(N)):(T("Creating `net.Socket`: %o",N),b=d.default.connect(N));let x=Object.assign({},N.headers),R=`CONNECT ${O.host}:${O.port} HTTP/1.1\r
`;N.auth&&(x["Proxy-Authorization"]=`Basic ${Buffer.from(N.auth).toString("base64")}`);let{host:D,port:q,secureEndpoint:j}=O;(function(A,I){return Boolean(!I&&A===80||I&&A===443)})(q,j)||(D+=`:${q}`),x.Host=D,x.Connection="close";for(let A of Object.keys(x))R+=`${A}: ${x[A]}\r
`;let W=S.default(b);b.write(`${R}\r
`);let{statusCode:M,buffered:E}=yield W;if(M===200){if(_.once("socket",u),O.secureEndpoint){T("Upgrading socket connection to TLS");let A=O.servername||O.host;return f.default.connect(Object.assign(Object.assign({},function(I,...H){let V={},Y;for(Y in I)H.includes(Y)||(V[Y]=I[Y]);return V}(O,"host","hostname","path","port")),{socket:b,servername:A}))}return b}b.destroy();let L=new d.default.Socket({writable:!1});return L.readable=!0,_.once("socket",A=>{T("replaying proxy buffer for failed request"),h.default(A.listenerCount("data")>0),A.push(E),A.push(null)}),L})}}function u(p){p.resume()}s.default=y},18:function(i,s,a){"use strict";let l=(this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}})(a(146));function c(d){return new l.default(d)}(function(d){d.HttpsProxyAgent=l.default,d.prototype=l.default.prototype})(c||(c={})),i.exports=c},829:function(i,s,a){"use strict";var l=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0});let c=l(a(374)).default("https-proxy-agent:parse-proxy-response");s.default=function(d){return new Promise((f,m)=>{let h=0,g=[];function v(){let y=d.read();y?function(u){g.push(u),h+=u.length;let p=Buffer.concat(g,h);if(p.indexOf(`\r
\r
`)===-1)return c("have not received end of HTTP headers yet..."),void v();let _=p.toString("ascii",0,p.indexOf(`\r
`)),O=+_.split(" ")[1];c("got proxy server response: %o",_),f({statusCode:O,buffered:p})}(y):d.once("readable",v)}function S(y){c("onclose had error %o",y)}function T(){c("onend")}d.on("error",function y(u){d.removeListener("end",T),d.removeListener("error",y),d.removeListener("close",S),d.removeListener("readable",v),c("onerror %o",u),m(u)}),d.on("close",S),d.on("end",T),v()})}},539:function(i,s,a){"use strict";var l,c=this&&this.__extends||(l=function(w,b){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,R){x.__proto__=R}||function(x,R){for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(x[D]=R[D])},l(w,b)},function(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function x(){this.constructor=w}l(w,b),w.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}),d=this&&this.__assign||function(){return d=Object.assign||function(w){for(var b,x=1,R=arguments.length;x<R;x++)for(var D in b=arguments[x])Object.prototype.hasOwnProperty.call(b,D)&&(w[D]=b[D]);return w},d.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.getErrorStatusDescription=s.xhr=s.configure=void 0;var f=a(685),m=a(687),h=a(310),g=a(472),v=a(796),S=a(201),T=a(18);if(process.env.VSCODE_NLS_CONFIG){var y=process.env.VSCODE_NLS_CONFIG;g.config(JSON.parse(y))}var u=g.loadMessageBundle(),p=void 0,_=!0;function O(w){var b;return new Promise(function(x,R){var D=(0,h.parse)(w.url),q={hostname:D.hostname,agent:!!w.agent&&w.agent,port:D.port?parseInt(D.port):D.protocol==="https:"?443:80,path:D.path,method:w.type||"GET",headers:w.headers,rejectUnauthorized:typeof w.strictSSL!="boolean"||w.strictSSL};w.user&&w.password&&(q.auth=w.user+":"+w.password);var j=function(W){if(W.statusCode>=300&&W.statusCode<400&&w.followRedirects&&w.followRedirects>0&&W.headers.location){var M=W.headers.location;M.startsWith("/")&&(M=(0,h.format)({protocol:D.protocol,hostname:D.hostname,port:D.port,pathname:M})),x(O(function(E){for(var L=[],A=1;A<arguments.length;A++)L[A-1]=arguments[A];return L.forEach(function(I){return Object.keys(I).forEach(function(H){return E[H]=I[H]})}),E}({},w,{url:M,followRedirects:w.followRedirects-1})))}else x({req:b,res:W})};(b=D.protocol==="https:"?m.request(q,j):f.request(q,j)).on("error",R),w.timeout&&b.setTimeout(w.timeout),w.data&&b.write(w.data),b.end(),w.token&&(w.token.isCancellationRequested&&b.destroy(new N),w.token.onCancellationRequested(function(){b.destroy(new N)}))})}s.configure=function(w,b){p=w,_=b},s.xhr=function(w){return typeof(w=d({},w)).strictSSL!="boolean"&&(w.strictSSL=_),w.agent||(w.agent=function(b,x){x===void 0&&(x={});var R=(0,h.parse)(b),D=x.proxyUrl||function(W){return W.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:W.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(R);if(!D)return null;var q=(0,h.parse)(D);if(!/^https?:$/.test(q.protocol))return null;var j={host:q.hostname,port:Number(q.port),auth:q.auth,rejectUnauthorized:typeof x.strictSSL!="boolean"||x.strictSSL,protocol:q.protocol};return R.protocol==="http:"?S(j):T(j)}(w.url,{proxyUrl:p,strictSSL:_})),typeof w.followRedirects!="number"&&(w.followRedirects=5),O(w).then(function(b){return new Promise(function(x,R){var D,q,j=b.res,W=j,M=!1,E=j.headers&&j.headers["content-encoding"];if(E&&(D=w.type,q=b.res.statusCode,!(D==="HEAD"||q>=100&&q<200||q===204||q===304))){var L={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if(E==="gzip"){var A=v.createGunzip(L);j.pipe(A),W=A}else if(E==="deflate"){var I=v.createInflate(L);j.pipe(I),W=I}}var H=[];W.on("data",function(V){return H.push(V)}),W.on("end",function(){if(!M){if(M=!0,w.followRedirects>0&&(j.statusCode>=300&&j.statusCode<=303||j.statusCode===307)){var V=j.headers.location;if(V.startsWith("/")){var Y=(0,h.parse)(w.url);V=(0,h.format)({protocol:Y.protocol,hostname:Y.hostname,port:Y.port,pathname:V})}if(V){var re={type:w.type,url:V,user:w.user,password:w.password,headers:w.headers,timeout:w.timeout,followRedirects:w.followRedirects-1,data:w.data,token:w.token};return void(0,s.xhr)(re).then(x,R)}}var he=Buffer.concat(H),Pe={responseText:he.toString(),body:he,status:j.statusCode,headers:j.headers||{}};j.statusCode>=200&&j.statusCode<300||j.statusCode===1223?x(Pe):R(Pe)}}),W.on("error",function(V){var Y;Y=N.is(V)?V:{responseText:u("error","Unable to access {0}. Error: {1}",w.url,V.message),body:Buffer.concat(H),status:500,headers:{}},M=!0,R(Y)}),w.token&&(w.token.isCancellationRequested&&W.destroy(new N),w.token.onCancellationRequested(function(){W.destroy(new N)}))})},function(b){var x;return x=N.is(b)?b:{responseText:w.agent?u("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",w.url,b.message):u("error.cannot.connect","Unable to connect to {0}. Error: {1}",w.url,b.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(x)})},s.getErrorStatusDescription=function(w){if(!(w<400))switch(w){case 400:return u("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return u("status.401","Unauthorized. The server is refusing to respond.");case 403:return u("status.403","Forbidden. The server is refusing to respond.");case 404:return u("status.404","Not Found. The requested location could not be found.");case 405:return u("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return u("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return u("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return u("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return u("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return u("status.410","Gone. The requested page is no longer available.");case 411:return u("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return u("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return u("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return u("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return u("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return u("status.500","Internal Server Error.");case 501:return u("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 502:return u("status.502","Bad Gateway. The upstream server did not respond.");case 503:return u("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return u("status.416","HTTP status code {0}",w)}};var N=function(w){function b(){var x=w.call(this,"The user aborted a request")||this;return x.name="AbortError",Object.setPrototypeOf(x,b.prototype),x}return c(b,w),b.is=function(x){return x instanceof b},b}(Error)},800:(i,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.config=s.loadMessageBundle=s.localize=s.format=s.setPseudo=s.isPseudo=s.isDefined=s.BundleFormat=s.MessageFormat=void 0;var l,c,d,f=a(926);function m(g){return g!==void 0}function h(g,v){return s.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?g:g.replace(/\{(\d+)\}/g,function(S,T){var y=T[0],u=v[y],p=S;return typeof u=="string"?p=u:typeof u!="number"&&typeof u!="boolean"&&u!=null||(p=String(u)),p})}(d=s.MessageFormat||(s.MessageFormat={})).file="file",d.bundle="bundle",d.both="both",(c=s.BundleFormat||(s.BundleFormat={})).standalone="standalone",c.languagePack="languagePack",function(g){g.is=function(v){var S=v;return S&&m(S.key)&&m(S.comment)}}(l||(l={})),s.isDefined=m,s.isPseudo=!1,s.setPseudo=function(g){s.isPseudo=g},s.format=h,s.localize=function(g,v){for(var S=[],T=2;T<arguments.length;T++)S[T-2]=arguments[T];return h(v,S)},s.loadMessageBundle=function(g){return(0,f.default)().loadMessageBundle(g)},s.config=function(g){return(0,f.default)().config(g)}},926:(i,s)=>{"use strict";var a;function l(){if(a===void 0)throw new Error("No runtime abstraction layer installed");return a}Object.defineProperty(s,"__esModule",{value:!0}),function(c){c.install=function(d){if(d===void 0)throw new Error("No runtime abstraction layer provided");a=d}}(l||(l={})),s.default=l},472:(i,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.config=s.loadMessageBundle=s.BundleFormat=s.MessageFormat=void 0;var l=a(17),c=a(147),d=a(926),f=a(800),m=a(800);Object.defineProperty(s,"MessageFormat",{enumerable:!0,get:function(){return m.MessageFormat}}),Object.defineProperty(s,"BundleFormat",{enumerable:!0,get:function(){return m.BundleFormat}});var h,g,v=Object.prototype.toString;function S(b){return v.call(b)==="[object Number]"}function T(b){return v.call(b)==="[object String]"}function y(b){return JSON.parse(c.readFileSync(b,"utf8"))}function u(b){return function(x,R){for(var D=[],q=2;q<arguments.length;q++)D[q-2]=arguments[q];return S(x)?x>=b.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(b[x],D):T(R)?(console.warn("Message ".concat(R," didn't get externalized correctly.")),(0,f.format)(R,D)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function p(b,x){return h[b]=x,x}function _(b){try{return function(x){var R=y(l.join(x,"nls.metadata.json")),D=Object.create(null);for(var q in R){var j=R[q];D[q]=j.messages}return D}(b)}catch(x){return void console.log("Generating default bundle from meta data failed.",x)}}function O(b,x){var R;if(g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0)try{R=function(q,j){var W,M,E,L=l.join(g.cacheRoot,"".concat(q.id,"-").concat(q.hash,".json")),A=!1,I=!1;try{return W=JSON.parse(c.readFileSync(L,{encoding:"utf8",flag:"r"})),M=L,E=new Date,c.utimes(M,E,E,function(){}),W}catch(H){if(H.code==="ENOENT")I=!0;else{if(!(H instanceof SyntaxError))throw H;console.log("Syntax error parsing message bundle: ".concat(H.message,".")),c.unlink(L,function(V){V&&console.error("Deleting corrupted bundle ".concat(L," failed."))}),A=!0}}if(W=function(H,V){var Y=g.translationsConfig[H.id];if(Y){var re=y(Y).contents,he=y(l.join(V,"nls.metadata.json")),Pe=Object.create(null);for(var Ne in he){var yt=he[Ne],jt=re["".concat(H.outDir,"/").concat(Ne)];if(jt){for(var fn=[],Lt=0;Lt<yt.keys.length;Lt++){var $e=yt.keys[Lt],Ft=jt[T($e)?$e:$e.key];Ft===void 0&&(Ft=yt.messages[Lt]),fn.push(Ft)}Pe[Ne]=fn}else Pe[Ne]=yt.messages}return Pe}}(q,j),!W||A)return W;if(I)try{c.writeFileSync(L,JSON.stringify(W),{encoding:"utf8",flag:"wx"})}catch(H){if(H.code==="EEXIST")return W;throw H}return W}(b,x)}catch(q){console.log("Load or create bundle failed ",q)}if(!R){if(g.languagePackSupport)return _(x);var D=function(q){for(var j=g.language;j;){var W=l.join(q,"nls.bundle.".concat(j,".json"));if(c.existsSync(W))return W;var M=j.lastIndexOf("-");j=M>0?j.substring(0,M):void 0}if(j===void 0&&(W=l.join(q,"nls.bundle.json"),c.existsSync(W)))return W}(x);if(D)try{return y(D)}catch(q){console.log("Loading in the box message bundle failed.",q)}R=_(x)}return R}function N(b){if(!b)return f.localize;var x=l.extname(b);if(x&&(b=b.substr(0,b.length-x.length)),g.messageFormat===f.MessageFormat.both||g.messageFormat===f.MessageFormat.bundle){var R=function(A){for(var I,H=l.dirname(A);I=l.join(H,"nls.metadata.header.json"),!c.existsSync(I);){var V=l.dirname(H);if(V===H){I=void 0;break}H=V}return I}(b);if(R){var D=l.dirname(R),q=h[D];if(q===void 0)try{var j=JSON.parse(c.readFileSync(R,"utf8"));try{var W=O(j,D);q=p(D,W?{header:j,nlsBundle:W}:null)}catch(A){console.error("Failed to load nls bundle",A),q=p(D,null)}}catch(A){console.error("Failed to read header file",A),q=p(D,null)}if(q){var M=b.substr(D.length+1).replace(/\\/g,"/"),E=q.nlsBundle[M];return E===void 0?(console.error("Messages for file ".concat(b," not found. See console for details.")),function(){return"Messages not found."}):u(E)}}}if(g.messageFormat===f.MessageFormat.both||g.messageFormat===f.MessageFormat.file)try{var L=y(function(A){var I;if(!(g.cacheLanguageResolution&&I)){if(f.isPseudo||!g.language)I=".nls.json";else for(var H=g.language;H;){var V=".nls."+H+".json";if(c.existsSync(A+V)){I=V;break}var Y=H.lastIndexOf("-");Y>0?H=H.substring(0,Y):(I=".nls.json",H=null)}g.cacheLanguageResolution}return A+I}(b));return Array.isArray(L)?u(L):(0,f.isDefined)(L.messages)&&(0,f.isDefined)(L.keys)?u(L.messages):(console.error("String bundle '".concat(b,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(A){A.code!=="ENOENT"&&console.error("Failed to load single file bundle",A)}return console.error("Failed to load message bundle for file ".concat(b)),function(){return"Failed to load message bundle. See console for details."}}function w(b){return b&&(T(b.locale)&&(g.locale=b.locale.toLowerCase(),g.language=g.locale,h=Object.create(null)),b.messageFormat!==void 0&&(g.messageFormat=b.messageFormat),b.bundleFormat===f.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,f.setPseudo)(g.locale==="pseudo"),N}(function(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},T(process.env.VSCODE_NLS_CONFIG))try{var b=JSON.parse(process.env.VSCODE_NLS_CONFIG),x=void 0;if(b.availableLanguages){var R=b.availableLanguages["*"];T(R)&&(x=R)}if(T(b.locale)&&(g.locale=b.locale.toLowerCase()),x===void 0?g.language=g.locale:x!=="en"&&(g.language=x),function(q){return q===!0||q===!1}(b._languagePackSupport)&&(g.languagePackSupport=b._languagePackSupport),T(b._cacheRoot)&&(g.cacheRoot=b._cacheRoot),T(b._languagePackId)&&(g.languagePackId=b._languagePackId),T(b._translationsConfigFile)){g.translationsConfigFile=b._translationsConfigFile;try{g.translationsConfig=y(g.translationsConfigFile)}catch{if(b._corruptedFile){var D=l.dirname(b._corruptedFile);c.exists(D,function(j){j&&c.writeFile(b._corruptedFile,"corrupted","utf8",function(W){console.error(W)})})}}}}catch{}(0,f.setPseudo)(g.locale==="pseudo"),h=Object.create(null)})(),s.loadMessageBundle=N,s.config=w,d.default.install(Object.freeze({loadMessageBundle:N,config:w}))},374:(i,s)=>{function a(){}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(l){return a}},491:i=>{"use strict";i.exports=require("assert")},361:i=>{"use strict";i.exports=require("events")},147:i=>{"use strict";i.exports=require("fs")},685:i=>{"use strict";i.exports=require("http")},687:i=>{"use strict";i.exports=require("https")},808:i=>{"use strict";i.exports=require("net")},17:i=>{"use strict";i.exports=require("path")},404:i=>{"use strict";i.exports=require("tls")},310:i=>{"use strict";i.exports=require("url")},796:i=>{"use strict";i.exports=require("zlib")}},t={},n=function i(s){var a=t[s];if(a!==void 0)return a.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,i),l.exports}(539),r=ld;for(var o in n)r[o]=n[o];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})()});var Xy={};function zy(){return{getContent(e,t){return(0,cr.xhr)({url:e,followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate"}}).then(r=>r.responseText,r=>Promise.reject(r.responseText||(0,cr.getErrorStatusDescription)(r.status)||r.toString()))}}}function Jy(){return{getContent(e,t){return new Promise((n,r)=>{let o=Jt.parse(e);pd.readFile(o.fsPath,t,(i,s)=>{if(i)return r(i);n(s.toString())})})}}}var dd,cr,pd,ar,Gy,hd=ue(()=>{dd=ct(Jl());bi();ud();cr=ct(fd());Li();pd=ct(require("fs")),ar=(0,dd.createConnection)();console.log=ar.console.log.bind(ar.console);console.error=ar.console.error.bind(ar.console);process.on("unhandledRejection",e=>{ar.console.error(tr("Unhandled exception",e))});Gy={timer:{setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}}},file:Jy(),http:zy(),configureHttpRequests:cr.configure};cd(ar,Gy)});hd();
//# sourceMappingURL=server.js.map
